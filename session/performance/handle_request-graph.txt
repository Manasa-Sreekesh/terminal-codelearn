Thread ID: 70158526852800
Fiber ID: 70158526882260
Total Time: 0.011992000000000003
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.43%      0.012      0.000      0.000      0.012                1      <Module::CodeProfiler>#profile_logger
                      0.012      0.000      0.000      0.012              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              1/1      <Module::CodeProfiler>#profile_logger
  98.57%   1.67%      0.012      0.000      0.000      0.012                1      MyServer#handle_request
                      0.006      0.000      0.000      0.006              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002             1/25      Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000             4/11      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      MyServer#handle_request
  49.59%   0.30%      0.006      0.000      0.000      0.006                2      Moped::Collection#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Collection#insert
  49.23%   0.35%      0.006      0.000      0.000      0.006                2      Moped::Session#with
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
  47.81%   0.10%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
  47.71%   0.38%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#with_node
                      0.006      0.000      0.000      0.006              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
  46.93%   0.24%      0.006      0.000      0.000      0.006                2      Moped::Cluster#with_primary
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/3      Moped::Node#insert
                      0.003      0.000      0.000      0.003              1/3      Moped::Node#command
  38.53%   0.26%      0.005      0.000      0.000      0.005                3      Moped::Node#process
                      0.005      0.000      0.000      0.004              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.004              3/3      Moped::Node#process
  37.61%   0.28%      0.005      0.000      0.000      0.004                3      Moped::Node#flush
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#flush
  37.19%   0.38%      0.004      0.000      0.000      0.004                3      Moped::Node#logging
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#logging
  35.31%   0.87%      0.004      0.000      0.000      0.004                3      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002              3/3      Moped::Connection#write
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/13      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/13      Mutex#synchronize
                      0.000      0.000      0.000      0.000             1/13      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/13      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Enumerable#partition
                      0.001      0.000      0.000      0.001             3/13      Moped::Connection#write
                      0.003      0.000      0.000      0.003             2/13      Moped::Cluster#refresh
  34.97%   0.73%      0.004      0.000      0.000      0.004               13     *Array#each
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/3      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/9      Array#include?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
  28.60%   0.46%      0.003      0.000      0.000      0.003                2      Moped::Cluster#nodes
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
  26.08%   0.29%      0.003      0.000      0.000      0.003                2      Moped::Cluster#refresh
                      0.003      0.000      0.000      0.003             2/13      Array#each
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/25      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000             3/25      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/25      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             2/25      Logger#initialize
                      0.000      0.000      0.000      0.000             1/25      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/25      Integer#times
                      0.000      0.000      0.000      0.000             1/25      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#connection
                      0.000      0.000      0.000      0.000             2/25      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/25      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#command
                      0.000      0.000      0.000      0.000             1/25      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Reel::Connection#respond
                      0.002      0.000      0.000      0.002             1/25      MyServer#handle_request
  25.50%   0.90%      0.003      0.000      0.000      0.003               25     *Class#new
                      0.002      0.000      0.000      0.002              1/1      TerminalUser#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger#initialize
                      0.000      0.000      0.000      0.000              3/3      StringIO#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/3      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000            16/19      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/5      Time#initialize
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
                      0.000      0.000      0.000      0.000              2/5      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              2/2      Mutex#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::Formatter#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Class>#allocate
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Array#each
  25.18%   0.34%      0.003      0.000      0.000      0.003                1      Moped::Node#refresh
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
  24.32%   0.10%      0.003      0.000      0.000      0.003                1      Moped::Node#command
                      0.003      0.000      0.000      0.003              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  17.81%   0.55%      0.002      0.000      0.000      0.002                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/25      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
  17.70%   0.50%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              3/3      Moped::Node#ensure_connected
  16.21%   0.27%      0.002      0.000      0.000      0.002                3      Moped::Connection#write
                      0.001      0.000      0.000      0.001             3/13      Array#each
                      0.001      0.000      0.000      0.000              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
  15.59%   0.16%      0.002      0.000      0.000      0.002                2      Moped::Node#insert
                      0.002      0.000      0.000      0.002              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  14.11%   1.31%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              3/4      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#read
  11.76%   0.93%      0.001      0.000      0.000      0.001                4      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              3/3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              4/4      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
  11.29%   0.34%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
  10.95%  10.92%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.00%   0.48%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001             3/10      Moped::Connection#receive_replies
   8.74%   0.48%      0.001      0.000      0.000      0.001               10      Array#map
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   8.50%   1.16%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.001      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   8.05%   0.58%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000             4/21      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Node#ensure_connected
   7.96%   0.25%      0.001      0.000      0.000      0.001                3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001             3/10      Array#map
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#map
   7.42%   0.07%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
   7.35%   0.07%      0.001      0.000      0.000      0.001                1      Moped::Connection#read
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   7.26%   0.19%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
   7.07%   0.47%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#ensure_connected
   6.84%   0.05%      0.001      0.000      0.000      0.001                1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.000      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.001      0.000      0.000      0.001              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
   6.77%   0.91%      0.001      0.000      0.000      0.001                5      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
   6.76%   0.14%      0.001      0.000      0.000      0.001                1      Moped::Connection#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
   6.62%   0.08%      0.001      0.000      0.000      0.001                1      Moped::Sockets::Connectable::ClassMethods#connect
                      0.001      0.000      0.000      0.001              1/1      Timeout#timeout
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
   6.54%   0.64%      0.001      0.000      0.000      0.001                1      Timeout#timeout
                      0.001      0.000      0.000      0.000              1/1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              3/3      BasicSocket#setsockopt
                      0.000      0.000      0.000      0.000              1/1      Thread#join
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#start
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Thread#kill
                      0.000      0.000      0.000      0.000              1/1      IO#set_encoding
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
                      0.000      0.000      0.000      0.000             1/35      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Fixnum#zero?
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.001      0.000      0.000      0.001              2/3      Array#each
   6.15%   0.17%      0.001      0.000      0.000      0.001                3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      <Class::Moped::BSON::Document>#serialize
   5.98%   0.53%      0.001      0.000      0.000      0.001                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              3/5      Hash#each
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             6/21      String#bytesize
                      0.000      0.000      0.000      0.000             3/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::TCP#initialize
   5.68%   0.43%      0.001      0.000      0.000      0.001                6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              1/1      TCPSocket#initialize
                      0.000      0.000      0.000      0.000             3/26      IO#write
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      TerminalUser#block_for_output_to_come
   5.32%   0.61%      0.001      0.000      0.001      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   5.25%   0.06%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      Timeout#timeout
   4.24%   0.11%      0.001      0.000      0.000      0.000                1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
   4.14%   0.12%      0.000      0.000      0.000      0.000                2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
   4.12%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#handle_socket_errors
   3.92%   0.41%      0.000      0.000      0.000      0.000                1      TCPSocket#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
   3.90%   0.08%      0.000      0.000      0.000      0.000                1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              1/2      Enumerator#each
   3.86%   0.14%      0.000      0.000      0.000      0.000                2      Integer#times
                      0.000      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   3.79%   0.18%      0.000      0.000      0.000      0.000                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   3.64%   0.16%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Integer#times
   3.55%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
   3.49%   0.69%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              6/7      IO::readable#readbyte
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             5/12      Hash#[]=
                      0.000      0.000      0.000      0.000              5/5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   3.35%   1.01%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   3.21%   1.08%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/35      Array#pack
                      0.000      0.000      0.000      0.000             8/21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   3.19%   0.37%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000              1/8      String#[]=
                      0.000      0.000      0.000      0.000             2/21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
   3.19%   0.59%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              1/1      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#with_connection
   3.10%   0.21%      0.000      0.000      0.000      0.000                3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   3.05%   0.13%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   2.92%   0.53%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/11      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#respond
                      0.000      0.000      0.000      0.000             4/11      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#block_for_output_to_come
   2.90%   1.33%      0.000      0.000      0.000      0.000               11      Kernel#puts
                      0.000      0.000      0.000      0.000            11/11      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   2.43%   0.08%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.41%   0.19%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   2.35%   0.18%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   2.34%   0.24%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000             1/21      String#bytesize
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
   2.32%   0.19%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   2.31%   1.38%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   2.20%   0.19%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/26      IO#printf
                      0.000      0.000      0.000      0.000            22/26      IO#puts
                      0.000      0.000      0.000      0.000             3/26      Moped::Sockets::Connectable#handle_socket_errors
   2.07%   2.07%      0.000      0.000      0.000      0.000               26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   2.01%   0.67%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#__bson_dump__
   1.95%   0.68%      0.000      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   1.83%   1.18%      0.000      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000            16/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             3/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   1.80%   0.61%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             4/23      String#encode
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   1.68%   0.13%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   1.67%   0.07%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/5      Hash#each
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Kernel#puts
   1.57%   0.91%      0.000      0.000      0.000      0.000               11      IO#puts
                      0.000      0.000      0.000      0.000            22/26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_bson_cstring
   1.57%   0.75%      0.000      0.000      0.000      0.000               19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            19/23      String#encode
                      0.000      0.000      0.000      0.000            19/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.50%   0.76%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.42%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   1.37%   0.18%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.37%   0.20%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.34%   0.18%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   1.28%   0.47%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   1.24%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.19%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.19%   0.71%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              6/8      Fixnum#*
                      0.000      0.000      0.000      0.000              3/6      Fixnum#<=>
                      0.000      0.000      0.000      0.000              3/7      Fixnum#divmod
                      0.000      0.000      0.000      0.000              3/3      Bignum#<=>
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
   1.18%   0.34%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.13%   0.36%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             3/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   1.13%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.95%   0.20%      0.000      0.000      0.000      0.000                1      Logger#initialize
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.91%   0.23%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.90%   0.23%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.90%   0.27%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             1/35      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             4/35      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/35      Moped::BSON::Extensions::String#__bson_dump__
   0.89%   0.89%      0.000      0.000      0.000      0.000               35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.88%   0.24%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.86%   0.13%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.83%   0.58%      0.000      0.000      0.000      0.000                3      StringIO#initialize
                      0.000      0.000      0.000      0.000              3/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   0.79%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.77%   0.22%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/7      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.69%   0.17%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.68%   0.18%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.67%   0.13%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/23      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            19/23      Moped::BSON::Extensions::String#to_utf8_binary
   0.63%   0.63%      0.000      0.000      0.000      0.000               23      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.61%   0.15%      0.000      0.000      0.000      0.000                1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Kernel#respond_to?
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connect
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connected?
   0.54%   0.36%      0.000      0.000      0.000      0.000               10      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.54%   0.26%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.53%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.53%   0.26%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/35      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.53%   0.53%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.53%   0.26%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.53%   0.53%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.52%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.51%   0.22%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.51%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/4      Hash#each
   0.49%   0.18%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.49%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Timeout#timeout
   0.49%   0.49%      0.000      0.000      0.000      0.000                3      BasicSocket#setsockopt
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.48%   0.23%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.47%   0.47%      0.000      0.000      0.000      0.000                1      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.46%   0.20%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.45%   0.45%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.45%   0.23%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/3      Moped::Node#refresh
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.45%   0.13%      0.000      0.000      0.000      0.000                3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              3/5      Time#initialize
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.45%   0.26%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.43%   0.43%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.43%   0.24%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.43%   0.23%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/26      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             5/26      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000            19/26      Moped::BSON::Extensions::String#to_utf8_binary
   0.43%   0.43%      0.000      0.000      0.000      0.000               26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.43%   0.43%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.42%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.41%   0.41%      0.000      0.000      0.000      0.000                3      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.41%   0.07%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/12      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/12      MyServer#handle_request
                      0.000      0.000      0.000      0.000             3/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000             5/12      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.40%   0.32%      0.000      0.000      0.000      0.000               12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.40%   0.23%      0.000      0.000      0.000      0.000                7      IO::readable#readbyte
                      0.000      0.000      0.000      0.000              7/7      StringIO#getbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/22      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/22      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/22      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             1/22      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000            16/22      Moped::Threaded#stack
   0.39%   0.39%      0.000      0.000      0.000      0.000               22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.39%   0.39%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.38%   0.38%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.38%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.37%   0.37%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.36%   0.36%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
   0.36%   0.36%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.36%   0.04%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.36%   0.14%      0.000      0.000      0.000      0.000                1      Thread#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.35%   0.35%      0.000      0.000      0.000      0.000                1      <Class::Thread>#start
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#needs_refresh?
   0.35%   0.27%      0.000      0.000      0.000      0.000                1      Comparable#<
                      0.000      0.000      0.000      0.000              1/1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.34%   0.15%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/4      Array#clear
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.33%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.33%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.33%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.33%   0.11%      0.000      0.000      0.000      0.000                1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000              1/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.32%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.32%   0.12%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.31%   0.15%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/19      Class#allocate
                      0.000      0.000      0.000      0.000             2/19      Kernel#dup
                      0.000      0.000      0.000      0.000            16/19      Class#new
   0.31%   0.31%      0.000      0.000      0.000      0.000               19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.30%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.30%   0.18%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
   0.29%   0.29%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.29%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#alive?
   0.29%   0.29%      0.000      0.000      0.000      0.000                1      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.29%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.29%   0.17%      0.000      0.000      0.000      0.000                5      Time#initialize
                      0.000      0.000      0.000      0.000              5/6      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.28%   0.28%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.28%   0.28%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/4      StringIO#initialize
   0.28%   0.28%      0.000      0.000      0.000      0.000                4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.27%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000             1/10      Array#map
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.27%   0.27%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/21      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             2/21      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             6/21      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/21      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/21      Moped::BSON::Extensions::String#__bson_dump__
   0.27%   0.27%      0.000      0.000      0.000      0.000               21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.27%   0.27%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.27%   0.18%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              2/2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      Time#usec
                      0.000      0.000      0.000      0.000              1/8      <Class::Time>#at
                      0.000      0.000      0.000      0.000              6/8      Time#to_s
   0.25%   0.25%      0.000      0.000      0.000      0.000                8      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.25%   0.15%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      String#unpack
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.25%   0.25%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.24%   0.08%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.24%   0.08%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.24%   0.11%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Numeric#quo
                      0.000      0.000      0.000      0.000              1/6      Fixnum#+
                      0.000      0.000      0.000      0.000              1/8      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
   0.24%   0.24%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.23%   0.16%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              2/7      String#intern
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.23%   0.23%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.23%   0.23%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.23%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.23%   0.16%      0.000      0.000      0.000      0.000                4      Time#-
                      0.000      0.000      0.000      0.000              4/4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.23%   0.23%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.23%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
                      0.000      0.000      0.000      0.000              5/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.23%   0.23%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.21%   0.15%      0.000      0.000      0.000      0.000                1      Time#utc
                      0.000      0.000      0.000      0.000              2/6      Fixnum#<=>
                      0.000      0.000      0.000      0.000              1/7      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.20%   0.20%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
   0.20%   0.10%      0.000      0.000      0.000      0.000                1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.20%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.20%   0.13%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.20%   0.20%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.19%   0.19%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.19%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.19%   0.12%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.18%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.18%   0.16%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.18%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      <Class::Time>#at
                      0.000      0.000      0.000      0.000              5/6      Time#initialize
   0.17%   0.17%      0.000      0.000      0.000      0.000                6      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.17%   0.13%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/7      IO::readable#readbyte
   0.17%   0.17%      0.000      0.000      0.000      0.000                7      StringIO#getbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.16%   0.16%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.16%   0.12%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      IO::readable#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.16%   0.03%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
   0.16%   0.09%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/1      Float#==
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.16%   0.16%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Time#<=>
                      0.000      0.000      0.000      0.000              2/6      Time#utc
                      0.000      0.000      0.000      0.000              3/6      Time#to_s
   0.15%   0.15%      0.000      0.000      0.000      0.000                6      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.15%   0.15%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.15%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.14%   0.14%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.14%   0.10%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.14%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.13%   0.13%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.13%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.13%   0.12%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Time#usec
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Time#utc
                      0.000      0.000      0.000      0.000              3/7      Time#to_s
   0.13%   0.13%      0.000      0.000      0.000      0.000                7      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.13%   0.13%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.12%   0.12%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.12%   0.12%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.12%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Connection#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.11%   0.11%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.11%   0.03%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.11%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/9      Array#each
   0.09%   0.09%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Symbol#to_proc
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.08%   0.08%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.08%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
   0.08%   0.05%      0.000      0.000      0.000      0.000                1      Time#<=>
                      0.000      0.000      0.000      0.000              1/6      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Thread#kill
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
   0.08%   0.03%      0.000      0.000      0.000      0.000                1      Numeric#quo
                      0.000      0.000      0.000      0.000              1/1      Rational#/
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      IO#set_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.08%   0.04%      0.000      0.000      0.000      0.000                1      Time#usec
                      0.000      0.000      0.000      0.000              2/7      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/8      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.08%   0.04%      0.000      0.000      0.000      0.000                1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Connection#with_connection
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#-
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.07%   0.04%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Time#to_s
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.06%   0.03%      0.000      0.000      0.000      0.000                1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#new
                      0.000      0.000      0.000      0.000              2/3      <Module::PTY>#spawn
   0.05%   0.05%      0.000      0.000      0.000      0.000                3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Logger::LogDevice#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#respond_to?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.04%   0.03%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Numeric#quo
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Rational#/
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Logger::Formatter#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.03%   0.03%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Class>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      String#hash

* indicates recursively called methods
Thread ID: 70158526906160
Fiber ID: 70158526920740
Total Time: 0.007973000000000008
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.88%      0.008      0.000      0.000      0.008                1      Session::AbstractSession#_initialize
                      0.008      0.000      0.000      0.008              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.008      0.000      0.000      0.008              1/1      Session::AbstractSession#_initialize
  99.12%   1.67%      0.008      0.000      0.000      0.008                1      Kernel#loop
                      0.004      0.000      0.004      0.000              3/3      IO#readpartial
                      0.003      0.000      0.003      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.004      0.000      0.004      0.000              3/3      Kernel#loop
  51.46%   1.67%      0.004      0.000      0.004      0.000                3      IO#readpartial
--------------------------------------------------------------------------------
                      0.003      0.000      0.003      0.000              2/2      Kernel#loop
  42.05%   3.75%      0.003      0.000      0.003      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#loop
   2.36%   1.25%      0.000      0.000      0.000      0.000                3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              9/9      Module#===
                      0.000      0.000      0.000      0.000              9/9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.27%   0.29%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.98%   0.98%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.60%   0.60%      0.000      0.000      0.000      0.000                9      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.50%   0.50%      0.000      0.000      0.000      0.000                9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.31%   0.14%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.18%   0.10%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
Thread ID: 70158526920960
Fiber ID: 70158526920660
Total Time: 0.007713999999999999
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.06%      0.008      0.000      0.007      0.000                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   3.47%   1.72%      0.000      0.000      0.000      0.000                1      Kernel#sleep

* indicates recursively called methods
Thread ID: 70158526852800
Fiber ID: 70158527913360
Total Time: 0.010163000000000033
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.48%      0.010      0.000      0.000      0.010                1      <Module::CodeProfiler>#profile_logger
                      0.010      0.000      0.000      0.010              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.010      0.000      0.000      0.010              1/1      <Module::CodeProfiler>#profile_logger
  99.52%   1.55%      0.010      0.000      0.000      0.010                1      MyServer#handle_request
                      0.003      0.000      0.000      0.003              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002             1/15      Class#new
                      0.002      0.000      0.000      0.002              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000              1/3      Kernel#nil?
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      MyServer#handle_request
  33.27%   0.32%      0.003      0.000      0.000      0.003                2      Moped::Collection#insert
                      0.003      0.000      0.000      0.003              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Collection#insert
  32.83%   0.44%      0.003      0.000      0.000      0.003                2      Moped::Session#with
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session#with
  30.76%   0.15%      0.003      0.000      0.000      0.003                2      Moped::Session::Context#insert
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#insert
  30.61%   0.42%      0.003      0.000      0.000      0.003                2      Moped::Session::Context#with_node
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#with_node
  29.53%   0.41%      0.003      0.000      0.000      0.003                2      Moped::Cluster#with_primary
                      0.003      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             3/15      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             2/15      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/15      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Moped::Node#insert
                      0.000      0.000      0.000      0.000             2/15      Moped::Database#[]
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Reel::Connection#respond
                      0.002      0.000      0.000      0.002             1/15      MyServer#handle_request
  27.75%   0.79%      0.003      0.000      0.000      0.003               15     *Class#new
                      0.002      0.000      0.000      0.002              1/1      TerminalUser#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              1/1      Mutex#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
  25.13%   0.54%      0.003      0.000      0.000      0.002                2      Moped::Node#ensure_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
  22.74%   0.19%      0.002      0.000      0.000      0.002                2      Moped::Node#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
  22.10%   0.20%      0.002      0.000      0.000      0.002                2      Moped::Node#process
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
  21.51%   0.19%      0.002      0.000      0.000      0.002                2      Moped::Node#flush
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/3      Array#clear
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#flush
  21.17%   0.31%      0.002      0.000      0.000      0.002                2      Moped::Node#logging
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#logging
  20.68%   0.66%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Array#last
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  18.89%   0.36%      0.002      0.000      0.000      0.002                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/15      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
  18.67%   1.50%      0.002      0.000      0.000      0.002                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_connected
  17.65%   0.26%      0.002      0.000      0.000      0.002                2      Moped::Connection#write
                      0.001      0.000      0.000      0.001             2/12      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  16.44%   1.12%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
  14.42%   2.14%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.001      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
  13.35%   0.31%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
  13.05%  13.03%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  11.99%   0.26%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
  11.74%   0.62%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             1/12      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.001      0.000      0.000      0.001             2/12      Moped::Connection#write
  11.50%   0.74%      0.001      0.000      0.000      0.001               12     *Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
  10.07%   0.67%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
   8.41%   1.25%      0.001      0.000      0.000      0.001                4      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.001      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   7.27%   3.70%      0.001      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   7.07%   0.35%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   6.88%   0.16%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      TerminalUser#block_for_output_to_come
   6.73%   0.29%      0.001      0.000      0.001      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   6.57%   0.18%      0.001      0.000      0.000      0.001                2      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
   6.40%   0.53%      0.001      0.000      0.000      0.001                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   5.86%   2.61%      0.001      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   5.59%   0.20%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   4.81%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   4.73%   0.19%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   4.52%   0.24%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   4.49%   0.44%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   4.28%   0.78%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   4.16%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   4.01%   1.16%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   3.66%   0.57%      0.000      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   3.57%   0.06%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   3.57%   1.88%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   3.51%   0.26%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   3.43%   0.32%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   3.20%   0.26%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   2.94%   0.20%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   2.94%   0.95%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   2.94%   0.77%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   2.93%   0.20%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.42%   0.73%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   2.42%   1.06%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              1/6      String#to_s
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   2.20%   0.33%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   2.19%   0.72%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   2.05%   0.43%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   1.89%   0.92%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   1.87%   0.85%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.56%   0.47%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   1.51%   0.29%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   1.50%   0.88%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000            12/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.37%   0.68%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              6/7      Fixnum#*
                      0.000      0.000      0.000      0.000              2/2      Integer#round
                      0.000      0.000      0.000      0.000              3/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              3/5      Fixnum#<=>
                      0.000      0.000      0.000      0.000              3/3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   1.23%   0.45%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.20%   0.34%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.03%   0.28%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.03%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   0.92%   0.21%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.91%   0.14%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   0.90%   0.90%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.84%   0.56%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.84%   0.32%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              1/4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.78%   0.38%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
   0.77%   0.24%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   0.77%   0.22%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.76%   0.76%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   0.73%   0.73%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.72%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   0.72%   0.27%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.70%   0.31%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.67%   0.40%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.66%   0.66%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.64%   0.32%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.61%   0.30%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.59%   0.24%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.59%   0.59%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.59%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.58%   0.41%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.54%   0.10%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.54%   0.54%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.52%   0.22%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.49%   0.49%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
   0.49%   0.49%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.49%   0.22%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.45%   0.31%      0.000      0.000      0.000      0.000                4      Time#initialize
                      0.000      0.000      0.000      0.000              4/4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.45%   0.06%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.44%   0.44%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.44%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.44%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.43%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Kernel#dup
                      0.000      0.000      0.000      0.000            10/12      Class#new
   0.42%   0.42%      0.000      0.000      0.000      0.000               12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.42%   0.27%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              2/7      String#intern
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             2/17      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/17      Moped::Threaded#stack
   0.41%   0.41%      0.000      0.000      0.000      0.000               17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.40%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.40%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.39%   0.21%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/3      Array#clear
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.39%   0.39%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.39%   0.39%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.38%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000            18/20      Moped::BSON::Extensions::String#to_utf8_binary
   0.38%   0.38%      0.000      0.000      0.000      0.000               20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.37%   0.37%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.36%   0.27%      0.000      0.000      0.000      0.000                2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.36%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.35%   0.23%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.34%   0.34%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.32%   0.21%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.32%   0.24%      0.000      0.000      0.000      0.000                4      Time#-
                      0.000      0.000      0.000      0.000              4/4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.31%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.31%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.31%   0.31%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.31%   0.31%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.30%   0.07%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.30%   0.06%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.29%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.28%   0.28%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.28%   0.28%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.28%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.28%   0.28%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
   0.27%   0.27%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.27%   0.11%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.27%   0.27%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.27%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.26%   0.11%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.26%   0.06%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.26%   0.26%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.25%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.25%   0.15%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.25%   0.11%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.25%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.24%   0.24%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.24%   0.14%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.23%   0.23%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.23%   0.23%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.23%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.23%   0.23%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.23%   0.23%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.21%   0.21%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.21%   0.21%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.21%   0.19%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.21%   0.10%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.21%   0.21%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.20%   0.20%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Time#usec
                      0.000      0.000      0.000      0.000              6/7      Time#to_s
   0.20%   0.20%      0.000      0.000      0.000      0.000                7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.19%   0.19%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#<=>
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#usec
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.17%   0.17%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.17%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.15%   0.15%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.15%   0.15%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.15%   0.15%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.15%   0.10%      0.000      0.000      0.000      0.000                2      Time#<=>
                      0.000      0.000      0.000      0.000              2/5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#initialize
   0.15%   0.15%      0.000      0.000      0.000      0.000                4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.14%   0.14%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.13%   0.13%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.13%   0.13%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.12%   0.05%      0.000      0.000      0.000      0.000                1      Time#usec
                      0.000      0.000      0.000      0.000              2/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Time#to_s
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.12%   0.10%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.11%   0.06%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      Moped::Connection#with_connection
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#-
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Module::PTY>#spawn
   0.02%   0.02%      0.000      0.000      0.000      0.000                2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?

* indicates recursively called methods
Thread ID: 70158527911260
Fiber ID: 70158527924000
Total Time: 0.006203999999999987
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   2.85%      0.006      0.000      0.000      0.006                1      Session::AbstractSession#_initialize
                      0.006      0.000      0.000      0.006              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              1/1      Session::AbstractSession#_initialize
  97.15%   2.01%      0.006      0.000      0.000      0.006                1      Kernel#loop
                      0.004      0.000      0.004      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.001      0.000              3/3      IO#readpartial
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.004      0.000      0.004      0.000              2/2      Kernel#loop
  71.81%   5.51%      0.004      0.000      0.004      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              3/3      Kernel#loop
  17.60%   1.77%      0.001      0.000      0.001      0.000                3      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#loop
   2.89%   1.58%      0.000      0.000      0.000      0.000                3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              9/9      Module#===
                      0.000      0.000      0.000      0.000              9/9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.61%   0.55%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.23%   0.42%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   1.06%   1.06%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.81%   0.47%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.77%   0.77%      0.000      0.000      0.000      0.000                9      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.53%   0.53%      0.000      0.000      0.000      0.000                9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.34%   0.34%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
Thread ID: 70158526852800
Fiber ID: 70158528085780
Total Time: 0.005421000000000009
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.59%      0.005      0.000      0.000      0.005                1      <Module::CodeProfiler>#profile_logger
                      0.005      0.000      0.000      0.005              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              1/1      <Module::CodeProfiler>#profile_logger
  99.41%   1.60%      0.005      0.000      0.000      0.005                1      MyServer#handle_request
                      0.002      0.000      0.000      0.002              2/2      Moped::Collection#insert
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              3/5      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      String#to_i
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      MyServer#handle_request
  44.71%   0.39%      0.002      0.000      0.000      0.002                2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Collection#insert
  44.20%   0.79%      0.002      0.000      0.000      0.002                2      Moped::Session#with
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/2      Hash#update
                      0.000      0.000      0.000      0.000              2/2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Session#with
  41.36%   0.18%      0.002      0.000      0.000      0.002                2      Moped::Session::Context#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#insert
  41.17%   0.77%      0.002      0.000      0.000      0.002                2      Moped::Session::Context#with_node
                      0.002      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#with_node
  39.73%   0.50%      0.002      0.000      0.000      0.002                2      Moped::Cluster#with_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
  33.98%   0.85%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
  30.12%   0.20%      0.002      0.000      0.000      0.002                2      Moped::Node#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
  29.04%   0.33%      0.002      0.000      0.000      0.002                2      Moped::Node#process
                      0.002      0.000      0.000      0.001              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.001              2/2      Moped::Node#process
  27.80%   0.33%      0.002      0.000      0.000      0.001                2      Moped::Node#flush
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#flush
  27.23%   0.46%      0.001      0.000      0.000      0.001                2      Moped::Node#logging
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#logging
  26.34%   1.03%      0.001      0.000      0.000      0.001                2      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_connected
  21.80%   0.20%      0.001      0.000      0.000      0.001                2      Moped::Connection#write
                      0.001      0.000      0.000      0.001             2/11      Array#each
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  21.23%   0.98%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
  18.15%   3.62%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/11      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/11      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/11      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/11      Enumerable#find
                      0.000      0.000      0.000      0.000             2/11      Enumerable#partition
                      0.001      0.000      0.000      0.001             2/11      Moped::Connection#write
  16.25%   0.92%      0.001      0.000      0.000      0.001               11     *Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  15.44%   0.15%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
  15.29%   0.65%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
  14.55%   1.13%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.000      0.000      0.000      0.000              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
  12.17%   1.68%      0.001      0.000      0.000      0.001                4      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000              2/7      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
  10.13%   0.15%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/10      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
   9.89%   1.05%      0.001      0.000      0.000      0.000               10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             8/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   9.80%   0.17%      0.001      0.000      0.000      0.001                2      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   9.74%   1.09%      0.001      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      <Class::Moped::BSON::Document>#serialize
   9.63%   0.65%      0.001      0.000      0.000      0.000                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/4      Hash#each
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   8.63%   0.30%      0.000      0.000      0.000      0.000                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   7.21%   0.35%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   6.86%   1.11%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#write
   6.77%   0.41%      0.000      0.000      0.000      0.000                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   6.31%   2.32%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   6.00%   2.10%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   5.22%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   5.09%   0.37%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   5.07%   0.22%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   5.04%   0.42%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   4.74%   0.77%      0.000      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   4.72%   1.42%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
   3.98%   0.41%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   3.98%   2.34%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   3.86%   0.30%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   3.63%   0.20%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   3.62%   0.13%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   3.58%   1.42%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000            20/23      IO#puts
   3.52%   3.52%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   3.49%   0.24%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
   3.38%   0.13%      0.000      0.000      0.000      0.000                1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   3.14%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   3.01%   0.90%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   2.97%   0.98%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   2.84%   1.97%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      <Class::Thread>#current
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   2.84%   0.72%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   2.69%   1.53%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   2.34%   0.33%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   2.18%   1.13%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/2      Kernel#class
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   2.07%   0.44%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.83%   0.61%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/7      String#to_s
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   1.83%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.72%   0.98%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              6/7      Fixnum#*
                      0.000      0.000      0.000      0.000              3/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              3/5      Fixnum#<=>
                      0.000      0.000      0.000      0.000              2/2      Integer#round
                      0.000      0.000      0.000      0.000              3/3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.66%   0.33%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   1.66%   0.44%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
   1.59%   0.52%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.44%   0.44%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.33%   1.33%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.29%   0.37%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.25%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.20%   0.35%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000             4/24      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.16%   0.15%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   1.09%   0.41%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
   1.07%   1.07%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   1.05%   0.35%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   1.00%   1.00%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   0.98%   0.98%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.96%   0.20%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.89%   0.41%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.87%   0.41%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.85%   0.55%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.83%   0.83%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.83%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.81%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.76%   0.52%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/3      Array#clear
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.74%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.70%   0.30%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.68%   0.68%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             4/24      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            18/24      Moped::BSON::Extensions::String#to_utf8_binary
   0.66%   0.66%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
   0.66%   0.66%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.66%   0.53%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.63%   0.30%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.61%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.55%   0.55%      0.000      0.000      0.000      0.000               16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.55%   0.18%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.55%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.53%   0.53%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.53%   0.53%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.53%   0.35%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.53%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.52%   0.37%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.50%   0.50%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.50%   0.50%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.50%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.46%   0.20%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
   0.46%   0.46%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.46%   0.46%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.42%   0.42%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.42%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.42%   0.24%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Kernel#dup
                      0.000      0.000      0.000      0.000             8/10      Class#new
   0.42%   0.42%      0.000      0.000      0.000      0.000               10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.42%   0.28%      0.000      0.000      0.000      0.000                4      Time#-
                      0.000      0.000      0.000      0.000              4/4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.42%   0.11%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.41%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.41%   0.07%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.41%   0.22%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.39%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.39%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.39%   0.39%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.39%   0.13%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.39%   0.39%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.37%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Class#new
   0.35%   0.18%      0.000      0.000      0.000      0.000                4      Time#initialize
                      0.000      0.000      0.000      0.000              4/4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.35%   0.17%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.33%   0.33%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.33%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.33%   0.33%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.30%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.30%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.28%   0.17%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.28%   0.28%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Hash#each
   0.28%   0.28%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.28%   0.28%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Time#usec
                      0.000      0.000      0.000      0.000              6/7      Time#to_s
   0.26%   0.26%      0.000      0.000      0.000      0.000                7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.26%   0.11%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.26%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.24%   0.15%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.24%   0.24%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.24%   0.24%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.22%   0.20%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Class#new
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.20%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.18%   0.13%      0.000      0.000      0.000      0.000                2      Time#<=>
                      0.000      0.000      0.000      0.000              2/5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#<=>
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#usec
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#initialize
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.17%   0.17%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.17%   0.17%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
   0.17%   0.17%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#-
   0.15%   0.15%      0.000      0.000      0.000      0.000                4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.15%   0.11%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.13%   0.09%      0.000      0.000      0.000      0.000                1      Time#usec
                      0.000      0.000      0.000      0.000              2/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.13%   0.07%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              3/5      MyServer#handle_request
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.11%   0.09%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Time#to_s
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?

* indicates recursively called methods
Thread ID: 70158526906160
Fiber ID: 70158526920740
Total Time: 0.003910999999999998
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.94%      0.004      0.000      0.000      0.004                1      Session::AbstractSession#_initialize
                      0.003      0.000      0.003      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.003      0.000      0.003      0.000              2/2      Session::AbstractSession#_initialize
  85.76%   6.24%      0.003      0.000      0.003      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   7.54%   1.74%      0.000      0.000      0.000      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   2.35%   1.74%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
                      0.000      0.000      0.000      0.000              6/6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   1.48%   0.61%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.92%   0.41%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.87%   0.87%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.51%   0.31%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              4/4      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.33%   0.33%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.28%   0.28%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      IO#puts
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      IO#write

* indicates recursively called methods
Thread ID: 70269160269080
Fiber ID: 70269160299600
Total Time: 0.009661999999999948
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.43%      0.010      0.000      0.000      0.010                1      <Module::CodeProfiler>#profile_logger
                      0.010      0.000      0.000      0.009              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.010      0.000      0.000      0.009              1/1      <Module::CodeProfiler>#profile_logger
  98.57%   1.65%      0.010      0.000      0.000      0.009                1      MyServer#handle_request
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002             1/25      Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             4/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      MyServer#handle_request
  47.38%   0.24%      0.005      0.000      0.000      0.005                2      Moped::Collection#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
  47.09%   0.39%      0.005      0.000      0.000      0.005                2      Moped::Session#with
                      0.004      0.000      0.000      0.004              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Session#with
  45.43%   0.12%      0.004      0.000      0.000      0.004                2      Moped::Session::Context#insert
                      0.004      0.000      0.000      0.004              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Session::Context#insert
  45.30%   0.40%      0.004      0.000      0.000      0.004                2      Moped::Session::Context#with_node
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Session::Context#with_node
  44.46%   0.22%      0.004      0.000      0.000      0.004                2      Moped::Cluster#with_primary
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/3      Moped::Node#insert
                      0.002      0.000      0.000      0.002              1/3      Moped::Node#command
  36.81%   0.29%      0.004      0.000      0.000      0.004                3      Moped::Node#process
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#process
  35.87%   0.26%      0.003      0.000      0.000      0.003                3      Moped::Node#flush
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#flush
  35.45%   0.36%      0.003      0.000      0.000      0.003                3      Moped::Node#logging
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/13      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/13      Mutex#synchronize
                      0.000      0.000      0.000      0.000             1/13      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/13      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Enumerable#partition
                      0.001      0.000      0.000      0.001             3/13      Moped::Connection#write
                      0.003      0.000      0.000      0.003             2/13      Moped::Cluster#refresh
  35.28%   0.70%      0.003      0.000      0.000      0.003               13     *Array#each
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/3      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/9      Array#include?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#logging
  33.30%   0.75%      0.003      0.000      0.000      0.003                3      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
  29.70%   0.47%      0.003      0.000      0.000      0.003                2      Moped::Cluster#nodes
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
  27.28%   0.24%      0.003      0.000      0.000      0.003                2      Moped::Cluster#refresh
                      0.003      0.000      0.000      0.003             2/13      Array#each
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Array#each
  26.38%   0.39%      0.003      0.000      0.000      0.003                1      Moped::Node#refresh
                      0.002      0.000      0.000      0.002              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Moped::Node#refresh
  25.42%   0.12%      0.002      0.000      0.000      0.002                1      Moped::Node#command
                      0.002      0.000      0.000      0.002              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/25      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000             3/25      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/25      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             2/25      Logger#initialize
                      0.000      0.000      0.000      0.000             1/25      Integer#times
                      0.000      0.000      0.000      0.000             1/25      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/25      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             2/25      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/25      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Moped::Node#insert
                      0.000      0.000      0.000      0.000             2/25      Moped::Database#[]
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#command
                      0.000      0.000      0.000      0.000             1/25      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Reel::Connection#respond
                      0.002      0.000      0.000      0.002             1/25      MyServer#handle_request
  25.16%   1.08%      0.002      0.000      0.000      0.002               25     *Class#new
                      0.002      0.000      0.000      0.002              1/1      TerminalUser#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/3      StringIO#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/3      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000            16/19      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
                      0.000      0.000      0.000      0.000              2/5      Time#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/5      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              2/2      Mutex#initialize
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::Formatter#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Class>#allocate
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  16.60%   0.41%      0.002      0.000      0.000      0.002                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/25      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Node#ensure_connected
  14.28%   0.22%      0.001      0.000      0.000      0.001                3      Moped::Connection#write
                      0.001      0.000      0.000      0.001             3/13      Array#each
                      0.000      0.000      0.000      0.000              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Cluster#with_primary
  14.23%   0.38%      0.001      0.000      0.000      0.001                2      Moped::Node#ensure_primary
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
  13.35%   1.25%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_primary
  12.61%   0.13%      0.001      0.000      0.000      0.001                2      Moped::Node#insert
                      0.001      0.000      0.000      0.001              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
  10.59%   0.32%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.53%   0.37%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
  10.27%  10.24%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/4      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#read
   9.31%   0.86%      0.001      0.000      0.000      0.001                4      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              3/3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000              4/4      Kernel#nil?
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
                      0.000      0.000      0.000      0.000              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   8.28%   0.38%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.001      0.000              1/1      Kernel#sleep
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#ensure_connected
   7.97%   0.06%      0.001      0.000      0.000      0.001                1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
   7.89%   0.16%      0.001      0.000      0.000      0.001                1      Moped::Connection#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001             3/10      Moped::Connection#receive_replies
   7.80%   0.57%      0.001      0.000      0.000      0.001               10      Array#map
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
   7.73%   0.11%      0.001      0.000      0.000      0.001                1      Moped::Sockets::Connectable::ClassMethods#connect
                      0.001      0.000      0.000      0.001              1/1      Timeout#timeout
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
   7.62%   0.73%      0.001      0.000      0.000      0.001                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              3/3      BasicSocket#setsockopt
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#start
                      0.000      0.000      0.000      0.000              1/1      Thread#join
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#set_encoding
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      Thread#kill
                      0.000      0.000      0.000      0.000             1/35      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Fixnum#zero?
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   7.49%   0.13%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
   7.36%   0.38%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              1/1      TerminalUser#block_for_output_to_come
   7.31%   0.28%      0.001      0.000      0.001      0.000                1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   7.11%   0.60%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/21      String#bytesize
                      0.000      0.000      0.000      0.000              2/8      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Node#ensure_connected
   7.10%   0.21%      0.001      0.000      0.000      0.001                3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001             3/10      Array#map
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#map
   6.64%   0.06%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
   6.58%   0.04%      0.001      0.000      0.000      0.001                1      Moped::Connection#read
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.000      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.000      0.000      0.000      0.000              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
   6.56%   0.79%      0.001      0.000      0.000      0.001                5      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::TCP#initialize
   5.69%   0.42%      0.001      0.000      0.000      0.001                6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              1/1      TCPSocket#initialize
                      0.000      0.000      0.000      0.000             3/24      IO#write
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              2/3      Array#each
   5.59%   0.13%      0.001      0.000      0.000      0.001                3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              3/3      <Class::Moped::BSON::Document>#serialize
   5.45%   0.53%      0.001      0.000      0.000      0.000                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              3/5      Hash#each
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             6/21      String#bytesize
                      0.000      0.000      0.000      0.000             3/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   4.75%   0.11%      0.000      0.000      0.000      0.000                1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   4.64%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
   4.61%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#handle_socket_errors
   4.31%   0.54%      0.000      0.000      0.000      0.000                1      TCPSocket#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   4.11%   1.48%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
   3.90%   0.06%      0.000      0.000      0.000      0.000                2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   3.88%   0.41%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000             2/21      String#bytesize
                      0.000      0.000      0.000      0.000              1/8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
   3.73%   0.05%      0.000      0.000      0.000      0.000                1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   3.72%   0.16%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              1/2      Enumerator#each
   3.72%   0.17%      0.000      0.000      0.000      0.000                2      Integer#times
                      0.000      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   3.71%   0.22%      0.000      0.000      0.000      0.000                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Integer#times
   3.41%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
   3.35%   0.69%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              6/7      IO::readable#readbyte
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000             5/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   3.04%   0.10%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.97%   0.29%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   2.94%   0.54%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000             2/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   2.83%   1.00%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/35      Array#pack
                      0.000      0.000      0.000      0.000             8/21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   2.72%   0.27%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   2.59%   0.08%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   2.50%   0.21%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   2.23%   0.16%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   2.07%   0.60%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.05%   0.63%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
                      0.000      0.000      0.000      0.000             4/23      String#encode
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   2.03%   0.35%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   1.96%   0.09%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/5      Hash#each
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   1.91%   0.06%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
   1.80%   0.51%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              1/1      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#__bson_dump__
   1.79%   0.57%      0.000      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.72%   0.27%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/19      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   1.72%   1.15%      0.000      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000             3/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#with_connection
   1.69%   0.21%      0.000      0.000      0.000      0.000                3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   1.69%   0.21%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.68%   0.83%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/6      String#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   1.62%   0.76%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.57%   0.25%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   1.55%   1.16%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/24      IO#printf
                      0.000      0.000      0.000      0.000            20/24      IO#puts
                      0.000      0.000      0.000      0.000             3/24      Moped::Sockets::Connectable#handle_socket_errors
   1.53%   1.53%      0.000      0.000      0.000      0.000               24      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             1/10      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             4/10      MyServer#handle_request
   1.47%   0.53%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_bson_cstring
   1.47%   0.76%      0.000      0.000      0.000      0.000               19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            19/23      String#encode
                      0.000      0.000      0.000      0.000            19/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   1.42%   0.21%      0.000      0.000      0.000      0.000                1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.34%   0.19%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.27%   0.81%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              6/8      Fixnum#*
                      0.000      0.000      0.000      0.000              3/6      Fixnum#<=>
                      0.000      0.000      0.000      0.000              2/2      Integer#round
                      0.000      0.000      0.000      0.000              3/7      Fixnum#divmod
                      0.000      0.000      0.000      0.000              3/3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.21%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.20%   0.34%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             3/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.14%   0.21%      0.000      0.000      0.000      0.000                1      Logger#initialize
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   1.10%   1.10%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
   1.07%   0.17%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
   1.07%   0.25%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.07%   0.25%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   1.00%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             1/35      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             4/35      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/35      Moped::BSON::Extensions::String#__bson_dump__
   0.95%   0.95%      0.000      0.000      0.000      0.000               35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   0.94%   0.41%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/24      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   0.92%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.87%   0.24%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.86%   0.09%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.78%   0.23%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.78%   0.18%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.77%   0.17%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.75%   0.28%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.72%   0.18%      0.000      0.000      0.000      0.000                1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Kernel#respond_to?
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connect
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connected?
   0.66%   0.43%      0.000      0.000      0.000      0.000               10      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Timeout#timeout
   0.63%   0.63%      0.000      0.000      0.000      0.000                3      BasicSocket#setsockopt
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
   0.63%   0.63%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/23      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            19/23      Moped::BSON::Extensions::String#to_utf8_binary
   0.60%   0.60%      0.000      0.000      0.000      0.000               23      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.60%   0.60%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      MyServer#handle_request
                      0.000      0.000      0.000      0.000             1/12      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/12      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             3/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             5/12      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             1/12      Array#each
   0.58%   0.46%      0.000      0.000      0.000      0.000               12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/4      Hash#each
   0.55%   0.20%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.54%   0.40%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.54%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.53%   0.26%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.52%   0.32%      0.000      0.000      0.000      0.000                3      StringIO#initialize
                      0.000      0.000      0.000      0.000              3/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.52%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/3      Moped::Node#refresh
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.51%   0.20%      0.000      0.000      0.000      0.000                3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              3/5      Time#initialize
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.51%   0.13%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/7      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.51%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.50%   0.12%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.50%   0.24%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.50%   0.24%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.49%   0.42%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      IO::readable#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.48%   0.48%      0.000      0.000      0.000      0.000                1      <Class::Thread>#start
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.48%   0.48%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.47%   0.47%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.45%   0.09%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.43%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.42%   0.19%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.42%   0.42%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.41%   0.18%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.40%   0.13%      0.000      0.000      0.000      0.000                1      Thread#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.38%   0.23%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/19      Class#allocate
                      0.000      0.000      0.000      0.000             2/19      Kernel#dup
                      0.000      0.000      0.000      0.000            16/19      Class#new
   0.38%   0.38%      0.000      0.000      0.000      0.000               19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/26      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             5/26      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000            19/26      Moped::BSON::Extensions::String#to_utf8_binary
   0.38%   0.38%      0.000      0.000      0.000      0.000               26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.37%   0.22%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/4      Array#clear
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.37%   0.37%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.37%   0.13%      0.000      0.000      0.000      0.000                1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000              1/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/22      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/22      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/22      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/22      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/22      Moped::Threaded#stack
   0.36%   0.36%      0.000      0.000      0.000      0.000               22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.36%   0.36%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.36%   0.23%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Array#include?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.35%   0.35%      0.000      0.000      0.000      0.000                3      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#needs_refresh?
   0.35%   0.25%      0.000      0.000      0.000      0.000                1      Comparable#<
                      0.000      0.000      0.000      0.000              1/1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.35%   0.25%      0.000      0.000      0.000      0.000                7      IO::readable#readbyte
                      0.000      0.000      0.000      0.000              7/7      StringIO#getbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.34%   0.18%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.33%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.32%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.32%   0.16%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.31%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.30%   0.19%      0.000      0.000      0.000      0.000                5      Time#initialize
                      0.000      0.000      0.000      0.000              5/6      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/21      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             2/21      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             4/21      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             6/21      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             8/21      Moped::BSON::Extensions::String#__bson_dump__
   0.30%   0.30%      0.000      0.000      0.000      0.000               21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.29%   0.29%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.29%   0.29%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.29%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.29%   0.29%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.29%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.29%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.28%   0.28%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.27%   0.27%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.27%   0.27%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.27%   0.17%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              2/7      String#intern
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.27%   0.27%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.26%   0.26%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.26%   0.20%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              2/2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
   0.26%   0.26%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.26%   0.09%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.25%   0.17%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
                      0.000      0.000      0.000      0.000             1/10      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.25%   0.06%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/24      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.25%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
   0.25%   0.25%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.24%   0.24%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
   0.23%   0.14%      0.000      0.000      0.000      0.000                1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.23%   0.23%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.23%   0.14%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
                      0.000      0.000      0.000      0.000              2/5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.22%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.22%   0.22%      0.000      0.000      0.000      0.000                1      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.22%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/8      Time#usec
                      0.000      0.000      0.000      0.000              6/8      Time#to_s
   0.22%   0.22%      0.000      0.000      0.000      0.000                8      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/4      StringIO#initialize
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/35      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.21%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.21%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.21%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.21%   0.21%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.20%   0.05%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#alive?
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.20%   0.20%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.19%   0.19%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.19%   0.09%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/9      Array#each
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
   0.19%   0.19%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.19%   0.10%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Numeric#quo
                      0.000      0.000      0.000      0.000              1/6      Fixnum#+
                      0.000      0.000      0.000      0.000              1/8      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.18%   0.10%      0.000      0.000      0.000      0.000                4      Time#-
                      0.000      0.000      0.000      0.000              4/4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.18%   0.04%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.18%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.17%   0.17%      0.000      0.000      0.000      0.000                5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
   0.17%   0.17%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
   0.17%   0.17%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.17%   0.12%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.17%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.16%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.14%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.14%   0.14%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.14%   0.12%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Connection#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.14%   0.07%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
   0.13%   0.06%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
                      0.000      0.000      0.000      0.000              1/1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.13%   0.11%      0.000      0.000      0.000      0.000                1      Time#utc
                      0.000      0.000      0.000      0.000              1/7      Fixnum#divmod
                      0.000      0.000      0.000      0.000              2/6      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      IO#set_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.13%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.13%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Time#utc
                      0.000      0.000      0.000      0.000              1/6      Time#<=>
                      0.000      0.000      0.000      0.000              3/6      Time#to_s
   0.13%   0.13%      0.000      0.000      0.000      0.000                6      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      <Class::Time>#at
                      0.000      0.000      0.000      0.000              5/6      Time#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                6      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.12%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.12%   0.12%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.12%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.12%   0.04%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.12%   0.12%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.11%   0.11%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
   0.11%   0.11%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.11%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.11%   0.10%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
   0.10%   0.07%      0.000      0.000      0.000      0.000                1      Time#<=>
                      0.000      0.000      0.000      0.000              1/6      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/7      IO::readable#readbyte
   0.10%   0.10%      0.000      0.000      0.000      0.000                7      StringIO#getbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Time#utc
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      Time#usec
                      0.000      0.000      0.000      0.000              3/7      Time#to_s
   0.10%   0.10%      0.000      0.000      0.000      0.000                7      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.10%   0.07%      0.000      0.000      0.000      0.000                1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.09%   0.09%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.09%   0.06%      0.000      0.000      0.000      0.000                1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.09%   0.09%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.09%   0.07%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.08%   0.08%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.08%   0.08%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Thread#kill
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.08%   0.04%      0.000      0.000      0.000      0.000                1      Time#usec
                      0.000      0.000      0.000      0.000              2/7      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/8      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Connection#with_connection
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.07%   0.07%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#-
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Symbol#to_proc
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#new
                      0.000      0.000      0.000      0.000              2/3      <Module::PTY>#spawn
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
   0.06%   0.03%      0.000      0.000      0.000      0.000                1      Numeric#quo
                      0.000      0.000      0.000      0.000              1/1      Rational#/
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
   0.05%   0.05%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Time#to_s
   0.05%   0.05%      0.000      0.000      0.000      0.000                3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Logger::LogDevice#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#respond_to?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Logger::Formatter#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Class>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.03%   0.03%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Numeric#quo
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Rational#/
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=

* indicates recursively called methods
Thread ID: 70269160326100
Fiber ID: 70269160338000
Total Time: 0.006109999999999949
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.37%      0.006      0.000      0.000      0.006                1      Session::AbstractSession#_initialize
                      0.006      0.000      0.000      0.006              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              1/1      Session::AbstractSession#_initialize
  98.63%   2.62%      0.006      0.000      0.000      0.006                1      Kernel#loop
                      0.003      0.000      0.003      0.000              2/2      IO#readpartial
                      0.002      0.000      0.002      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.003      0.000      0.003      0.000              2/2      Kernel#loop
  50.72%   1.46%      0.003      0.000      0.003      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.002      0.000      0.002      0.000              2/2      Kernel#loop
  39.03%   3.26%      0.002      0.000      0.002      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   3.34%   2.37%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   2.00%   0.64%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   1.36%   1.36%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.92%   0.34%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.67%   0.67%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.57%   0.28%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.29%   0.29%      0.000      0.000      0.000      0.000                3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.29%   0.29%      0.000      0.000      0.000      0.000                6      IO#closed?

* indicates recursively called methods
Thread ID: 70269160338220
Fiber ID: 70269160337900
Total Time: 0.005892000000000008
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.10%      0.006      0.000      0.006      0.000                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   4.70%   2.31%      0.000      0.000      0.000      0.000                1      Kernel#sleep

* indicates recursively called methods
Thread ID: 70269160269080
Fiber ID: 70269172169100
Total Time: 0.009301999999999921
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.55%      0.009      0.000      0.000      0.009                1      <Module::CodeProfiler>#profile_logger
                      0.009      0.000      0.000      0.009              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              1/1      <Module::CodeProfiler>#profile_logger
  99.45%   1.76%      0.009      0.000      0.000      0.009                1      MyServer#handle_request
                      0.003      0.000      0.000      0.003              2/2      Moped::Collection#insert
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001             1/15      Class#new
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/3      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      String#to_i
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      MyServer#handle_request
  35.38%   0.38%      0.003      0.000      0.000      0.003                2      Moped::Collection#insert
                      0.003      0.000      0.000      0.003              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Collection#insert
  34.91%   0.45%      0.003      0.000      0.000      0.003                2      Moped::Session#with
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session#with
  32.73%   0.19%      0.003      0.000      0.000      0.003                2      Moped::Session::Context#insert
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#insert
  32.54%   0.45%      0.003      0.000      0.000      0.003                2      Moped::Session::Context#with_node
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#with_node
  31.44%   0.29%      0.003      0.000      0.000      0.003                2      Moped::Cluster#with_primary
                      0.003      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
  27.43%   0.68%      0.003      0.000      0.000      0.002                2      Moped::Node#ensure_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             3/15      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             2/15      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/15      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Moped::Node#insert
                      0.000      0.000      0.000      0.000             2/15      Moped::Database#[]
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Reel::Connection#respond
                      0.001      0.000      0.000      0.001             1/15      MyServer#handle_request
  24.91%   0.87%      0.002      0.000      0.000      0.002               15     *Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000            10/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              1/1      Mutex#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
  24.59%   0.17%      0.002      0.000      0.000      0.002                2      Moped::Node#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
  23.78%   0.34%      0.002      0.000      0.000      0.002                2      Moped::Node#process
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
  22.86%   0.28%      0.002      0.000      0.000      0.002                2      Moped::Node#flush
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#flush
  22.36%   0.32%      0.002      0.000      0.000      0.002                2      Moped::Node#logging
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#logging
  21.78%   0.82%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#last
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_connected
  17.76%   0.25%      0.002      0.000      0.000      0.002                2      Moped::Connection#write
                      0.001      0.000      0.000      0.001             2/12      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  16.01%   0.72%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
  15.71%   0.37%      0.001      0.000      0.000      0.001                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/15      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
  14.01%   2.20%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.001      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
  12.31%   1.06%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             1/12      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.001      0.000      0.000      0.001             2/12      Moped::Connection#write
  11.05%   0.78%      0.001      0.000      0.000      0.001               12     *Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.52%   0.19%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
  10.33%   0.59%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   9.60%   0.65%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
   9.49%   0.27%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      TerminalUser#block_for_output_to_come
   9.37%   0.47%      0.001      0.000      0.001      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
   9.22%   9.19%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   7.70%   0.40%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.000      0.000      0.000      0.000              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
   7.65%   1.13%      0.001      0.000      0.000      0.001                4      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   6.73%   0.39%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   6.02%   0.12%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   5.81%   1.39%      0.001      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   5.75%   0.11%      0.001      0.000      0.000      0.001                2      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      <Class::Moped::BSON::Document>#serialize
   5.64%   0.44%      0.001      0.000      0.000      0.000                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/4      Hash#each
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   5.15%   0.24%      0.000      0.000      0.000      0.000                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   4.72%   0.14%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   4.58%   0.37%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   4.18%   0.19%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   4.14%   0.39%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   3.99%   0.77%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.78%   0.35%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   3.77%   2.33%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   3.75%   1.28%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   3.69%   1.78%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   3.50%   1.10%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   3.48%   0.31%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   3.29%   0.46%      0.000      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.07%   1.44%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   2.97%   0.24%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   2.73%   0.86%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   2.67%   0.13%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   2.61%   0.09%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   2.58%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.48%   0.26%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   2.47%   0.45%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   2.04%   1.19%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.94%   0.30%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.90%   0.69%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   1.84%   0.62%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   1.78%   0.57%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   1.77%   1.04%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   1.76%   0.41%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   1.72%   0.41%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   1.60%   0.77%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.55%   0.82%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              6/7      Fixnum#*
                      0.000      0.000      0.000      0.000              3/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              3/5      Fixnum#<=>
                      0.000      0.000      0.000      0.000              2/2      Integer#round
                      0.000      0.000      0.000      0.000              3/3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.46%   0.33%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.14%   0.35%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   1.12%   0.28%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
   1.11%   0.25%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.06%   0.35%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.05%   0.30%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.90%   0.52%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.86%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   0.85%   0.85%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
   0.81%   0.53%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.75%   0.75%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   0.75%   0.26%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.72%   0.20%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.71%   0.32%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   0.71%   0.71%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.68%   0.52%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.65%   0.25%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.61%   0.23%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.61%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.61%   0.61%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.60%   0.23%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.59%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.58%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.57%   0.33%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/17      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/17      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             1/17      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000            12/17      Moped::Threaded#stack
   0.56%   0.56%      0.000      0.000      0.000      0.000               17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.56%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.56%   0.56%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.56%   0.13%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
   0.56%   0.56%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.54%   0.24%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.53%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.52%   0.32%      0.000      0.000      0.000      0.000                2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.51%   0.51%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.49%   0.08%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.47%   0.24%      0.000      0.000      0.000      0.000                4      Time#initialize
                      0.000      0.000      0.000      0.000              4/4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.46%   0.46%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.46%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.46%   0.23%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Kernel#dup
                      0.000      0.000      0.000      0.000            10/12      Class#new
   0.45%   0.45%      0.000      0.000      0.000      0.000               12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.44%   0.44%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.44%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.43%   0.43%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.43%   0.22%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.43%   0.43%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.43%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.42%   0.23%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000              1/3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.42%   0.42%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.41%   0.41%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.39%   0.39%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.39%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.39%   0.39%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.38%   0.38%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.38%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.38%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.38%   0.38%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.35%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.35%   0.19%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.35%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
   0.35%   0.35%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.33%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.33%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.32%   0.32%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.32%   0.32%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.32%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000            18/20      Moped::BSON::Extensions::String#to_utf8_binary
   0.31%   0.31%      0.000      0.000      0.000      0.000               20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.31%   0.10%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.31%   0.05%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.30%   0.30%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.29%   0.29%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.28%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.28%   0.28%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.28%   0.28%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.26%   0.26%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.26%   0.05%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.25%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Time#usec
                      0.000      0.000      0.000      0.000              6/7      Time#to_s
   0.25%   0.25%      0.000      0.000      0.000      0.000                7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.24%   0.16%      0.000      0.000      0.000      0.000                4      Time#-
                      0.000      0.000      0.000      0.000              4/4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#initialize
   0.24%   0.24%      0.000      0.000      0.000      0.000                4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.24%   0.24%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.24%   0.15%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.24%   0.24%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.23%   0.08%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.23%   0.23%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.23%   0.09%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.23%   0.23%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#usec
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.22%   0.22%      0.000      0.000      0.000      0.000                1      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.22%   0.22%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#<=>
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.20%   0.12%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.20%   0.20%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
   0.20%   0.20%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.19%   0.19%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.19%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.16%   0.04%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.15%   0.15%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.15%   0.15%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.15%   0.15%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.15%   0.10%      0.000      0.000      0.000      0.000                2      Time#<=>
                      0.000      0.000      0.000      0.000              2/5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.14%   0.10%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.14%   0.06%      0.000      0.000      0.000      0.000                1      Time#usec
                      0.000      0.000      0.000      0.000              2/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.14%   0.08%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      Moped::Connection#with_connection
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.12%   0.12%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
   0.11%   0.11%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.10%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Time#to_s
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#-
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Module::PTY>#spawn
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog

* indicates recursively called methods
Thread ID: 70269172166780
Fiber ID: 70269172179720
Total Time: 0.005257999999999985
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   2.09%      0.005      0.000      0.000      0.005                1      Session::AbstractSession#_initialize
                      0.005      0.000      0.000      0.005              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              1/1      Session::AbstractSession#_initialize
  97.91%   2.97%      0.005      0.000      0.000      0.005                1      Kernel#loop
                      0.003      0.000      0.003      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.001      0.000              3/3      IO#readpartial
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.003      0.000      0.003      0.000              2/2      Kernel#loop
  65.20%   5.40%      0.003      0.000      0.003      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              3/3      Kernel#loop
  25.29%   1.94%      0.001      0.000      0.001      0.000                3      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#loop
   2.74%   1.50%      0.000      0.000      0.000      0.000                3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              9/9      Module#===
                      0.000      0.000      0.000      0.000              9/9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.16%   0.51%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.72%   0.72%      0.000      0.000      0.000      0.000                9      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.65%   0.65%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.55%   0.21%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.51%   0.51%      0.000      0.000      0.000      0.000                9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.34%   0.13%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.21%   0.21%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
Thread ID: 70269160326100
Fiber ID: 70269160338000
Total Time: 0.003653999999999935
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.74%      0.004      0.000      0.000      0.004                1      Session::AbstractSession#_initialize
                      0.004      0.000      0.003      0.000              1/1      IO#readpartial
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
--------------------------------------------------------------------------------
                      0.004      0.000      0.003      0.000              1/1      Session::AbstractSession#_initialize
  95.87%   3.39%      0.004      0.000      0.003      0.000                1      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   3.39%   2.00%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.77%   0.77%      0.000      0.000      0.000      0.000                3      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.63%   0.63%      0.000      0.000      0.000      0.000                3      IO#closed?

* indicates recursively called methods
Thread ID: 70269160269080
Fiber ID: 70269172309860
Total Time: 0.00486999999999993
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.82%      0.005      0.000      0.000      0.005                1      <Module::CodeProfiler>#profile_logger
                      0.005      0.000      0.000      0.005              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              1/1      <Module::CodeProfiler>#profile_logger
  99.18%   1.95%      0.005      0.000      0.000      0.005                1      MyServer#handle_request
                      0.002      0.000      0.000      0.002              2/2      Moped::Collection#insert
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000              3/5      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              1/1      String#empty?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      MyServer#handle_request
  39.96%   0.45%      0.002      0.000      0.000      0.002                2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Collection#insert
  39.38%   0.47%      0.002      0.000      0.000      0.002                2      Moped::Session#with
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/2      Hash#update
                      0.000      0.000      0.000      0.000              2/2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Session#with
  37.19%   0.23%      0.002      0.000      0.000      0.002                2      Moped::Session::Context#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#insert
  36.96%   0.49%      0.002      0.000      0.000      0.002                2      Moped::Session::Context#with_node
                      0.002      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Session::Context#with_node
  35.83%   0.39%      0.002      0.000      0.000      0.002                2      Moped::Cluster#with_primary
                      0.002      0.000      0.000      0.001              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.001              2/2      Moped::Cluster#with_primary
  31.21%   0.70%      0.002      0.000      0.000      0.001                2      Moped::Node#ensure_primary
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_primary
  28.05%   0.18%      0.001      0.000      0.000      0.001                2      Moped::Node#insert
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#insert
  27.10%   0.23%      0.001      0.000      0.000      0.001                2      Moped::Node#process
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#process
  26.32%   0.27%      0.001      0.000      0.000      0.001                2      Moped::Node#flush
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#flush
  25.89%   0.35%      0.001      0.000      0.000      0.001                2      Moped::Node#logging
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#logging
  25.28%   0.97%      0.001      0.000      0.000      0.001                2      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  20.84%   0.80%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Node#ensure_connected
  20.76%   0.29%      0.001      0.000      0.000      0.001                2      Moped::Connection#write
                      0.001      0.000      0.000      0.001             2/11      Array#each
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
  18.52%   2.24%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/11      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/11      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/11      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/11      Enumerable#find
                      0.000      0.000      0.000      0.000             2/11      Enumerable#partition
                      0.001      0.000      0.000      0.001             2/11      Moped::Connection#write
  14.78%   0.82%      0.001      0.000      0.000      0.001               11     *Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
  13.31%   0.80%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  12.57%   0.18%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
  12.38%   0.51%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.000      0.000      0.000      0.000              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
  10.97%   1.62%      0.001      0.000      0.000      0.000                4      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/7      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
  10.72%   1.58%      0.001      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/10      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
  10.62%   1.05%      0.001      0.000      0.000      0.000               10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             8/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   9.30%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   8.99%   0.29%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   8.99%   0.14%      0.000      0.000      0.000      0.000                2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::Moped::BSON::Document>#serialize
   8.85%   0.53%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/4      Hash#each
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   7.56%   2.65%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   7.35%   4.60%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#write
   6.96%   0.31%      0.000      0.000      0.000      0.000                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   6.88%   0.21%      0.000      0.000      0.000      0.000                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   6.41%   0.23%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   6.18%   0.39%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      String#to_s
                      0.000      0.000      0.000      0.000              1/1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   6.00%   1.23%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   5.89%   1.87%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   5.56%   0.18%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   5.38%   0.97%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   5.30%   0.29%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   4.91%   1.93%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   4.29%   0.43%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   4.11%   0.29%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   4.00%   0.29%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.88%   2.07%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/2      Kernel#class
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   3.74%   0.55%      0.000      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   3.72%   1.17%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   3.31%   0.25%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   3.04%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
   2.87%   0.06%      0.000      0.000      0.000      0.000                1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   2.73%   0.99%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.59%   0.74%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   2.46%   1.27%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
   2.38%   1.21%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      <Class::Thread>#current
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.97%   0.31%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   1.95%   0.51%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   1.75%   0.33%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.68%   0.94%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              6/7      Fixnum#*
                      0.000      0.000      0.000      0.000              3/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              3/3      Bignum#<=>
                      0.000      0.000      0.000      0.000              3/5      Fixnum#<=>
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.64%   0.47%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000             4/24      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.56%   0.45%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   1.44%   1.44%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.40%   0.25%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.33%   0.35%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.21%   0.37%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.17%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   1.17%   0.31%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
   1.15%   0.72%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.15%   1.15%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.15%   0.27%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   1.07%   1.07%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   1.05%   0.29%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   1.05%   1.05%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.92%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.92%   0.37%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.90%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.88%   0.47%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.86%   0.86%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   0.86%   0.31%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.82%   0.43%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.76%   0.21%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.76%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.74%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
   0.72%   0.72%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.70%   0.35%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.70%   0.70%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.70%   0.16%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             4/24      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            18/24      Moped::BSON::Extensions::String#to_utf8_binary
   0.68%   0.68%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.68%   0.68%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.68%   0.68%      0.000      0.000      0.000      0.000               16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.66%   0.66%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.66%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.62%   0.62%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.60%   0.60%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
   0.60%   0.60%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
   0.60%   0.60%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.60%   0.21%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.60%   0.23%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.60%   0.25%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
   0.57%   0.57%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.57%   0.23%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.55%   0.55%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.55%   0.41%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.53%   0.35%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.53%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.53%   0.35%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/11      Array#each
                      0.000      0.000      0.000      0.000              1/3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.51%   0.51%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.51%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.51%   0.35%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/11      Array#each
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.49%   0.21%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.45%   0.45%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.43%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.43%   0.27%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.41%   0.41%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.41%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.39%   0.29%      0.000      0.000      0.000      0.000                4      Time#-
                      0.000      0.000      0.000      0.000              4/4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.39%   0.23%      0.000      0.000      0.000      0.000                4      Time#initialize
                      0.000      0.000      0.000      0.000              4/4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.37%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.37%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Kernel#dup
                      0.000      0.000      0.000      0.000             8/10      Class#new
   0.37%   0.37%      0.000      0.000      0.000      0.000               10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Time#usec
                      0.000      0.000      0.000      0.000              6/7      Time#to_s
   0.35%   0.35%      0.000      0.000      0.000      0.000                7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.35%   0.35%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.35%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.35%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.35%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.35%   0.35%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.35%   0.35%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.33%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.33%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.31%   0.31%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.31%   0.21%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.29%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.29%   0.08%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.27%   0.27%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.27%   0.14%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.25%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.25%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#usec
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      Fixnum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.25%   0.25%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.23%   0.23%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.23%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.23%   0.16%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.23%   0.23%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.23%   0.08%      0.000      0.000      0.000      0.000                1      Time#usec
                      0.000      0.000      0.000      0.000              2/5      Fixnum#divmod
                      0.000      0.000      0.000      0.000              1/7      Fixnum#*
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              3/5      MyServer#handle_request
   0.21%   0.21%      0.000      0.000      0.000      0.000                5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
   0.21%   0.21%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Time#<=>
                      0.000      0.000      0.000      0.000              3/5      Time#to_s
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.18%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#initialize
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Fixnum#+
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.14%   0.14%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Hash#each
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.14%   0.14%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.14%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.12%   0.06%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.12%   0.04%      0.000      0.000      0.000      0.000                2      Time#<=>
                      0.000      0.000      0.000      0.000              2/5      Fixnum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.12%   0.12%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Time#to_s
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Bignum#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Time#-
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Fixnum#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#unlock

* indicates recursively called methods
Thread ID: 70269160326100
Fiber ID: 70269160338000
Total Time: 0.0029609999999999914
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.99%      0.003      0.000      0.000      0.003                1      Session::AbstractSession#_initialize
                      0.002      0.000      0.002      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.002      0.000      0.002      0.000              2/2      Session::AbstractSession#_initialize
  83.79%   7.40%      0.002      0.000      0.002      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   8.14%   3.92%      0.000      0.000      0.000      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   3.11%   2.40%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   2.06%   1.05%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   1.01%   1.01%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.91%   0.27%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.64%   0.34%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              4/4      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.37%   0.37%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.34%   0.34%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      IO#puts
   0.30%   0.30%      0.000      0.000      0.000      0.000                4      IO#write

* indicates recursively called methods
