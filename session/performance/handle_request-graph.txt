Thread ID: 77626670
Fiber ID: 77746120
Total Time: 0.020039881999999953
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.98%      0.020      0.000      0.000      0.020                1      <Module::CodeProfiler>#profile_logger
                      0.020      0.000      0.000      0.020              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.020      0.000      0.000      0.020              1/1      <Module::CodeProfiler>#profile_logger
  99.02%   1.11%      0.020      0.000      0.000      0.020                1      MyServer#handle_request
                      0.013      0.000      0.000      0.013              2/2      Moped::Collection#insert
                      0.003      0.000      0.000      0.003             1/24      Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.000              1/6      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              2/3      NilClass#to_s
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      NilClass#to_i
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.013              2/2      MyServer#handle_request
  65.06%   0.29%      0.013      0.000      0.000      0.013                2      Moped::Collection#insert
                      0.013      0.000      0.000      0.013              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.013              2/2      Moped::Collection#insert
  64.71%   0.46%      0.013      0.000      0.000      0.013                2      Moped::Session#with
                      0.013      0.000      0.000      0.013              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.013              2/2      Moped::Session#with
  62.88%   0.14%      0.013      0.000      0.000      0.013                2      Moped::Session::Context#insert
                      0.013      0.000      0.000      0.012              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.012              2/2      Moped::Session::Context#insert
  62.74%   0.38%      0.013      0.000      0.000      0.012                2      Moped::Session::Context#with_node
                      0.012      0.000      0.000      0.012              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              2/2      Moped::Session::Context#with_node
  61.85%   0.36%      0.012      0.000      0.000      0.012                2      Moped::Cluster#with_primary
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#nodes
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/3      Moped::Node#insert
                      0.006      0.000      0.000      0.006              1/3      Moped::Node#command
  48.49%   0.36%      0.010      0.000      0.000      0.010                3      Moped::Node#process
                      0.009      0.000      0.000      0.009              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/13      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/13      Mutex#synchronize
                      0.000      0.000      0.000      0.000             1/13      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/13      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Enumerable#partition
                      0.003      0.000      0.000      0.003             3/13      Moped::Connection#write
                      0.007      0.000      0.000      0.007             2/13      Moped::Cluster#refresh
  48.22%   1.04%      0.010      0.000      0.000      0.009               13     *Array#each
                      0.007      0.000      0.000      0.006              1/1      Moped::Node#refresh
                      0.003      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              3/3      Moped::Node#process
  47.04%   0.37%      0.009      0.000      0.000      0.009                3      Moped::Node#flush
                      0.009      0.000      0.000      0.009              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              3/3      Moped::Node#flush
  46.47%   0.78%      0.009      0.000      0.000      0.009                3      Moped::Node#logging
                      0.009      0.000      0.000      0.008              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.008              3/3      Moped::Node#logging
  43.52%   1.21%      0.009      0.000      0.000      0.008                3      Moped::Node#ensure_connected
                      0.005      0.000      0.000      0.004              3/3      Moped::Connection#write
                      0.002      0.000      0.000      0.002              3/3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#with_primary
  37.31%   0.72%      0.007      0.000      0.000      0.007                2      Moped::Cluster#nodes
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/24      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#nodes
  34.41%   0.36%      0.007      0.000      0.000      0.007                2      Moped::Cluster#refresh
                      0.007      0.000      0.000      0.007             2/13      Array#each
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.006              1/1      Array#each
  33.11%   0.69%      0.007      0.000      0.000      0.006                1      Moped::Node#refresh
                      0.006      0.000      0.000      0.006              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              1/1      Moped::Node#refresh
  31.11%   0.29%      0.006      0.000      0.000      0.006                1      Moped::Node#command
                      0.006      0.000      0.000      0.006              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
  23.63%   0.59%      0.005      0.000      0.000      0.005                2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Logger#initialize
                      0.000      0.000      0.000      0.000             3/24      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             1/24      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/24      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000             1/24      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/24      Integer#times
                      0.000      0.000      0.000      0.000             1/24      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             1/24      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/24      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/24      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             1/24      Moped::Node#connection
                      0.000      0.000      0.000      0.000             2/24      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/24      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/24      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/24      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/24      Moped::Node#command
                      0.003      0.000      0.000      0.003             1/24      MyServer#handle_request
  23.03%   1.61%      0.005      0.000      0.000      0.004               24     *Class#new
                      0.003      0.000      0.000      0.003              1/1      TerminalUser#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000            15/18      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              3/3      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
                      0.000      0.000      0.000      0.000              3/3      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/2      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              2/2      Mutex#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::Formatter#initialize
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Class>#allocate
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.004              3/3      Moped::Node#ensure_connected
  22.68%   0.38%      0.005      0.000      0.000      0.004                3      Moped::Connection#write
                      0.003      0.000      0.000      0.003             3/13      Array#each
                      0.001      0.000      0.000      0.001              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
  21.00%   0.19%      0.004      0.000      0.000      0.004                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/24      Class#new
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Class#new
  14.57%   0.44%      0.003      0.000      0.000      0.003                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000             3/24      Class#new
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.002              2/2      Array#each
  13.05%   0.84%      0.003      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/19      String#bytesize
                      0.000      0.000      0.000      0.000              2/8      String#[]=
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  12.28%   0.95%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
                      0.000      0.000      0.000      0.000              5/5      Kernel#class
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/4      Moped::Connection#write
                      0.002      0.000      0.000      0.002              1/4      Moped::Connection#read
  11.91%   1.18%      0.002      0.000      0.000      0.002                4      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              3/3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000             1/24      Class#new
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000              4/4      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/2      Integer#times
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.002      0.000      0.000      0.002              2/3      Array#each
  10.93%   0.22%      0.002      0.000      0.000      0.002                3      <Class::Moped::BSON::Document>#serialize
                      0.002      0.000      0.000      0.002              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.000      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.002      0.000      0.000      0.002              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
  10.76%   1.27%      0.002      0.000      0.000      0.002                5      Hash#each
                      0.001      0.000      0.000      0.001              6/6      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::NilClass#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000              2/5      String#to_s
                      0.000      0.000      0.000      0.000              1/3      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              3/3      <Class::Moped::BSON::Document>#serialize
  10.71%   0.84%      0.002      0.000      0.000      0.002                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.002      0.000      0.000      0.002              3/5      Hash#each
                      0.000      0.000      0.000      0.000             6/19      String#bytesize
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             3/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002             3/10      Moped::Connection#receive_replies
   9.97%   0.51%      0.002      0.000      0.000      0.002               10      Array#map
                      0.002      0.000      0.000      0.002              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
   9.42%   0.18%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#pty_open
                      0.002      0.002      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
   9.40%   0.13%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.002      0.002      0.000      0.000              1/1      Session::AbstractSession#pty_open
   9.24%   9.20%      0.002      0.002      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              3/3      Moped::Node#ensure_connected
   9.07%   0.18%      0.002      0.000      0.000      0.002                3      Moped::Connection#receive_replies
                      0.002      0.000      0.000      0.002             3/10      Array#map
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Array#map
   8.62%   0.10%      0.002      0.000      0.000      0.002                1      Moped::Protocol::Query#receive_replies
                      0.002      0.000      0.000      0.002              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Moped::Protocol::Query#receive_replies
   8.52%   0.15%      0.002      0.000      0.000      0.002                1      Moped::Connection#read
                      0.002      0.000      0.000      0.002              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   6.06%   0.23%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#ensure_connected
   5.84%   0.13%      0.001      0.000      0.000      0.001                1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
   5.67%   0.12%      0.001      0.000      0.000      0.001                1      Moped::Connection#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   5.56%   0.08%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
   5.55%   0.17%      0.001      0.000      0.000      0.001                1      Moped::Sockets::Connectable::ClassMethods#connect
                      0.001      0.000      0.000      0.001              1/1      Timeout#timeout
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
   5.48%   0.27%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/24      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
   5.38%   0.99%      0.001      0.000      0.000      0.001                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#join
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#start
                      0.000      0.000      0.000      0.000              3/3      BasicSocket#setsockopt
                      0.000      0.000      0.000      0.000             1/24      Class#new
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      IO#set_encoding
                      0.000      0.000      0.000      0.000             1/33      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Thread#kill
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              1/1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#each
   5.33%   0.65%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000             2/19      String#bytesize
                      0.000      0.000      0.000      0.000              1/8      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   5.19%   0.79%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              5/5      Kernel#sleep
                      0.000      0.000      0.000      0.000             5/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              6/6      Hash#each
   4.73%   1.96%      0.001      0.000      0.000      0.001                6      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             6/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             6/17      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             6/33      Array#pack
                      0.000      0.000      0.000      0.000             6/19      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.001      0.000      0.000      0.001              1/2      Moped::Connection#with_connection
   4.72%   0.10%      0.001      0.000      0.000      0.001                2      Enumerable#map
                      0.001      0.000      0.000      0.001              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerator#each
   4.56%   0.26%      0.001      0.000      0.000      0.001                2      Integer#times
                      0.001      0.000      0.000      0.001              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Enumerable#map
   4.53%   0.06%      0.001      0.000      0.000      0.001                1      Enumerator#each
                      0.001      0.000      0.000      0.001              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Integer#times
   4.15%   0.08%      0.001      0.000      0.000      0.001                1      <Class::Moped::BSON::Document>#deserialize
                      0.001      0.000      0.000      0.001              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      <Class::Moped::BSON::Document>#deserialize
   4.07%   1.22%      0.001      0.000      0.000      0.001                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000             5/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      StringIO#readbyte
                      0.000      0.000      0.000      0.000              5/5      String#chop!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/11      Moped::BSON::Extensions::NilClass#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             6/11      Moped::BSON::Extensions::String#__bson_dump__
   3.63%   1.16%      0.001      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/17      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              5/5      TerminalUser#block_for_output_to_come
   3.58%   1.34%      0.001      0.000      0.000      0.000                5      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::TCP#initialize
   3.36%   0.59%      0.001      0.000      0.000      0.001                6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              1/1      TCPSocket#initialize
                      0.000      0.000      0.000      0.000             3/23      IO#write
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   3.15%   0.12%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/17      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/17      Moped::BSON::Extensions::String#to_bson_cstring
   2.92%   1.62%      0.001      0.000      0.000      0.000               17      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            17/21      String#encode
                      0.000      0.000      0.000      0.000            17/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   2.77%   1.79%      0.001      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000            16/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             3/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   2.68%   0.10%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/6      Kernel#inspect
                      0.001      0.000      0.000      0.000              1/6      MyServer#handle_request
   2.68%   0.48%      0.001      0.000      0.000      0.000                6     *Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      Hash#inspect
                      0.000      0.000      0.000      0.000              1/1      Array#inspect
                      0.000      0.000      0.000      0.000              6/6      NilClass#inspect
                      0.000      0.000      0.000      0.000              3/3      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              1/1      Proc#to_s
                      0.000      0.000      0.000      0.000              3/4      String#inspect
                      0.000      0.000      0.000      0.000              1/3      Fixnum#to_s
                      0.000      0.000      0.000      0.000              5/6      Kernel#inspect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   2.58%   0.48%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#with_connection
   2.36%   0.30%      0.000      0.000      0.000      0.000                3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   2.27%   0.70%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             3/33      Array#pack
                      0.000      0.000      0.000      0.000              3/3      Fixnum#>=
                      0.000      0.000      0.000      0.000              3/3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
   2.16%   0.93%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              3/3      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   2.06%   0.13%      0.000      0.000      0.000      0.000                1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   2.01%   0.27%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
   1.96%   0.54%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.95%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   1.94%   0.13%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
   1.90%   0.16%      0.000      0.000      0.000      0.000                1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   1.82%   0.46%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.76%   0.18%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/19      String#bytesize
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/7      Module#===
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   1.67%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#handle_socket_errors
   1.61%   1.61%      0.000      0.000      0.000      0.000                1      TCPSocket#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             3/23      Moped::Sockets::Connectable#handle_socket_errors
   1.58%   1.58%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.45%   0.41%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             5/10      TerminalUser#block_for_output_to_come
   1.45%   0.44%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.42%   0.20%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/18      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.41%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.40%   0.27%      0.000      0.000      0.000      0.000                1      Logger#initialize
                      0.000      0.000      0.000      0.000             2/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
   1.38%   0.28%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   1.36%   0.07%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/5      Hash#each
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.35%   0.22%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             1/33      Timeout#timeout
                      0.000      0.000      0.000      0.000             3/33      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             4/33      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             6/33      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             3/33      Moped::BSON::Extensions::Integer#__bson_dump__
   1.34%   1.34%      0.000      0.000      0.000      0.000               33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   1.26%   0.07%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   1.24%   0.42%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   1.18%   0.11%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   1.18%   0.23%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::NilClass#__bson_dump__
                      0.000      0.000      0.000      0.000             2/11      Moped::BSON::Extensions::String#to_bson_cstring
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   1.15%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   1.06%   1.06%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.02%   0.30%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.01%   0.48%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   0.99%   0.32%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/24      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.99%   0.27%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.95%   0.12%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/21      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            17/21      Moped::BSON::Extensions::String#to_utf8_binary
   0.94%   0.94%      0.000      0.000      0.000      0.000               21      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.92%   0.63%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   0.89%   0.24%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/21      String#encode
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.89%   0.30%      0.000      0.000      0.000      0.000                1      Thread#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.89%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.86%   0.22%      0.000      0.000      0.000      0.000                1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Kernel#respond_to?
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.85%   0.21%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.83%   0.83%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connect
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connected?
   0.82%   0.52%      0.000      0.000      0.000      0.000               10      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/2      Moped::Node#refresh
   0.79%   0.29%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.75%   0.13%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.71%   0.15%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.69%   0.42%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.69%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.68%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.66%   0.31%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.66%   0.20%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.65%   0.23%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Bignum#divmod
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/12      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/12      MyServer#handle_request
                      0.000      0.000      0.000      0.000             3/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             5/12      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             1/12      Array#each
   0.64%   0.49%      0.000      0.000      0.000      0.000               12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.63%   0.34%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             5/24      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000            17/24      Moped::BSON::Extensions::String#to_utf8_binary
   0.61%   0.61%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.61%   0.28%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.59%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.57%   0.50%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.55%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.53%   0.19%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.51%   0.19%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/4      Hash#each
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
   0.51%   0.25%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/22      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/22      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             1/22      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/22      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000            16/22      Moped::Threaded#stack
   0.50%   0.50%      0.000      0.000      0.000      0.000               22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.49%   0.31%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Array#include?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/18      Class#allocate
                      0.000      0.000      0.000      0.000             2/18      Kernel#dup
                      0.000      0.000      0.000      0.000            15/18      Class#new
   0.48%   0.48%      0.000      0.000      0.000      0.000               18      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.47%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.47%   0.47%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.47%   0.47%      0.000      0.000      0.000      0.000                1      <Class::Thread>#start
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.47%   0.47%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.47%   0.16%      0.000      0.000      0.000      0.000                1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000              1/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.46%   0.29%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
                      0.000      0.000      0.000      0.000             1/10      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.45%   0.45%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.45%   0.45%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/19      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             2/19      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             4/19      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             6/19      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             6/19      Moped::BSON::Extensions::String#__bson_dump__
   0.44%   0.44%      0.000      0.000      0.000      0.000               19      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.43%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.42%   0.27%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.42%   0.26%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.41%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.39%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.38%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.37%   0.12%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.37%   0.37%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
   0.36%   0.36%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.36%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.36%   0.36%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.34%   0.34%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#inspect
   0.33%   0.17%      0.000      0.000      0.000      0.000                1      Hash#inspect
                      0.000      0.000      0.000      0.000              1/4      String#inspect
                      0.000      0.000      0.000      0.000              1/1      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.33%   0.33%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.32%   0.15%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/3      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Timeout#timeout
   0.32%   0.32%      0.000      0.000      0.000      0.000                3      BasicSocket#setsockopt
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.31%   0.22%      0.000      0.000      0.000      0.000                3      StringIO#initialize
                      0.000      0.000      0.000      0.000              3/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.31%   0.18%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      String#unpack
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
   0.30%   0.30%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.29%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.29%   0.21%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.28%   0.28%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.28%   0.28%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
   0.28%   0.14%      0.000      0.000      0.000      0.000                1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.28%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.28%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.26%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.26%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.25%   0.08%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.25%   0.16%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              2/2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.25%   0.25%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.24%   0.03%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.24%   0.05%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.23%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.23%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/9      Array#each
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
   0.23%   0.23%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.23%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.23%   0.23%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Hash#inspect
                      0.000      0.000      0.000      0.000              3/4      Kernel#inspect
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.22%   0.10%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000              3/7      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.21%   0.13%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.21%   0.08%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.21%   0.11%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/13      Array#each
                      0.000      0.000      0.000      0.000              1/4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.20%   0.20%      0.000      0.000      0.000      0.000                7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#inspect
   0.20%   0.12%      0.000      0.000      0.000      0.000                1      Array#inspect
                      0.000      0.000      0.000      0.000              1/1      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      Time#utc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.20%   0.20%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.19%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.19%   0.19%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.19%   0.19%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.19%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Sockets::Connectable#alive?
   0.18%   0.18%      0.000      0.000      0.000      0.000                3      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.17%   0.17%      0.000      0.000      0.000      0.000                1      Moped::Connection#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.17%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.17%   0.17%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.16%   0.16%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.16%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.16%   0.16%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                6      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.16%   0.16%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#inspect
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.15%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.15%   0.15%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.15%   0.15%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.15%   0.11%      0.000      0.000      0.000      0.000                1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.14%   0.14%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
   0.13%   0.08%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/1      Float#==
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Array#each
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.12%   0.09%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/4      StringIO#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.11%   0.11%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.11%   0.07%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#needs_refresh?
   0.11%   0.07%      0.000      0.000      0.000      0.000                1      Comparable#<
                      0.000      0.000      0.000      0.000              1/1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.11%   0.08%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.11%   0.07%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/18      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/7      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/7      Reel::Response#render
                      0.000      0.000      0.000      0.000              1/7      JSON#generate
                      0.000      0.000      0.000      0.000              3/7      Reel::Response#status=
   0.11%   0.11%      0.000      0.000      0.000      0.000                7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Connection#with_connection
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/3      Hash#each
                      0.000      0.000      0.000      0.000              1/3      Kernel#inspect
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.09%   0.06%      0.000      0.000      0.000      0.000                1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      IO#set_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Symbol#to_proc
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.09%   0.09%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                5      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#inspect
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Logger::LogDevice#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#respond_to?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      MyServer#handle_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#new
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Bignum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Logger::Formatter#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Thread#kill
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Hash#each
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.05%   0.05%      0.000      0.000      0.000      0.000                5      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Class>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.04%   0.03%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      NilClass#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Hash#empty?

* indicates recursively called methods
Thread ID: 77744620
Fiber ID: 77742690
Total Time: 0.014743903999999974
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.63%      0.015      0.000      0.000      0.015                1      Session::AbstractSession#_initialize
                      0.015      0.000      0.000      0.015              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.015      0.000      0.000      0.015              1/1      Session::AbstractSession#_initialize
  99.37%   0.81%      0.015      0.000      0.000      0.015                1      Kernel#loop
                      0.014      0.000      0.014      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      Proc#call
                      0.000      0.000      0.000      0.000              1/1      Kernel#puts
--------------------------------------------------------------------------------
                      0.014      0.000      0.014      0.000              2/2      Kernel#loop
  95.36%   0.72%      0.014      0.000      0.014      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#loop
   1.23%   0.47%      0.000      0.000      0.000      0.000                1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.92%   0.60%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#loop
   0.76%   0.21%      0.000      0.000      0.000      0.000                1      Proc#call
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#call
   0.55%   0.55%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#loop
   0.28%   0.11%      0.000      0.000      0.000      0.000                1      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#puts
   0.17%   0.08%      0.000      0.000      0.000      0.000                1      IO#puts
                      0.000      0.000      0.000      0.000              2/2      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.16%   0.16%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.16%   0.16%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      IO#puts
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      IO#write

* indicates recursively called methods
Thread ID: 77742020
Fiber ID: 77741590
Total Time: 0.012420665999999969
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.85%      0.012      0.000      0.012      0.000                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      Kernel#sleep

* indicates recursively called methods
Thread ID: 76643800
Fiber ID: 76762950
Total Time: 0.02225065300000001
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.71%      0.022      0.000      0.000      0.022                1      <Module::CodeProfiler>#profile_logger
                      0.022      0.000      0.000      0.022              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.022      0.000      0.000      0.022              1/1      <Module::CodeProfiler>#profile_logger
  99.29%   1.20%      0.022      0.000      0.000      0.022                1      MyServer#handle_request
                      0.013      0.000      0.000      0.013              2/2      Moped::Collection#insert
                      0.003      0.000      0.000      0.003             1/25      Class#new
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.001      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000             4/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/2      String#to_i
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/9      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.013              2/2      MyServer#handle_request
  58.14%   0.32%      0.013      0.000      0.000      0.013                2      Moped::Collection#insert
                      0.013      0.000      0.000      0.013              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.013              2/2      Moped::Collection#insert
  57.77%   0.48%      0.013      0.000      0.000      0.013                2      Moped::Session#with
                      0.012      0.000      0.000      0.012              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              2/2      Moped::Session#with
  55.81%   0.13%      0.012      0.000      0.000      0.012                2      Moped::Session::Context#insert
                      0.012      0.000      0.000      0.012              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              2/2      Moped::Session::Context#insert
  55.67%   0.37%      0.012      0.000      0.000      0.012                2      Moped::Session::Context#with_node
                      0.012      0.000      0.000      0.012              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              2/2      Moped::Session::Context#with_node
  54.76%   0.40%      0.012      0.000      0.000      0.012                2      Moped::Cluster#with_primary
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#nodes
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/3      Moped::Node#insert
                      0.006      0.000      0.000      0.006              1/3      Moped::Node#command
  44.67%   0.35%      0.010      0.000      0.000      0.010                3      Moped::Node#process
                      0.010      0.000      0.000      0.010              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.010      0.000      0.000      0.010              3/3      Moped::Node#process
  43.38%   0.35%      0.010      0.000      0.000      0.010                3      Moped::Node#flush
                      0.010      0.000      0.000      0.009              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.010      0.000      0.000      0.009              3/3      Moped::Node#flush
  42.83%   0.48%      0.010      0.000      0.000      0.009                3      Moped::Node#logging
                      0.009      0.000      0.000      0.009              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/14      Mutex#synchronize
                      0.000      0.000      0.000      0.000             1/14      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/14      Enumerable#find
                      0.000      0.000      0.000      0.000             2/14      Enumerable#partition
                      0.000      0.000      0.000      0.000             1/14      Regexp#match
                      0.003      0.000      0.000      0.003             3/14      Moped::Connection#write
                      0.006      0.000      0.000      0.006             2/14      Moped::Cluster#refresh
  42.28%   1.34%      0.009      0.000      0.000      0.009               14     *Array#each
                      0.006      0.000      0.000      0.006              1/1      Moped::Node#refresh
                      0.003      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/9      Array#include?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              3/5      MatchData#[]
                      0.000      0.000      0.000      0.000              1/3      Hash#update
                      0.000      0.000      0.000      0.000              1/2      String#to_i
                      0.000      0.000      0.000      0.000              2/4      Regexp#match
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              3/3      Moped::Node#logging
  40.41%   1.07%      0.009      0.000      0.000      0.009                3      Moped::Node#ensure_connected
                      0.005      0.000      0.000      0.005              3/3      Moped::Connection#write
                      0.002      0.000      0.000      0.002              3/3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#with_primary
  31.82%   0.65%      0.007      0.000      0.000      0.007                2      Moped::Cluster#nodes
                      0.006      0.000      0.000      0.006              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Cluster#nodes
  29.10%   0.34%      0.006      0.000      0.000      0.006                2      Moped::Cluster#refresh
                      0.006      0.000      0.000      0.006             2/14      Array#each
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              1/1      Array#each
  27.91%   0.47%      0.006      0.000      0.000      0.006                1      Moped::Node#refresh
                      0.006      0.000      0.000      0.006              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              1/1      Moped::Node#refresh
  26.71%   0.14%      0.006      0.000      0.000      0.006                1      Moped::Node#command
                      0.006      0.000      0.000      0.006              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
  22.04%   0.56%      0.005      0.000      0.000      0.005                2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/25      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000             3/25      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/25      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             2/25      Logger#initialize
                      0.000      0.000      0.000      0.000             1/25      Integer#times
                      0.000      0.000      0.000      0.000             1/25      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/25      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#connection
                      0.000      0.000      0.000      0.000             2/25      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/25      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#command
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Moped::Logging#default_logger
                      0.001      0.000      0.000      0.001             1/25      Reel::Connection#respond
                      0.003      0.000      0.000      0.003             1/25      MyServer#handle_request
  21.33%   1.15%      0.005      0.000      0.000      0.004               25     *Class#new
                      0.003      0.000      0.000      0.003              1/1      TerminalUser#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000            16/19      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              3/3      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              3/3      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/5      Time#initialize
                      0.000      0.000      0.000      0.000              2/5      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              2/2      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              1/1      Logger::Formatter#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Class>#allocate
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              2/2      Mutex#initialize
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              3/3      Moped::Node#ensure_connected
  21.19%   0.35%      0.005      0.000      0.000      0.005                3      Moped::Connection#write
                      0.003      0.000      0.000      0.003             3/14      Array#each
                      0.001      0.000      0.000      0.001              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
  19.60%   0.16%      0.004      0.000      0.000      0.004                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.002              2/2      Array#each
  11.78%   0.83%      0.003      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/21      String#bytesize
                      0.000      0.000      0.000      0.000              2/8      String#[]=
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Class#new
  11.77%   0.21%      0.003      0.000      0.000      0.003                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/25      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/4      Moped::Connection#write
                      0.002      0.000      0.000      0.002              1/4      Moped::Connection#read
  11.73%   1.10%      0.003      0.000      0.000      0.002                4      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerable#map
                      0.001      0.000      0.000      0.001              3/3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              4/5      Kernel#nil?
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/2      Integer#times
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.001      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.002      0.000      0.000      0.002              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
  10.81%   1.47%      0.002      0.000      0.000      0.002                5      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/7      String#to_s
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
  10.79%   0.15%      0.002      0.000      0.000      0.002                1      Reel::Request#respond
                      0.002      0.000      0.000      0.002              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  10.77%   0.80%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              8/9      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
  10.65%   0.95%      0.002      0.000      0.000      0.002                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.001      0.000      0.000      0.001             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.002      0.000      0.000      0.002              2/3      Array#each
   9.67%   0.22%      0.002      0.000      0.000      0.002                3      <Class::Moped::BSON::Document>#serialize
                      0.002      0.000      0.000      0.002              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002             3/10      Moped::Connection#receive_replies
   9.51%   0.57%      0.002      0.000      0.000      0.002               10      Array#map
                      0.002      0.000      0.000      0.002              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              3/3      <Class::Moped::BSON::Document>#serialize
   9.44%   0.90%      0.002      0.000      0.000      0.002                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.002      0.000      0.000      0.002              3/5      Hash#each
                      0.000      0.000      0.000      0.000             6/21      String#bytesize
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             3/35      Array#pack
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              3/3      Moped::Node#ensure_connected
   8.53%   0.23%      0.002      0.000      0.000      0.002                3      Moped::Connection#receive_replies
                      0.002      0.000      0.000      0.002             3/10      Array#map
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
   8.28%   0.13%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/14      Array#each
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
   8.12%   0.11%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#pty_open
                      0.002      0.002      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Array#map
   8.05%   0.07%      0.002      0.000      0.000      0.002                1      Moped::Protocol::Query#receive_replies
                      0.002      0.000      0.000      0.002              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.002      0.002      0.000      0.000              1/1      Session::AbstractSession#pty_open
   8.01%   7.98%      0.002      0.002      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Moped::Protocol::Query#receive_replies
   7.98%   0.08%      0.002      0.000      0.000      0.002                1      Moped::Connection#read
                      0.002      0.000      0.000      0.002              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   6.46%   0.66%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                     -0.000     -0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   5.47%   0.25%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#ensure_connected
   5.29%   0.11%      0.001      0.000      0.000      0.001                1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
   5.14%   0.15%      0.001      0.000      0.000      0.001                1      Moped::Connection#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   5.02%   1.68%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/35      Array#pack
                      0.000      0.000      0.000      0.000             8/21      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
   4.98%   0.13%      0.001      0.000      0.000      0.001                1      Moped::Sockets::Connectable::ClassMethods#connect
                      0.001      0.000      0.000      0.001              1/1      Timeout#timeout
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#each
   4.87%   0.60%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000             2/21      String#bytesize
                      0.000      0.000      0.000      0.000              1/8      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
   4.85%   0.79%      0.001      0.000      0.000      0.001                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#join
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#start
                      0.000      0.000      0.000      0.000              3/3      BasicSocket#setsockopt
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      IO#set_encoding
                      0.000      0.000      0.000      0.000             1/35      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Thread#kill
                      0.000      0.000      0.000      0.000              1/1      Fixnum#zero?
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   4.44%   0.18%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.001      0.000      0.000      0.001              1/2      Moped::Connection#with_connection
   4.36%   0.12%      0.001      0.000      0.000      0.001                2      Enumerable#map
                      0.001      0.000      0.000      0.001              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
   4.26%   0.82%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#do_write
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerator#each
   4.05%   0.23%      0.001      0.000      0.000      0.001                2      Integer#times
                      0.001      0.000      0.000      0.001              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Enumerable#map
   4.02%   0.06%      0.001      0.000      0.000      0.001                1      Enumerator#each
                      0.001      0.000      0.000      0.001              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
   3.69%   0.37%      0.001      0.000      0.000      0.001                1      Reel::Response#initialize
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000             1/21      String#bytesize
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Integer#times
   3.68%   0.07%      0.001      0.000      0.000      0.001                1      <Class::Moped::BSON::Document>#deserialize
                      0.001      0.000      0.000      0.001              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#write
   3.65%   0.57%      0.001      0.000      0.000      0.001                6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             3/26      IO#write
                      0.000      0.000      0.000      0.000              1/1      TCPSocket#initialize
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      <Class::Moped::BSON::Document>#deserialize
   3.61%   1.04%      0.001      0.000      0.000      0.001                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000             5/12      Hash#[]=
                      0.000      0.000      0.000      0.000              6/7      StringIO#readbyte
                      0.000      0.000      0.000      0.000              5/5      String#chop!
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
   3.15%   0.26%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#syswrite
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#__bson_dump__
   2.97%   1.14%      0.001      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   2.89%   0.87%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   2.88%   0.40%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   2.87%   0.11%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#initialize
   2.69%   0.14%      0.001      0.000      0.000      0.001                1      Reel::Response#canonicalize_headers
                      0.001      0.000      0.000      0.001              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.001      0.000      0.000      0.001              1/2      Reel::Response#canonicalize_headers
   2.68%   0.11%      0.001      0.000      0.000      0.001                2      Enumerable#inject
                      0.001      0.000      0.000      0.000              1/5      Hash#each
                      0.000      0.000      0.000      0.000             1/14      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   2.52%   1.63%      0.001      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000            16/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             3/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_bson_cstring
   2.50%   1.27%      0.001      0.000      0.000      0.000               19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            19/23      String#encode
                      0.000      0.000      0.000      0.000            19/30      String#force_encoding
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#with_connection
   2.49%   0.21%      0.001      0.000      0.000      0.001                3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.33%   0.21%      0.001      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
   2.15%   0.92%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              1/1      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/26      IO#printf
                      0.000      0.000      0.000      0.000            22/26      IO#puts
                      0.000      0.000      0.000      0.000             3/26      Moped::Sockets::Connectable#handle_socket_errors
   2.08%   1.42%      0.000      0.000      0.000      0.000               26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   2.06%   0.22%      0.000      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   2.00%   0.19%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.94%   0.61%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             3/35      Array#pack
                      0.000      0.000      0.000      0.000              3/3      Fixnum#>=
                      0.000      0.000      0.000      0.000              3/3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   1.92%   0.08%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.91%   0.85%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   1.85%   0.16%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   1.82%   0.52%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000             4/23      String#encode
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.81%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   1.80%   0.53%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   1.80%   0.75%      0.000      0.000      0.000      0.000                3      String#gsub!
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.78%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   1.78%   0.22%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
   1.72%   0.45%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   1.71%   0.12%      0.000      0.000      0.000      0.000                1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/11      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000             4/11      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#respond
   1.69%   0.47%      0.000      0.000      0.000      0.000               11      Kernel#puts
                      0.000      0.000      0.000      0.000            11/11      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.61%   0.24%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.59%   0.30%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   1.57%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#each
                      0.000      0.000      0.000      0.000              1/4      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      String#gsub!
   1.56%   0.75%      0.000      0.000      0.000      0.000                4     *Regexp#match
                      0.000      0.000      0.000      0.000             1/14      Array#each
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              2/5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
   1.56%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   1.49%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.44%   0.43%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/5      String#split
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
   1.42%   0.29%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             1/35      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             4/35      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/35      Moped::BSON::Extensions::String#__bson_dump__
   1.36%   1.36%      0.000      0.000      0.000      0.000               35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.32%   0.37%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#handle_socket_errors
   1.29%   1.29%      0.000      0.000      0.000      0.000                1      TCPSocket#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.26%   0.24%      0.000      0.000      0.000      0.000                1      Logger#initialize
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.22%   0.21%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Kernel#puts
   1.22%   0.55%      0.000      0.000      0.000      0.000               11      IO#puts
                      0.000      0.000      0.000      0.000            22/26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.21%   0.67%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   1.11%   1.11%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.06%   0.33%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.01%   1.01%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/23      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            19/23      Moped::BSON::Extensions::String#to_utf8_binary
   0.99%   0.99%      0.000      0.000      0.000      0.000               23      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.98%   0.64%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.97%   0.28%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.91%   0.23%      0.000      0.000      0.000      0.000                1      Thread#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.89%   0.25%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.83%   0.18%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000             4/30      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.79%   0.20%      0.000      0.000      0.000      0.000                1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Kernel#respond_to?
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connect
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connected?
   0.76%   0.50%      0.000      0.000      0.000      0.000               10      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/30      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             5/30      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000             4/30      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            19/30      Moped::BSON::Extensions::String#to_utf8_binary
   0.75%   0.75%      0.000      0.000      0.000      0.000               30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.75%   0.30%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.73%   0.13%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/14      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.71%   0.34%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/35      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/4      Hash#each
   0.71%   0.31%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.67%   0.31%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.67%   0.14%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.64%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.64%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.61%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
   0.61%   0.61%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.61%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      MyServer#handle_request
                      0.000      0.000      0.000      0.000             1/12      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/12      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             3/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             5/12      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             1/12      Array#each
   0.60%   0.48%      0.000      0.000      0.000      0.000               12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.60%   0.35%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.57%   0.20%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/1      Bignum#divmod
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.50%   0.18%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/22      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/22      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/22      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/22      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000            16/22      Moped::Threaded#stack
   0.49%   0.49%      0.000      0.000      0.000      0.000               22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.49%   0.49%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.49%   0.17%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.49%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.46%   0.46%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/21      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             2/21      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             4/21      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             6/21      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             8/21      Moped::BSON::Extensions::String#__bson_dump__
   0.46%   0.46%      0.000      0.000      0.000      0.000               21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.45%   0.45%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.45%   0.45%      0.000      0.000      0.000      0.000                1      <Class::Thread>#start
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.44%   0.29%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Array#include?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.44%   0.07%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.44%   0.16%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/19      Class#allocate
                      0.000      0.000      0.000      0.000             2/19      Kernel#dup
                      0.000      0.000      0.000      0.000            16/19      Class#new
   0.43%   0.43%      0.000      0.000      0.000      0.000               19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.43%   0.43%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.43%   0.15%      0.000      0.000      0.000      0.000                1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000              1/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.42%   0.26%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
                      0.000      0.000      0.000      0.000             1/10      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.42%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/5      Regexp#match
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.41%   0.41%      0.000      0.000      0.000      0.000                5      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.40%   0.19%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.40%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.40%   0.40%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
   0.39%   0.39%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.38%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.38%   0.23%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.37%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.37%   0.23%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/14      Array#each
                      0.000      0.000      0.000      0.000              1/4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.35%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.35%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.35%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.34%   0.34%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.34%   0.23%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              2/2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.33%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/14      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.32%   0.32%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.32%   0.32%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.31%   0.31%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.31%   0.19%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      String#unpack
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Timeout#timeout
   0.31%   0.31%      0.000      0.000      0.000      0.000                3      BasicSocket#setsockopt
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
   0.30%   0.30%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.30%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.27%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.27%   0.27%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/3      Moped::Node#refresh
   0.27%   0.13%      0.000      0.000      0.000      0.000                3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              3/5      Time#initialize
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.26%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.26%   0.12%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
   0.25%   0.13%      0.000      0.000      0.000      0.000                1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.25%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.25%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.24%   0.15%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.24%   0.10%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.24%   0.15%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.23%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.23%   0.23%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.23%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/9      Array#each
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
   0.23%   0.23%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.22%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.22%   0.05%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.20%   0.20%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.20%   0.12%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.20%   0.13%      0.000      0.000      0.000      0.000                3      StringIO#initialize
                      0.000      0.000      0.000      0.000              3/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.19%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.19%   0.19%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.18%   0.07%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.18%   0.18%      0.000      0.000      0.000      0.000                7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.18%   0.08%      0.000      0.000      0.000      0.000                1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.18%   0.18%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      Time#utc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.17%   0.17%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.17%   0.17%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.16%   0.08%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.16%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.16%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
   0.15%   0.10%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/1      Float#==
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Connection#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Regexp#match
                      0.000      0.000      0.000      0.000              3/5      Array#each
   0.15%   0.15%      0.000      0.000      0.000      0.000                5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.15%   0.15%      0.000      0.000      0.000      0.000                5      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.15%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.14%   0.09%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.14%   0.14%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.13%   0.08%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              2/7      Hash#each
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.13%   0.13%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/5      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      MyServer#handle_request
                      0.000      0.000      0.000      0.000              4/5      Moped::Connection#with_connection
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.12%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
                      0.000      0.000      0.000      0.000              8/9      Session::AbstractSession#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                9      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.12%   0.09%      0.000      0.000      0.000      0.000                1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#alive?
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.11%   0.11%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.11%   0.11%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.11%   0.08%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.11%   0.08%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Symbol#to_proc
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#needs_refresh?
   0.10%   0.07%      0.000      0.000      0.000      0.000                1      Comparable#<
                      0.000      0.000      0.000      0.000              1/1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.10%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.10%   0.07%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/2      Array#each
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.10%   0.08%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/4      StringIO#initialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      IO#set_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Logger::LogDevice#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#respond_to?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#new
                      0.000      0.000      0.000      0.000              2/3      <Module::PTY>#spawn
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Bignum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Logger::Formatter#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Thread#kill
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Class>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.03%   0.03%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?

* indicates recursively called methods
Thread ID: 76761390
Fiber ID: 76760420
Total Time: 0.01864845799999998
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.42%      0.019      0.000      0.000      0.019                1      Session::AbstractSession#_initialize
                      0.019      0.000      0.000      0.018              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.019      0.000      0.000      0.018              1/1      Session::AbstractSession#_initialize
  99.58%   0.96%      0.019      0.000      0.000      0.018                1      Kernel#loop
                      0.011      0.000      0.011      0.000              3/3      IO#readpartial
                      0.007      0.000      0.007      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.011      0.000      0.011      0.000              3/3      Kernel#loop
  58.66%   0.46%      0.011      0.000      0.011      0.000                3      IO#readpartial
--------------------------------------------------------------------------------
                      0.007      0.000      0.007      0.000              2/2      Kernel#loop
  38.36%   0.79%      0.007      0.000      0.007      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#loop
   0.92%   0.65%      0.000      0.000      0.000      0.000                3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              9/9      Module#===
                      0.000      0.000      0.000      0.000              9/9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.49%   0.17%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.33%   0.33%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.18%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.14%   0.14%      0.000      0.000      0.000      0.000                9      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.13%   0.13%      0.000      0.000      0.000      0.000                9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.12%   0.06%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
Thread ID: 76758470
Fiber ID: 76758330
Total Time: 0.015427833000000002
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.90%      0.015      0.000      0.015      0.000                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      Kernel#sleep

* indicates recursively called methods
Thread ID: 76394510
Fiber ID: 76513620
Total Time: 0.014494752999999971
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.14%      0.014      0.000      0.000      0.014                1      <Module::CodeProfiler>#profile_logger
                      0.014      0.000      0.000      0.014              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.014      0.000      0.000      0.014              1/1      <Module::CodeProfiler>#profile_logger
  98.86%   1.24%      0.014      0.000      0.000      0.014                1      MyServer#handle_request
                      0.008      0.000      0.000      0.008              2/2      Moped::Collection#insert
                      0.003      0.000      0.000      0.003             1/24      Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/6      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              2/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/1      NilClass#to_i
--------------------------------------------------------------------------------
                      0.008      0.000      0.000      0.008              2/2      MyServer#handle_request
  55.50%   0.26%      0.008      0.000      0.000      0.008                2      Moped::Collection#insert
                      0.008      0.000      0.000      0.008              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.008      0.000      0.000      0.008              2/2      Moped::Collection#insert
  55.19%   0.51%      0.008      0.000      0.000      0.008                2      Moped::Session#with
                      0.008      0.000      0.000      0.008              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.008      0.000      0.000      0.008              2/2      Moped::Session#with
  52.94%   0.14%      0.008      0.000      0.000      0.008                2      Moped::Session::Context#insert
                      0.008      0.000      0.000      0.008              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.008      0.000      0.000      0.008              2/2      Moped::Session::Context#insert
  52.80%   0.54%      0.008      0.000      0.000      0.008                2      Moped::Session::Context#with_node
                      0.007      0.000      0.000      0.007              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.007              2/2      Moped::Session::Context#with_node
  51.63%   0.36%      0.007      0.000      0.000      0.007                2      Moped::Cluster#with_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#nodes
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.002              2/3      Moped::Node#insert
                      0.004      0.000      0.000      0.004              1/3      Moped::Node#command
  42.71%   0.28%      0.006      0.000      0.000      0.006                3      Moped::Node#process
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#process
  41.67%   0.31%      0.006      0.000      0.000      0.006                3      Moped::Node#flush
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#flush
  41.20%   0.48%      0.006      0.000      0.000      0.006                3      Moped::Node#logging
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#logging
  39.28%   1.07%      0.006      0.000      0.000      0.006                3      Moped::Node#ensure_connected
                      0.003      0.000      0.000      0.003              3/3      Moped::Connection#write
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/13      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/13      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/13      Enumerable#find
                      0.000      0.000      0.000      0.000             1/13      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/13      Enumerable#partition
                      0.002      0.000      0.000      0.001             3/13      Moped::Connection#write
                      0.004      0.000      0.000      0.004             2/13      Moped::Cluster#refresh
  38.81%   0.87%      0.006      0.000      0.000      0.005               13     *Array#each
                      0.004      0.000      0.000      0.004              1/1      Moped::Node#refresh
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#with_primary
  30.54%   0.70%      0.004      0.000      0.000      0.004                2      Moped::Cluster#nodes
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/24      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#nodes
  27.70%   0.32%      0.004      0.000      0.000      0.004                2      Moped::Cluster#refresh
                      0.004      0.000      0.000      0.004             2/13      Array#each
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              1/1      Array#each
  26.79%   0.26%      0.004      0.000      0.000      0.004                1      Moped::Node#refresh
                      0.004      0.000      0.000      0.004              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Logger#initialize
                      0.000      0.000      0.000      0.000             3/24      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             1/24      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/24      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/24      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000             1/24      Integer#times
                      0.000      0.000      0.000      0.000             1/24      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/24      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/24      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             2/24      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/24      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/24      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/24      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/24      Moped::Node#command
                      0.000      0.000      0.000      0.000             1/24      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/24      Reel::Connection#respond
                      0.003      0.000      0.000      0.003             1/24      MyServer#handle_request
  26.19%   1.14%      0.004      0.000      0.000      0.004               24     *Class#new
                      0.003      0.000      0.000      0.003              1/1      TerminalUser#initialize
                      0.003      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000            15/18      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              3/3      StringIO#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              3/3      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              2/2      Mutex#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::Formatter#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Class>#allocate
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              1/1      Moped::Node#refresh
  26.16%   0.11%      0.004      0.000      0.000      0.004                1      Moped::Node#command
                      0.004      0.000      0.000      0.004              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
  20.34%   0.57%      0.003      0.000      0.000      0.003                2      Moped::Node#ensure_primary
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Class#new
  19.76%   0.44%      0.003      0.000      0.000      0.003                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000             3/24      Class#new
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              3/3      Moped::Node#ensure_connected
  19.08%   0.38%      0.003      0.000      0.000      0.003                3      Moped::Connection#write
                      0.002      0.000      0.000      0.001             3/13      Array#each
                      0.000      0.000      0.000      0.000              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_primary
  17.96%   0.15%      0.003      0.000      0.000      0.003                2      Moped::Node#insert
                      0.003      0.000      0.000      0.002              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/24      Class#new
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.002              1/1      Class#new
  17.86%   1.38%      0.003      0.000      0.000      0.002                1      Session::AbstractSession#initialize
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/5      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Session::AbstractSession#initialize
  13.80%   0.26%      0.002      0.000      0.000      0.002                1      Session::AbstractSession#pty_open
                      0.002      0.002      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.002      0.002      0.000      0.000              1/1      Session::AbstractSession#pty_open
  13.54%  13.49%      0.002      0.002      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/4      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#read
  10.74%   1.12%      0.002      0.000      0.000      0.001                4      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              3/3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000             1/24      Class#new
                      0.000      0.000      0.000      0.000              1/2      Integer#times
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              4/4      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
  10.20%   0.77%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/19      String#bytesize
                      0.000      0.000      0.000      0.000              2/8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.000      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.001      0.000      0.000      0.001              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
   8.82%   1.20%      0.001      0.000      0.000      0.001                5      Hash#each
                      0.000      0.000      0.000      0.000              6/6      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::NilClass#__bson_dump__
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              2/5      String#to_s
                      0.000      0.000      0.000      0.000              1/3      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001             3/10      Moped::Connection#receive_replies
   8.68%   0.55%      0.001      0.000      0.000      0.001               10      Array#map
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.001      0.000      0.000      0.001              2/3      Array#each
   8.43%   0.21%      0.001      0.000      0.000      0.001                3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Node#ensure_connected
   8.22%   0.23%      0.001      0.000      0.000      0.001                3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001             3/10      Array#map
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      <Class::Moped::BSON::Document>#serialize
   8.22%   0.79%      0.001      0.000      0.000      0.001                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              3/5      Hash#each
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             6/19      String#bytesize
                      0.000      0.000      0.000      0.000             3/33      Array#pack
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   7.90%   0.40%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#map
   7.66%   0.08%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   7.64%   0.11%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
   7.58%   0.21%      0.001      0.000      0.000      0.001                1      Moped::Connection#read
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
   7.53%   0.39%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/24      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#ensure_connected
   7.29%   0.19%      0.001      0.000      0.000      0.001                1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
   7.08%   0.20%      0.001      0.000      0.000      0.001                1      Moped::Connection#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   7.04%   0.12%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
   6.88%   0.13%      0.001      0.000      0.000      0.001                1      Moped::Sockets::Connectable::ClassMethods#connect
                      0.001      0.000      0.000      0.001              1/1      Timeout#timeout
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
   6.75%   0.82%      0.001      0.000      0.000      0.001                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#join
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#start
                      0.000      0.000      0.000      0.000              3/3      BasicSocket#setsockopt
                      0.000      0.000      0.000      0.000             1/24      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#set_encoding
                      0.000      0.000      0.000      0.000             1/33      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Thread#kill
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      Fixnum#zero?
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   6.62%   1.10%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              5/5      Kernel#sleep
                      0.000      0.000      0.000      0.000             5/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#each
   4.76%   0.61%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000             2/19      String#bytesize
                      0.000      0.000      0.000      0.000              1/8      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              5/5      TerminalUser#block_for_output_to_come
   4.41%   1.55%      0.001      0.000      0.000      0.000                5      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   4.23%   0.15%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.001      0.000      0.000      0.001              1/2      Moped::Connection#with_connection
   4.13%   0.09%      0.001      0.000      0.000      0.001                2      Enumerable#map
                      0.001      0.000      0.000      0.001              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerator#each
   3.98%   0.24%      0.001      0.000      0.000      0.001                2      Integer#times
                      0.001      0.000      0.000      0.001              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Enumerable#map
   3.92%   0.05%      0.001      0.000      0.000      0.001                1      Enumerator#each
                      0.001      0.000      0.000      0.001              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::TCP#initialize
   3.78%   0.70%      0.001      0.000      0.000      0.000                6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              1/1      TCPSocket#initialize
                      0.000      0.000      0.000      0.000             3/23      IO#write
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   3.62%   0.14%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Integer#times
   3.58%   0.07%      0.001      0.000      0.000      0.001                1      <Class::Moped::BSON::Document>#deserialize
                      0.001      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
   3.51%   1.03%      0.001      0.000      0.000      0.000                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000             5/12      Hash#[]=
                      0.000      0.000      0.000      0.000              6/7      StringIO#readbyte
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              5/5      String#chop!
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   3.47%   0.64%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Hash#each
   3.42%   1.17%      0.000      0.000      0.000      0.000                6      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             6/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             6/17      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             6/33      Array#pack
                      0.000      0.000      0.000      0.000             6/19      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/11      Moped::BSON::Extensions::NilClass#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             6/11      Moped::BSON::Extensions::String#__bson_dump__
   2.84%   1.00%      0.000      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/17      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   2.69%   0.09%      0.000      0.000      0.000      0.000                1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   2.61%   0.18%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
   2.58%   0.22%      0.000      0.000      0.000      0.000                1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   2.48%   0.26%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/19      String#bytesize
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   2.43%   0.68%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   2.41%   1.60%      0.000      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000             3/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/17      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/17      Moped::BSON::Extensions::String#to_bson_cstring
   2.18%   1.10%      0.000      0.000      0.000      0.000               17      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            17/21      String#encode
                      0.000      0.000      0.000      0.000            17/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#handle_socket_errors
   2.16%   0.61%      0.000      0.000      0.000      0.000                1      TCPSocket#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#with_connection
   2.07%   0.30%      0.000      0.000      0.000      0.000                3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   1.97%   0.59%      0.000      0.000      0.000      0.000                1      Thread#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
   1.95%   0.77%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              2/2      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   1.90%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/5      Hash#each
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.88%   0.58%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              3/3      Fixnum#>=
                      0.000      0.000      0.000      0.000             3/33      Array#pack
                      0.000      0.000      0.000      0.000              3/3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             5/10      TerminalUser#block_for_output_to_come
   1.85%   0.60%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.83%   0.20%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/18      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.79%   0.24%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.77%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   1.75%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/6      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/6      MyServer#handle_request
   1.74%   0.38%      0.000      0.000      0.000      0.000                6     *Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      Hash#inspect
                      0.000      0.000      0.000      0.000              1/1      Array#inspect
                      0.000      0.000      0.000      0.000              1/1      Proc#to_s
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              3/3      IO#inspect
                      0.000      0.000      0.000      0.000              6/6      NilClass#inspect
                      0.000      0.000      0.000      0.000              3/4      String#inspect
                      0.000      0.000      0.000      0.000              1/3      Fixnum#to_s
                      0.000      0.000      0.000      0.000              5/6      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   1.72%   0.16%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000              1/7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
   1.51%   0.37%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             3/23      Moped::Sockets::Connectable#handle_socket_errors
   1.50%   1.50%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.47%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
   1.38%   0.34%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.37%   0.66%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/24      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   1.32%   0.19%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   1.32%   0.39%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/21      String#encode
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   1.29%   0.90%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   1.26%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.25%   0.58%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.18%   0.17%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.18%   0.51%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.15%   0.32%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.09%   0.32%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   1.07%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             1/33      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/33      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             3/33      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             1/33      Timeout#timeout
                      0.000      0.000      0.000      0.000             3/33      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             4/33      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             6/33      Moped::BSON::Extensions::String#__bson_dump__
   1.03%   1.03%      0.000      0.000      0.000      0.000               33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   1.02%   1.02%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.02%   1.02%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.93%   0.29%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/21      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            17/21      Moped::BSON::Extensions::String#to_utf8_binary
   0.86%   0.86%      0.000      0.000      0.000      0.000               21      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.86%   0.14%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.83%   0.17%      0.000      0.000      0.000      0.000                1      Logger#initialize
                      0.000      0.000      0.000      0.000             2/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.81%   0.27%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.79%   0.53%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.74%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   0.70%   0.18%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::NilClass#__bson_dump__
                      0.000      0.000      0.000      0.000             2/11      Moped::BSON::Extensions::String#to_bson_cstring
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.67%   0.22%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.67%   0.67%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connect
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connected?
   0.67%   0.50%      0.000      0.000      0.000      0.000               10      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.63%   0.35%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.60%   0.38%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.56%   0.26%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.56%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.55%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/4      Hash#each
   0.55%   0.25%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             5/24      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000            17/24      Moped::BSON::Extensions::String#to_utf8_binary
   0.52%   0.52%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.52%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.52%   0.14%      0.000      0.000      0.000      0.000                1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Kernel#respond_to?
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/22      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/22      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             2/22      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/22      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000            16/22      Moped::Threaded#stack
   0.50%   0.50%      0.000      0.000      0.000      0.000               22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.50%   0.17%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      Bignum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/12      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/12      MyServer#handle_request
                      0.000      0.000      0.000      0.000             3/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             5/12      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             1/12      Array#each
   0.47%   0.35%      0.000      0.000      0.000      0.000               12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.46%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.46%   0.17%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.43%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.43%   0.20%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/3      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.43%   0.43%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.42%   0.19%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.41%   0.27%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Array#include?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.40%   0.40%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.40%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.39%   0.39%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.39%   0.39%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.38%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.37%   0.37%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/19      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             2/19      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             4/19      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             6/19      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             6/19      Moped::BSON::Extensions::Hash#__bson_dump__
   0.37%   0.37%      0.000      0.000      0.000      0.000               19      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/18      Class#allocate
                      0.000      0.000      0.000      0.000             2/18      Kernel#dup
                      0.000      0.000      0.000      0.000            15/18      Class#new
   0.36%   0.36%      0.000      0.000      0.000      0.000               18      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.35%   0.35%      0.000      0.000      0.000      0.000                1      <Class::Thread>#start
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
   0.34%   0.34%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.34%   0.11%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.34%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.33%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Timeout#timeout
   0.33%   0.33%      0.000      0.000      0.000      0.000                3      BasicSocket#setsockopt
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.33%   0.33%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.33%   0.07%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.32%   0.32%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.32%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.32%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.31%   0.07%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.31%   0.05%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.31%   0.16%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000              3/7      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.30%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.29%   0.23%      0.000      0.000      0.000      0.000                3      StringIO#initialize
                      0.000      0.000      0.000      0.000              3/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.29%   0.12%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.29%   0.18%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      String#unpack
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.28%   0.09%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.27%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.27%   0.27%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.27%   0.27%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.26%   0.09%      0.000      0.000      0.000      0.000                1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000              1/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.26%   0.16%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/4      Array#clear
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.25%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.25%   0.16%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.24%   0.15%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.24%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#inspect
   0.23%   0.12%      0.000      0.000      0.000      0.000                1      Hash#inspect
                      0.000      0.000      0.000      0.000              1/4      String#inspect
                      0.000      0.000      0.000      0.000              1/1      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.23%   0.23%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.23%   0.23%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.23%   0.23%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.22%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.22%   0.14%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.22%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.22%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.22%   0.15%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              2/2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/33      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#needs_refresh?
   0.21%   0.15%      0.000      0.000      0.000      0.000                1      Comparable#<
                      0.000      0.000      0.000      0.000              1/1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.21%   0.21%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.20%   0.20%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Node#refresh
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.20%   0.09%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.20%   0.20%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.20%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.19%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.18%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
                      0.000      0.000      0.000      0.000             1/10      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.18%   0.10%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.17%   0.12%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/9      Array#each
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
   0.17%   0.17%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Class#new
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Array#each
   0.17%   0.17%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.16%   0.16%      0.000      0.000      0.000      0.000                7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
   0.16%   0.08%      0.000      0.000      0.000      0.000                1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/24      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.16%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.16%   0.16%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#alive?
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/7      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/7      Reel::Response#render
                      0.000      0.000      0.000      0.000              1/7      JSON#generate
                      0.000      0.000      0.000      0.000              3/7      Reel::Response#status=
   0.15%   0.15%      0.000      0.000      0.000      0.000                7      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Time#utc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Hash#inspect
                      0.000      0.000      0.000      0.000              3/4      Kernel#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.14%   0.14%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
   0.14%   0.14%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.14%   0.14%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.13%   0.13%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      IO#set_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#inspect
   0.12%   0.06%      0.000      0.000      0.000      0.000                1      Array#inspect
                      0.000      0.000      0.000      0.000              1/1      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
   0.12%   0.12%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.12%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.12%   0.12%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.11%   0.08%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                5      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Connection#with_connection
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Hash#each
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Class#new
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Connection#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.09%   0.06%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
   0.09%   0.06%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
                      0.000      0.000      0.000      0.000              1/1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.08%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                6      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.08%   0.06%      0.000      0.000      0.000      0.000                1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/3      Hash#each
                      0.000      0.000      0.000      0.000              1/3      Kernel#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/4      StringIO#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.08%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.08%   0.06%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      MyServer#handle_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#new
                      0.000      0.000      0.000      0.000              2/3      <Module::PTY>#spawn
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Symbol#to_proc
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.06%   0.05%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/18      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Thread#kill
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.05%   0.04%      0.000      0.000      0.000      0.000                1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#inspect
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Logger::LogDevice#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#respond_to?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Bignum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Logger::Formatter#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Class>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      NilClass#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      Float#==

* indicates recursively called methods
Thread ID: 76509660
Fiber ID: 76509510
Total Time: 0.009526018999999997
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.94%      0.010      0.000      0.009      0.001                1      Timeout#timeout
                      0.001      0.000      0.000      0.000              1/1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      Timeout#timeout
   6.26%   2.04%      0.001      0.000      0.000      0.000                1      Kernel#sleep

* indicates recursively called methods
Thread ID: 76512140
Fiber ID: 76509240
Total Time: 0.00908287200000002
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.62%      0.009      0.000      0.000      0.009                1      Session::AbstractSession#_initialize
                      0.009      0.000      0.000      0.009              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              1/1      Session::AbstractSession#_initialize
  99.38%   1.22%      0.009      0.000      0.000      0.009                1      Kernel#loop
                      0.008      0.000      0.008      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      Proc#call
                      0.000      0.000      0.000      0.000              1/1      Kernel#puts
--------------------------------------------------------------------------------
                      0.008      0.000      0.008      0.000              2/2      Kernel#loop
  93.30%   1.02%      0.008      0.000      0.008      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#loop
   1.80%   0.67%      0.000      0.000      0.000      0.000                1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.33%   0.88%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#loop
   1.28%   0.36%      0.000      0.000      0.000      0.000                1      Proc#call
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#call
   0.93%   0.93%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#loop
   0.45%   0.17%      0.000      0.000      0.000      0.000                1      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#puts
   0.27%   0.12%      0.000      0.000      0.000      0.000                1      IO#puts
                      0.000      0.000      0.000      0.000              2/2      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.23%   0.23%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.22%   0.22%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      IO#puts
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      IO#write

* indicates recursively called methods
***** start_time: 2013-04-25 23:26:23 +0530------------end_time: 2013-04-25 23:26:28 +0530------------total_time_required: 5.123186947
Thread ID: 76394510
Fiber ID: 77053110
Total Time: 0.03010298899999997
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.14%      0.030      0.000      0.000      0.030                1      <Module::CodeProfiler>#profile_logger
                      0.030      0.000      0.000      0.030              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.030      0.000      0.000      0.030              1/1      <Module::CodeProfiler>#profile_logger
  99.86%   0.85%      0.030      0.000      0.000      0.030                1      MyServer#handle_request
                      0.019      0.000      0.000      0.019             1/15      Class#new
                      0.006      0.000      0.000      0.005              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.001      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             4/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000              1/6      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             3/15      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             2/15      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/15      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#execute
                      0.001      0.000      0.000      0.001             1/15      Reel::Connection#respond
                      0.019      0.000      0.000      0.019             1/15      MyServer#handle_request
  67.60%   0.41%      0.020      0.000      0.000      0.020               15     *Class#new
                      0.019      0.000      0.000      0.019              1/1      TerminalUser#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              1/1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.019      0.000      0.000      0.019              1/1      Class#new
  63.69%   0.18%      0.019      0.000      0.000      0.019                1      TerminalUser#initialize
                      0.018      0.000      0.000      0.018              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/15      Class#new
--------------------------------------------------------------------------------
                      0.018      0.000      0.000      0.018              1/1      TerminalUser#initialize
  59.51%   0.23%      0.018      0.000      0.000      0.018                1      Session::AbstractSession#_initialize
                      0.018      0.018      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/15      Class#new
--------------------------------------------------------------------------------
                      0.018      0.018      0.000      0.000              1/1      Session::AbstractSession#_initialize
  59.18%  58.99%      0.018      0.018      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.005              2/2      MyServer#handle_request
  18.37%   0.16%      0.006      0.000      0.000      0.005                2      Moped::Collection#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
  18.17%   0.26%      0.005      0.000      0.000      0.005                2      Moped::Session#with
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
  17.08%   0.07%      0.005      0.000      0.000      0.005                2      Moped::Session::Context#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#insert
  17.01%   0.21%      0.005      0.000      0.000      0.005                2      Moped::Session::Context#with_node
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
  16.44%   0.18%      0.005      0.000      0.000      0.005                2      Moped::Cluster#with_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
                      0.001      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#with_primary
  13.97%   0.31%      0.004      0.000      0.000      0.004                2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
  12.64%   0.09%      0.004      0.000      0.000      0.004                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
  12.22%   0.12%      0.004      0.000      0.000      0.004                2      Moped::Node#process
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
  11.80%   0.11%      0.004      0.000      0.000      0.004                2      Moped::Node#flush
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#flush
  11.61%   0.38%      0.003      0.000      0.000      0.003                2      Moped::Node#logging
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#logging
  11.12%   0.45%      0.003      0.000      0.000      0.003                2      Moped::Node#ensure_connected
                      0.003      0.000      0.000      0.003              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
   9.28%   0.13%      0.003      0.000      0.000      0.003                2      Moped::Connection#write
                      0.002      0.000      0.000      0.002             2/12      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             1/12      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.002      0.000      0.000      0.002             2/12      Moped::Connection#write
   7.63%   0.38%      0.002      0.000      0.000      0.002               12     *Array#each
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
   6.84%   0.48%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
   5.79%   0.07%      0.002      0.000      0.000      0.002                1      Reel::Request#respond
                      0.002      0.000      0.000      0.002              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
   5.72%   0.29%      0.002      0.000      0.000      0.002                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.001      0.000      0.000      0.001             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/6      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
   5.32%   0.70%      0.002      0.000      0.000      0.001                4      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   4.77%   0.07%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   4.60%   0.08%      0.001      0.000      0.000      0.001                2      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   4.56%   0.24%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
   4.52%   0.31%      0.001      0.000      0.000      0.001                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   3.75%   0.64%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.001      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
   3.71%   0.33%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   3.26%   0.12%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   2.85%   0.95%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   2.80%   0.11%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
   2.79%   0.09%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
   2.70%   2.69%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
   2.69%   0.49%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#do_write
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/20      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#[]
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      TerminalUser#block_for_output_to_come
   2.47%   0.57%      0.001      0.000      0.001      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   2.19%   0.19%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/2      Kernel#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   2.07%   0.11%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   2.07%   0.44%      0.001      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
   2.00%   0.14%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#syswrite
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   1.86%   0.56%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      Class#new
   1.83%   0.20%      0.001      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/6      Hash#[]=
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      MyServer#handle_request
   1.73%   0.68%      0.001      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   1.59%   0.68%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.58%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   1.46%   0.05%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   1.46%   0.52%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   1.41%   0.09%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/25      IO#printf
                      0.000      0.000      0.000      0.000            22/25      IO#puts
                      0.000      0.000      0.000      0.000             2/25      Moped::Sockets::Connectable#handle_socket_errors
   1.40%   0.83%      0.000      0.000      0.000      0.000               25      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   1.30%   0.67%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   1.28%   0.07%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   1.24%   0.05%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   1.18%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/25      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/11      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#respond
                      0.000      0.000      0.000      0.000             4/11      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#block_for_output_to_come
   1.15%   0.58%      0.000      0.000      0.000      0.000               11      Kernel#puts
                      0.000      0.000      0.000      0.000            11/11      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.04%   0.53%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              1/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   1.00%   0.64%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000            12/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              3/6      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   0.90%   0.14%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   0.89%   0.19%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.83%   0.12%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   0.82%   0.15%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.70%   0.70%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.65%   0.22%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   0.64%   0.22%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              2/2      Fixnum#>=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
                      0.000      0.000      0.000      0.000              2/2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   0.63%   0.17%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
   0.61%   0.17%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   0.60%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   0.57%   0.20%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Kernel#puts
   0.57%   0.29%      0.000      0.000      0.000      0.000               11      IO#puts
                      0.000      0.000      0.000      0.000            22/25      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.57%   0.08%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.55%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   0.49%   0.49%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.46%   0.42%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   0.45%   0.45%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.42%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.40%   0.21%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.39%   0.18%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.37%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   0.37%   0.37%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   0.34%   0.10%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.34%   0.23%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.31%   0.14%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.29%   0.29%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.28%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.28%   0.19%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.27%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000            18/20      Moped::BSON::Extensions::String#to_utf8_binary
   0.27%   0.27%      0.000      0.000      0.000      0.000               20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.26%   0.26%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.26%   0.11%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.26%   0.04%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.26%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.26%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.23%   0.09%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.23%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.22%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.22%   0.11%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.22%   0.14%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/3      Array#clear
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.22%   0.22%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.22%   0.22%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.20%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.20%   0.09%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             2/17      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/17      Moped::Threaded#stack
   0.20%   0.20%      0.000      0.000      0.000      0.000               17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.20%   0.20%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.19%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.19%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.19%   0.19%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.18%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.18%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.18%   0.06%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.17%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.17%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.17%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.16%   0.16%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.16%   0.11%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Kernel#dup
                      0.000      0.000      0.000      0.000            10/12      Class#new
   0.15%   0.15%      0.000      0.000      0.000      0.000               12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.15%   0.06%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.14%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.14%   0.09%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.14%   0.14%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.14%   0.14%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.14%   0.14%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.12%   0.08%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.12%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.12%   0.03%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.11%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.11%   0.04%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/25      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/6      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/6      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#stack
   0.11%   0.11%      0.000      0.000      0.000      0.000                6      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.09%   0.07%      0.000      0.000      0.000      0.000                2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.09%   0.06%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.08%   0.08%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.08%   0.05%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.08%   0.08%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.08%   0.08%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.08%   0.08%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.08%   0.04%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.07%   0.07%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.07%   0.02%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
   0.07%   0.07%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.07%   0.07%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.06%   0.05%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.06%   0.03%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.06%   0.06%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.05%   0.05%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.05%   0.03%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.05%   0.05%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.04%   0.04%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.03%   0.02%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.02%   0.02%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.01%   0.01%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Module::PTY>#spawn
   0.01%   0.01%      0.000      0.000      0.000      0.000                2      <Class::IO>#allocate

* indicates recursively called methods
Thread ID: 77052130
Fiber ID: 72011600
Total Time: 0.008269997999999945
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.44%      0.008      0.000      0.000      0.008                1      Session::AbstractSession#_initialize
                      0.008      0.000      0.000      0.008              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.008      0.000      0.000      0.008              1/1      Session::AbstractSession#_initialize
  99.56%   1.47%      0.008      0.000      0.000      0.008                1      Kernel#loop
                      0.007      0.000      0.007      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.001      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.007      0.000      0.007      0.000              2/2      Kernel#loop
  82.64%   2.40%      0.007      0.000      0.007      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      Kernel#loop
  12.01%   1.42%      0.001      0.000      0.001      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.80%   1.30%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.00%   0.42%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.64%   0.17%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.58%   0.58%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.46%   0.24%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.39%   0.39%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.22%   0.22%      0.000      0.000      0.000      0.000                3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.11%   0.11%      0.000      0.000      0.000      0.000                6      IO#closed?

* indicates recursively called methods
***** start_time: 2013-04-25 23:27:31 +0530------------end_time: 2013-04-25 23:27:33 +0530------------total_time_required: 2.095370553
Thread ID: 76394510
Fiber ID: 76074720
Total Time: 0.010141190000000022
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.63%      0.010      0.000      0.000      0.010                1      <Module::CodeProfiler>#profile_logger
                      0.010      0.000      0.000      0.010              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.010      0.000      0.000      0.010              1/1      <Module::CodeProfiler>#profile_logger
  99.37%   1.44%      0.010      0.000      0.000      0.010                1      MyServer#handle_request
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
                      0.001      0.000      0.000      0.001             1/15      Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000              1/3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      MyServer#handle_request
  49.28%   0.29%      0.005      0.000      0.000      0.005                2      Moped::Collection#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
  48.91%   0.51%      0.005      0.000      0.000      0.005                2      Moped::Session#with
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
  46.77%   0.17%      0.005      0.000      0.000      0.005                2      Moped::Session::Context#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#insert
  46.59%   0.40%      0.005      0.000      0.000      0.005                2      Moped::Session::Context#with_node
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
  45.63%   0.44%      0.005      0.000      0.000      0.005                2      Moped::Cluster#with_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#with_primary
  40.68%   0.80%      0.004      0.000      0.000      0.004                2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
  36.70%   0.22%      0.004      0.000      0.000      0.004                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
  35.75%   0.29%      0.004      0.000      0.000      0.004                2      Moped::Node#process
                      0.004      0.000      0.000      0.003              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.003              2/2      Moped::Node#process
  34.64%   0.49%      0.004      0.000      0.000      0.003                2      Moped::Node#flush
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#flush
  33.79%   0.44%      0.003      0.000      0.000      0.003                2      Moped::Node#logging
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#logging
  33.03%   1.38%      0.003      0.000      0.000      0.003                2      Moped::Node#ensure_connected
                      0.003      0.000      0.000      0.003              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
  27.45%   0.33%      0.003      0.000      0.000      0.003                2      Moped::Connection#write
                      0.002      0.000      0.000      0.002             2/12      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             3/15      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             2/15      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/15      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Reel::Connection#respond
                      0.001      0.000      0.000      0.001             1/15      MyServer#handle_request
  21.32%   0.94%      0.002      0.000      0.000      0.002               15     *Class#new
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000            10/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              1/1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             1/12      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.002      0.000      0.000      0.002             2/12      Moped::Connection#write
  18.83%   0.89%      0.002      0.000      0.000      0.002               12     *Array#each
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  17.30%   1.11%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
  13.85%   0.42%      0.001      0.000      0.000      0.001                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
  13.40%   1.55%      0.001      0.000      0.000      0.001                4      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
  12.42%   0.18%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
  12.06%   0.19%      0.001      0.000      0.000      0.001                2      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
  11.86%   0.67%      0.001      0.000      0.000      0.001                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
  11.42%   1.31%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  11.02%   0.52%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.64%   0.12%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
  10.52%   0.47%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   9.52%   0.58%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   9.27%   0.99%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.001      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   8.14%   2.16%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
   7.64%   0.46%      0.001      0.000      0.000      0.001                2      Moped::Sockets::Connectable#write
                      0.001      0.000      0.000      0.001              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
   7.45%   0.21%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      TerminalUser#block_for_output_to_come
   7.27%   1.22%      0.001      0.000      0.001      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
   7.23%   7.19%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.001      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   7.04%   2.23%      0.001      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Sockets::Connectable#write
   6.32%   0.42%      0.001      0.000      0.000      0.001                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.001      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   5.97%   0.20%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   5.10%   1.26%      0.001      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   5.10%   0.17%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   4.93%   0.78%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   4.25%   0.16%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   3.95%   0.79%      0.000      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   3.93%   1.71%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   3.90%   0.26%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   3.64%   0.97%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.54%   0.35%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   3.33%   0.83%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   2.97%   0.12%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.90%   0.22%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   2.85%   0.26%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   2.80%   1.79%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000            12/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   2.58%   0.13%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   2.49%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.36%   0.36%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   2.21%   0.67%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   1.89%   0.79%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   1.84%   1.84%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.82%   0.18%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   1.77%   0.25%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.71%   0.95%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   1.64%   0.30%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.64%   1.64%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.53%   0.76%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   1.53%   0.40%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
   1.51%   0.40%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   1.47%   0.48%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              2/2      Fixnum#>=
                      0.000      0.000      0.000      0.000              2/2      Fixnum#<=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   1.35%   0.43%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.34%   0.39%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.27%   0.43%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   1.22%   0.85%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.18%   0.34%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.14%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   1.10%   1.10%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
   1.10%   0.76%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   1.04%   1.04%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.96%   0.96%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   0.93%   0.93%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.92%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.89%   0.47%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.89%   0.52%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.87%   0.39%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.85%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.85%   0.32%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.82%   0.13%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.73%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.73%   0.54%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.71%   0.45%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.68%   0.68%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.68%   0.57%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.67%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.65%   0.27%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.64%   0.31%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000            18/20      Moped::BSON::Extensions::String#to_utf8_binary
   0.61%   0.61%      0.000      0.000      0.000      0.000               20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.58%   0.36%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.57%   0.57%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.53%   0.53%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/17      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             1/17      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000            12/17      Moped::Threaded#stack
   0.53%   0.53%      0.000      0.000      0.000      0.000               17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.52%   0.23%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.52%   0.29%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.52%   0.17%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.50%   0.50%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.50%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.48%   0.48%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.48%   0.08%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.47%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.47%   0.24%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.45%   0.17%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.45%   0.17%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.44%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.43%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.42%   0.06%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.40%   0.26%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000              1/3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.39%   0.39%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.36%   0.36%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.35%   0.35%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Kernel#dup
                      0.000      0.000      0.000      0.000            10/12      Class#new
   0.34%   0.34%      0.000      0.000      0.000      0.000               12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.34%   0.34%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.34%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.34%   0.15%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.32%   0.32%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.32%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.32%   0.32%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.31%   0.08%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.31%   0.31%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.29%   0.29%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.28%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.28%   0.12%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.28%   0.17%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.27%   0.27%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.27%   0.07%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.26%   0.26%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.26%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.26%   0.16%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.25%   0.25%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.25%   0.25%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.24%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.23%   0.23%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.22%   0.22%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.22%   0.15%      0.000      0.000      0.000      0.000                2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.21%   0.13%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
   0.21%   0.21%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.21%   0.13%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.21%   0.21%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.20%   0.20%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.19%   0.19%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.19%   0.11%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.19%   0.19%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.18%   0.18%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.18%   0.18%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.16%   0.11%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.16%   0.16%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Array#each
   0.15%   0.15%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.15%   0.15%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
   0.15%   0.15%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.14%   0.08%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.13%   0.13%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.13%   0.13%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      Moped::Connection#with_connection
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.10%   0.07%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.09%   0.06%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Module::PTY>#spawn
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      IO#flush

* indicates recursively called methods
Thread ID: 76073770
Fiber ID: 76072350
Total Time: 0.006402805000000011
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.54%      0.006      0.000      0.000      0.006                1      Session::AbstractSession#_initialize
                      0.006      0.000      0.000      0.006              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              1/1      Session::AbstractSession#_initialize
  99.46%   4.03%      0.006      0.000      0.000      0.006                1      Kernel#loop
                      0.004      0.000      0.004      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.001      0.000              3/3      IO#readpartial
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.004      0.000      0.004      0.000              2/2      Kernel#loop
  67.97%   2.25%      0.004      0.000      0.004      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              3/3      Kernel#loop
  19.30%   2.35%      0.001      0.000      0.001      0.000                3      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Kernel#loop
   4.97%   3.59%      0.000      0.000      0.000      0.000                3      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              9/9      IO#closed?
                      0.000      0.000      0.000      0.000              9/9      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   2.00%   0.90%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.20%   0.32%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   1.10%   1.10%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.88%   0.48%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.73%   0.73%      0.000      0.000      0.000      0.000                9      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Session::AbstractSession#ready?
   0.65%   0.65%      0.000      0.000      0.000      0.000                9      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.39%   0.39%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
***** start_time: 2013-04-25 23:27:33 +0530------------end_time: 2013-04-25 23:27:35 +0530------------total_time_required: 2.073004905
Thread ID: 73641510
Fiber ID: 73760840
Total Time: 0.011791172000000016
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.89%      0.012      0.000      0.000      0.012                1      <Module::CodeProfiler>#profile_logger
                      0.012      0.000      0.000      0.012              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              1/1      <Module::CodeProfiler>#profile_logger
  99.11%   1.44%      0.012      0.000      0.000      0.012                1      MyServer#handle_request
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002             1/25      Class#new
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000             4/11      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      MyServer#handle_request
  45.12%   0.30%      0.005      0.000      0.000      0.005                2      Moped::Collection#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Collection#insert
  44.77%   0.38%      0.005      0.000      0.000      0.005                2      Moped::Session#with
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session#with
  43.31%   0.11%      0.005      0.000      0.000      0.005                2      Moped::Session::Context#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#insert
  43.21%   0.31%      0.005      0.000      0.000      0.005                2      Moped::Session::Context#with_node
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
  42.52%   0.25%      0.005      0.000      0.000      0.005                2      Moped::Cluster#with_primary
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/3      Moped::Node#insert
                      0.003      0.000      0.000      0.003              1/3      Moped::Node#command
  35.20%   0.24%      0.004      0.000      0.000      0.004                3      Moped::Node#process
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#process
  34.38%   0.24%      0.004      0.000      0.000      0.004                3      Moped::Node#flush
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#flush
  33.98%   0.37%      0.004      0.000      0.000      0.004                3      Moped::Node#logging
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/13      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/13      Mutex#synchronize
                      0.000      0.000      0.000      0.000             1/13      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/13      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Enumerable#partition
                      0.001      0.000      0.000      0.001             3/13      Moped::Connection#write
                      0.003      0.000      0.000      0.003             2/13      Moped::Cluster#refresh
  32.45%   0.77%      0.004      0.000      0.000      0.004               13     *Array#each
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/3      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#logging
  32.19%   0.86%      0.004      0.000      0.000      0.004                3      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002              3/3      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
  26.06%   0.52%      0.003      0.000      0.000      0.003                2      Moped::Cluster#nodes
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
  23.85%   0.23%      0.003      0.000      0.000      0.003                2      Moped::Cluster#refresh
                      0.003      0.000      0.000      0.003             2/13      Array#each
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/25      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000             3/25      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             1/25      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             2/25      Logger#initialize
                      0.000      0.000      0.000      0.000             1/25      Integer#times
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/25      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             1/25      Timeout#timeout
                      0.000      0.000      0.000      0.000             2/25      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/25      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/25      Moped::Node#command
                      0.000      0.000      0.000      0.000             1/25      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Session::AbstractSession#execute
                      0.001      0.000      0.000      0.001             1/25      Reel::Connection#respond
                      0.002      0.000      0.000      0.002             1/25      MyServer#handle_request
  23.55%   0.96%      0.003      0.000      0.000      0.003               25     *Class#new
                      0.002      0.000      0.000      0.002              1/1      TerminalUser#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger#initialize
                      0.000      0.000      0.000      0.000              1/1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000            16/19      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              3/3      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              3/3      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/5      Time#initialize
                      0.000      0.000      0.000      0.000              2/2      Mutex#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Class>#allocate
                      0.000      0.000      0.000      0.000              1/1      Logger::Formatter#initialize
                      0.000      0.000      0.000      0.000              2/5      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Array#each
  23.00%   0.30%      0.003      0.000      0.000      0.003                1      Moped::Node#refresh
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
  22.31%   0.11%      0.003      0.000      0.000      0.003                1      Moped::Node#command
                      0.003      0.000      0.000      0.003              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
  15.85%   0.47%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              3/3      Moped::Node#ensure_connected
  15.23%   0.30%      0.002      0.000      0.000      0.002                3      Moped::Connection#write
                      0.001      0.000      0.000      0.001             3/13      Array#each
                      0.000      0.000      0.000      0.000              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
  14.03%   0.12%      0.002      0.000      0.000      0.002                2      Moped::Node#insert
                      0.002      0.000      0.000      0.002              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Class#new
  13.81%   0.35%      0.002      0.000      0.000      0.002                1      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/25      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
  13.28%   0.18%      0.002      0.000      0.000      0.002                1      Reel::Request#respond
                      0.002      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.001              1/1      Reel::Request#respond
  13.10%   0.64%      0.002      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.001      0.000      0.000      0.001             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
  11.97%   0.82%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.75%   0.80%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
   9.60%   0.17%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
   9.43%   9.40%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.000      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.001      0.000      0.000      0.001              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
   8.62%   1.33%      0.001      0.000      0.000      0.001                5      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/4      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#read
   8.40%   0.86%      0.001      0.000      0.000      0.001                4      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              3/3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/2      Integer#times
                      0.000      0.000      0.000      0.000              4/4      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   7.79%   0.56%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/21      String#bytesize
                      0.000      0.000      0.000      0.000              2/8      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#ensure_connected
   7.54%   0.09%      0.001      0.000      0.000      0.001                1      Moped::Node#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Node#connect
   7.43%   0.14%      0.001      0.000      0.000      0.001                1      Moped::Connection#connect
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   7.37%   0.32%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#connect
   7.29%   0.15%      0.001      0.000      0.000      0.001                1      Moped::Sockets::Connectable::ClassMethods#connect
                      0.001      0.000      0.000      0.001              1/1      Timeout#timeout
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Sockets::Connectable::ClassMethods#connect
   7.14%   1.08%      0.001      0.000      0.000      0.001                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#start
                      0.000      0.000      0.000      0.000              1/1      Thread#join
                      0.000      0.000      0.000      0.000              3/3      BasicSocket#setsockopt
                      0.000      0.000      0.000      0.000              1/1      IO#set_encoding
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000             1/35      Array#pack
                      0.000      0.000      0.000      0.000              1/1      Thread#kill
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      Fixnum#zero?
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   6.94%   0.69%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001             3/10      Moped::Connection#receive_replies
   6.55%   0.59%      0.001      0.000      0.000      0.001               10      Array#map
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.001      0.000      0.000      0.001              2/3      Array#each
   6.40%   0.19%      0.001      0.000      0.000      0.001                3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   6.25%   0.22%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      <Class::Moped::BSON::Document>#serialize
   6.21%   0.53%      0.001      0.000      0.000      0.001                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              3/5      Hash#each
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             6/21      String#bytesize
                      0.000      0.000      0.000      0.000             3/35      Array#pack
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
   6.02%   0.99%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#do_write
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Node#ensure_connected
   5.73%   0.14%      0.001      0.000      0.000      0.001                3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001             3/10      Array#map
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   5.40%   0.08%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#map
   5.31%   0.07%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
   5.24%   0.06%      0.001      0.000      0.000      0.001                1      Moped::Connection#read
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   4.89%   0.96%      0.001      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
   4.62%   0.36%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#syswrite
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   4.55%   1.14%      0.001      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      Class#new
   4.52%   0.51%      0.001      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/21      String#bytesize
                      0.000      0.000      0.000      0.000             1/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::TCP#initialize
   4.27%   0.57%      0.001      0.000      0.000      0.000                6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              1/1      TCPSocket#initialize
                      0.000      0.000      0.000      0.000             3/26      IO#write
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   4.26%   1.20%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   4.16%   0.21%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   3.74%   0.23%      0.000      0.000      0.000      0.000                1      <Class::IO>#new
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   3.70%   0.28%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   3.63%   0.45%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000             2/21      String#bytesize
                      0.000      0.000      0.000      0.000              1/8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   3.34%   1.10%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/35      Array#pack
                      0.000      0.000      0.000      0.000             8/21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::IO>#new
   3.30%   0.32%      0.000      0.000      0.000      0.000                1      Moped::Sockets::TCP#initialize
                      0.000      0.000      0.000      0.000              1/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   3.22%   0.17%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   3.17%   0.12%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/5      Hash#each
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/11      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#respond
                      0.000      0.000      0.000      0.000             4/11      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/11      TerminalUser#block_for_output_to_come
   2.95%   0.98%      0.000      0.000      0.000      0.000               11      Kernel#puts
                      0.000      0.000      0.000      0.000            11/11      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
   2.94%   0.10%      0.000      0.000      0.000      0.000                2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Sockets::Connectable#handle_socket_errors
   2.75%   0.58%      0.000      0.000      0.000      0.000                1      TCPSocket#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   2.71%   0.10%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              1/2      Enumerator#each
   2.63%   0.19%      0.000      0.000      0.000      0.000                2      Integer#times
                      0.000      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   2.61%   0.22%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/25      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/11      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
   2.59%   0.03%      0.000      0.000      0.000      0.000                1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Integer#times
   2.35%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.35%   0.63%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/23      String#encode
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
   2.31%   0.62%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             5/12      Hash#[]=
                      0.000      0.000      0.000      0.000              6/7      StringIO#readbyte
                      0.000      0.000      0.000      0.000              5/5      String#chop!
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   2.10%   0.32%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/26      IO#printf
                      0.000      0.000      0.000      0.000             3/26      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000            22/26      IO#puts
   2.06%   2.06%      0.000      0.000      0.000      0.000               26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
   2.03%   0.28%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Kernel#puts
   1.97%   0.98%      0.000      0.000      0.000      0.000               11      IO#puts
                      0.000      0.000      0.000      0.000            22/26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
   1.94%   0.60%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              2/2      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   1.90%   0.44%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#__bson_dump__
   1.86%   0.64%      0.000      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#with_connection
   1.79%   0.23%      0.000      0.000      0.000      0.000                3      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              3/6      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.78%   1.78%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.70%   0.55%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.70%   0.97%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   1.67%   1.09%      0.000      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000            16/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             3/12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_bson_cstring
   1.59%   0.79%      0.000      0.000      0.000      0.000               19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            19/23      String#encode
                      0.000      0.000      0.000      0.000            19/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   1.46%   1.46%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.40%   0.34%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   1.31%   0.17%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.28%   0.40%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              3/3      Fixnum#>=
                      0.000      0.000      0.000      0.000             3/35      Array#pack
                      0.000      0.000      0.000      0.000              3/3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.28%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   1.25%   1.25%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             1/35      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/35      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             3/35      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             1/35      Timeout#timeout
                      0.000      0.000      0.000      0.000             4/35      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/35      Moped::BSON::Extensions::String#__bson_dump__
   1.12%   1.12%      0.000      0.000      0.000      0.000               35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   1.08%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Logging#default_logger
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
   1.03%   0.28%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
   0.99%   0.22%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.98%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#initialize
   0.98%   0.34%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/22      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.91%   0.17%      0.000      0.000      0.000      0.000                1      Logger#initialize
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.88%   0.24%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.83%   0.77%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   0.81%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/6      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.81%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   0.81%   0.23%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.80%   0.12%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.79%   0.55%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.79%   0.33%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/4      Hash#each
   0.76%   0.33%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   0.76%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/25      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/23      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            19/23      Moped::BSON::Extensions::String#to_utf8_binary
   0.74%   0.74%      0.000      0.000      0.000      0.000               23      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.72%   0.72%      0.000      0.000      0.000      0.000                1      <Class::Thread>#start
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.68%   0.68%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.66%   0.66%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.59%   0.14%      0.000      0.000      0.000      0.000                1      Logger::LogDevice#initialize
                      0.000      0.000      0.000      0.000              2/2      Kernel#respond_to?
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.59%   0.13%      0.000      0.000      0.000      0.000                1      Thread#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.56%   0.56%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.56%   0.15%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.56%   0.09%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.55%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.53%   0.12%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Bignum#divmod
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#connect
                      0.000      0.000      0.000      0.000             6/10      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#connected?
   0.52%   0.38%      0.000      0.000      0.000      0.000               10      Moped::Node#connection
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.51%   0.24%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/35      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.50%   0.25%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.50%   0.24%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#_initialize
   0.49%   0.21%      0.000      0.000      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.49%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.46%   0.29%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/13      Array#each
                      0.000      0.000      0.000      0.000              1/4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.44%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.44%   0.21%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      MyServer#handle_request
                      0.000      0.000      0.000      0.000             1/12      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             3/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             1/12      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             5/12      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             1/12      Array#each
   0.43%   0.32%      0.000      0.000      0.000      0.000               12      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.42%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.40%   0.40%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/26      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000             2/26      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000            19/26      Moped::BSON::Extensions::String#to_utf8_binary
   0.40%   0.40%      0.000      0.000      0.000      0.000               26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.39%   0.39%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.38%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.38%   0.38%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.37%   0.25%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Array#include?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.37%   0.09%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/22      Timeout#timeout
                      0.000      0.000      0.000      0.000             1/22      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             2/22      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/22      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/22      Moped::Threaded#stack
   0.36%   0.36%      0.000      0.000      0.000      0.000               22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Timeout#timeout
   0.36%   0.36%      0.000      0.000      0.000      0.000                3      BasicSocket#setsockopt
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
   0.35%   0.35%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.33%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.33%   0.20%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/26      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.33%   0.33%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/19      Class#allocate
                      0.000      0.000      0.000      0.000             2/19      Kernel#dup
                      0.000      0.000      0.000      0.000            16/19      Class#new
   0.32%   0.32%      0.000      0.000      0.000      0.000               19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.31%   0.10%      0.000      0.000      0.000      0.000                1      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000              1/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.30%   0.18%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/21      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             1/21      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/21      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             6/21      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             8/21      Moped::BSON::Extensions::String#__bson_dump__
   0.30%   0.30%      0.000      0.000      0.000      0.000               21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.30%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.29%   0.20%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              2/2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Node#refresh
                      0.000      0.000      0.000      0.000              1/3      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.29%   0.13%      0.000      0.000      0.000      0.000                3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              3/5      Time#initialize
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.29%   0.19%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/22      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.28%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.28%   0.08%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/26      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.28%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.28%   0.28%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.27%   0.27%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.27%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.27%   0.27%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.27%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.26%   0.26%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.25%   0.25%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.25%   0.09%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.25%   0.25%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.25%   0.25%      0.000      0.000      0.000      0.000                1      Time#utc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.24%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.24%   0.24%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.24%   0.18%      0.000      0.000      0.000      0.000                3      StringIO#initialize
                      0.000      0.000      0.000      0.000              3/4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              1/3      <Class::IO>#new
   0.23%   0.23%      0.000      0.000      0.000      0.000                3      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.23%   0.21%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/19      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.23%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.23%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.23%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.22%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
                      0.000      0.000      0.000      0.000             1/10      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.21%   0.21%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#needs_refresh?
   0.21%   0.18%      0.000      0.000      0.000      0.000                1      Comparable#<
                      0.000      0.000      0.000      0.000              1/1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.21%   0.21%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.21%   0.12%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.20%   0.04%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.20%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.20%   0.20%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.19%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.18%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.18%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      IO#set_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.18%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.18%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.17%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.17%   0.10%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.17%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MonitorMixin#initialize
   0.17%   0.08%      0.000      0.000      0.000      0.000                1      MonitorMixin#mon_initialize
                      0.000      0.000      0.000      0.000             1/25      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.16%   0.07%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.16%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.16%   0.14%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.16%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
   0.15%   0.15%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.15%   0.15%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.15%   0.15%      0.000      0.000      0.000      0.000                5      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.15%   0.15%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.15%   0.15%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
   0.15%   0.09%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
                      0.000      0.000      0.000      0.000              1/1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.15%   0.15%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.14%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/35      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/4      Hash#each
   0.14%   0.14%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/9      Array#each
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
   0.14%   0.14%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.14%   0.09%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      String#unpack
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.14%   0.14%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.14%   0.14%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.13%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.13%   0.13%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.13%   0.13%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Array#each
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.12%   0.07%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.12%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Class#new
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.11%   0.10%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.11%   0.09%      0.000      0.000      0.000      0.000                1      Class#initialize
                      0.000      0.000      0.000      0.000              1/1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.10%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.10%   0.10%      0.000      0.000      0.000      0.000                1      Thread#kill
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.10%   0.10%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.10%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.10%   0.10%      0.000      0.000      0.000      0.000                7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.10%   0.07%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#alive?
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MonitorMixin#initialize
                      0.000      0.000      0.000      0.000              3/4      StringIO#initialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.09%   0.09%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Symbol#to_proc
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Connection#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Connection#with_connection
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.07%   0.07%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.07%   0.07%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Logger::LogDevice#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#respond_to?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.06%   0.04%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.06%   0.04%      0.000      0.000      0.000      0.000                1      Fixnum#==
                      0.000      0.000      0.000      0.000              1/1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Logging#logger
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Logging#rails_logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Bignum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Class>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Logger::Formatter#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.03%   0.03%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Comparable#<
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Fixnum#zero?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Fixnum#==
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      BasicObject#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Class#inherited
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Float#==

* indicates recursively called methods
Thread ID: 73759390
Fiber ID: 73759100
Total Time: 0.009777395000000022
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.32%      0.010      0.000      0.000      0.010                1      Session::AbstractSession#_initialize
                      0.010      0.000      0.000      0.010              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.010      0.000      0.000      0.010              1/1      Session::AbstractSession#_initialize
  99.68%   0.85%      0.010      0.000      0.000      0.010                1      Kernel#loop
                      0.005      0.000      0.005      0.000              2/2      IO#readpartial
                      0.004      0.000      0.004      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.005      0.000      0.005      0.000              2/2      Kernel#loop
  50.80%   0.74%      0.005      0.000      0.005      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.004      0.000      0.004      0.000              2/2      Kernel#loop
  45.75%   1.23%      0.004      0.000      0.004      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.99%   0.32%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.92%   0.61%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.67%   0.67%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   0.35%   0.12%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.24%   0.12%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.15%   0.15%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.15%   0.15%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
Thread ID: 73756900
Fiber ID: 73756750
Total Time: 0.008215130000000015
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.21%      0.008      0.000      0.008      0.000                1      Timeout#timeout
                      0.000      0.000      0.000      0.000              1/1      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Timeout#timeout
   4.69%   2.69%      0.000      0.000      0.000      0.000                1      Kernel#sleep

* indicates recursively called methods
***** start_time: 2013-04-25 23:29:16 +0530------------end_time: 2013-04-25 23:29:18 +0530------------total_time_required: 2.126534196
Thread ID: 73641510
Fiber ID: 74616160
Total Time: 0.020344439999999964
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.23%      0.020      0.000      0.000      0.020                1      <Module::CodeProfiler>#profile_logger
                      0.020      0.000      0.000      0.020              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.020      0.000      0.000      0.020              1/1      <Module::CodeProfiler>#profile_logger
  99.77%   0.73%      0.020      0.000      0.000      0.020                1      MyServer#handle_request
                      0.014      0.000      0.000      0.014             1/15      Class#new
                      0.003      0.000      0.000      0.003              2/2      Moped::Collection#insert
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#gsub
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              1/1      Array#[]=
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/1      String#to_i
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
                      0.000      0.000      0.000      0.000             2/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              1/3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000             3/15      TerminalUser#initialize
                      0.000      0.000      0.000      0.000             2/15      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/15      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/15      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Reel::Connection#respond
                      0.014      0.000      0.000      0.014             1/15      MyServer#handle_request
  71.30%   0.36%      0.015      0.000      0.000      0.014               15     *Class#new
                      0.014      0.000      0.000      0.014              1/1      TerminalUser#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/2      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              1/1      <Class::Mutex>#allocate
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              1/1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.014      0.000      0.000      0.014              1/1      Class#new
  68.19%   0.19%      0.014      0.000      0.000      0.014                1      TerminalUser#initialize
                      0.013      0.000      0.000      0.013              1/1      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000              1/3      Kernel#lambda
                      0.000      0.000      0.000      0.000             3/15      Class#new
--------------------------------------------------------------------------------
                      0.013      0.000      0.000      0.013              1/1      TerminalUser#initialize
  63.35%   0.21%      0.013      0.000      0.000      0.013                1      Session::AbstractSession#_initialize
                      0.013      0.013      0.000      0.000              1/1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000             1/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             1/15      Class#new
--------------------------------------------------------------------------------
                      0.013      0.013      0.000      0.000              1/1      Session::AbstractSession#_initialize
  63.01%  62.71%      0.013      0.013      0.000      0.000                1      <Class::Thread>#new
                      0.000      0.000      0.000      0.000              1/1      Thread#initialize
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      MyServer#handle_request
  14.91%   0.14%      0.003      0.000      0.000      0.003                2      Moped::Collection#insert
                      0.003      0.000      0.000      0.003              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Collection#insert
  14.74%   0.23%      0.003      0.000      0.000      0.003                2      Moped::Session#with
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/3      Hash#update
                      0.000      0.000      0.000      0.000              2/3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session#with
  13.84%   0.06%      0.003      0.000      0.000      0.003                2      Moped::Session::Context#insert
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#insert
  13.78%   0.19%      0.003      0.000      0.000      0.003                2      Moped::Session::Context#with_node
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Session::Context#with_node
  13.36%   0.16%      0.003      0.000      0.000      0.003                2      Moped::Cluster#with_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Cluster#with_primary
  11.58%   0.28%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_primary
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_primary
  10.39%   0.08%      0.002      0.000      0.000      0.002                2      Moped::Node#insert
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#insert
  10.05%   0.12%      0.002      0.000      0.000      0.002                2      Moped::Node#process
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#process
   9.70%   0.11%      0.002      0.000      0.000      0.002                2      Moped::Node#flush
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#flush
   9.51%   0.16%      0.002      0.000      0.000      0.002                2      Moped::Node#logging
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#logging
   9.24%   0.34%      0.002      0.000      0.000      0.002                2      Moped::Node#ensure_connected
                      0.002      0.000      0.000      0.002              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Node#ensure_connected
   7.56%   0.10%      0.002      0.000      0.000      0.002                2      Moped::Connection#write
                      0.001      0.000      0.000      0.001             2/12      Array#each
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             1/12      Enumerable#inject
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.001      0.000      0.000      0.001             2/12      Moped::Connection#write
   5.86%   0.36%      0.001      0.000      0.000      0.001               12     *Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              1/3      Hash#update
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   5.50%   0.29%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   5.24%   0.36%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   4.69%   0.60%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
   4.37%   0.42%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#initialize
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#pty_open
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/3      Kernel#block_given?
                      0.000      0.000      0.000      0.000             8/10      NilClass#nil?
                      0.000      0.000      0.000      0.000              5/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
   4.03%   0.54%      0.001      0.000      0.000      0.001                4      Hash#each
                      0.000      0.000      0.000      0.000              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/6      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   3.96%   0.06%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
   3.89%   0.25%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
   3.71%   0.06%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Array#each
   3.57%   0.07%      0.001      0.000      0.000      0.001                2      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
   3.49%   0.25%      0.001      0.000      0.000      0.001                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   3.22%   0.82%      0.001      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#initialize
   3.12%   0.09%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#pty_open
                      0.001      0.001      0.000      0.000              1/1      <Module::PTY>#spawn
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000              1/1      Session::AbstractSession#pty_open
   3.03%   3.02%      0.001      0.001      0.000      0.000                1      <Module::PTY>#spawn
                      0.000      0.000      0.000      0.000              2/2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.20%   0.10%      0.000      0.000      0.000      0.000                1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              8/8      Hash#each
   2.14%   0.70%      0.000      0.000      0.000      0.000                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   2.12%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Response#render
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#write
   2.11%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   1.99%   0.99%      0.000      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Response#render
   1.81%   0.08%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   1.73%   0.34%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.53%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#execute
   1.50%   0.06%      0.000      0.000      0.000      0.000                1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   1.49%   1.00%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Sh#execute
   1.44%   0.13%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/15      Class#new
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   1.44%   0.27%      0.000      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   1.42%   0.43%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   1.30%   0.13%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   1.27%   0.09%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   1.21%   0.16%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   1.18%   0.32%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   1.12%   0.38%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   1.08%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   0.99%   0.53%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   0.99%   0.64%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000            12/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   0.97%   0.49%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.95%   0.52%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/7      Kernel#class
                      0.000      0.000      0.000      0.000              1/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.94%   0.04%      0.000      0.000      0.000      0.000                2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.92%   0.05%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   0.91%   0.17%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   0.72%   0.14%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   0.64%   0.27%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   0.63%   0.11%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.56%   0.11%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   0.52%   0.19%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              2/2      Fixnum#>=
                      0.000      0.000      0.000      0.000              2/2      Fixnum#<=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   0.52%   0.13%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   0.50%   0.12%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.48%   0.17%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   0.47%   0.12%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   0.46%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/15      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   0.45%   0.45%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.44%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   0.39%   0.39%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.39%   0.35%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::AbstractSession#initialize
   0.38%   0.26%      0.000      0.000      0.000      0.000                5      Session::AbstractSession#hasopt
                      0.000      0.000      0.000      0.000            15/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              5/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.38%   0.06%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   0.38%   0.38%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   0.36%   0.36%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.32%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.31%   0.16%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
   0.31%   0.21%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      <Class::Thread>#new
   0.30%   0.30%      0.000      0.000      0.000      0.000                1      Thread#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.29%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/15      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.28%   0.28%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.28%   0.13%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.27%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.22%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/3      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.22%   0.10%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.22%   0.22%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.22%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.22%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.22%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.21%   0.21%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/17      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             1/17      Session::AbstractSession#_initialize
                      0.000      0.000      0.000      0.000            12/17      Moped::Threaded#stack
   0.19%   0.19%      0.000      0.000      0.000      0.000               17      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000            18/20      Moped::BSON::Extensions::String#to_utf8_binary
   0.18%   0.18%      0.000      0.000      0.000      0.000               20      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#initialize
   0.18%   0.12%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000             6/21      Hash#has_key?
                      0.000      0.000      0.000      0.000              2/7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.18%   0.06%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.18%   0.07%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.17%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.17%   0.03%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.17%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.17%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.16%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.16%   0.16%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.15%   0.08%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.15%   0.07%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.15%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.15%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.14%   0.08%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000              1/3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.14%   0.05%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.14%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.14%   0.14%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.13%   0.05%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.13%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.13%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.13%   0.13%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
   0.13%   0.13%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Kernel#dup
                      0.000      0.000      0.000      0.000            10/12      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000               12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.12%   0.12%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.12%   0.12%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             6/21      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000            15/21      Session::AbstractSession#hasopt
   0.12%   0.12%      0.000      0.000      0.000      0.000               21      Hash#has_key?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.11%   0.03%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#hashify
                      0.000      0.000      0.000      0.000              1/2      Enumerable#inject
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.11%   0.06%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.11%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.10%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.10%   0.06%      0.000      0.000      0.000      0.000                2      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.10%   0.06%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.10%   0.06%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.10%   0.06%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.09%   0.09%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.09%   0.09%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.09%   0.04%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.09%   0.09%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.09%   0.05%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/17      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.08%   0.02%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.08%   0.08%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.07%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.07%   0.05%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#initialize
                      0.000      0.000      0.000      0.000              2/3      Moped::Cluster#refresh
   0.07%   0.07%      0.000      0.000      0.000      0.000                3      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.07%   0.07%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.07%   0.07%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::AbstractSession#getopt
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#hasopt
   0.07%   0.07%      0.000      0.000      0.000      0.000                7      String#intern
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             8/10      Session::AbstractSession#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000               10      NilClass#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.06%   0.06%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Array#each
                      0.000      0.000      0.000      0.000              2/3      Moped::Session#with
   0.06%   0.06%      0.000      0.000      0.000      0.000                3      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.06%   0.06%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.06%   0.06%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.06%   0.06%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.06%   0.06%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.06%   0.06%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/6      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/6      Hash#each
                      0.000      0.000      0.000      0.000              3/6      <Module::HTTP>#canonicalize_header
   0.05%   0.05%      0.000      0.000      0.000      0.000                6      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.05%   0.05%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.05%   0.05%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.05%   0.04%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/7      Session::AbstractSession#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                7      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.04%   0.04%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.04%   0.03%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/3      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.04%   0.04%      0.000      0.000      0.000      0.000                3      NilClass#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.04%   0.04%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.04%   0.02%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      StringIO#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      <Class::Mutex>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      Moped::Connection#with_connection
   0.03%   0.03%      0.000      0.000      0.000      0.000                3      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Array#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.03%   0.03%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Mutex#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.02%   0.02%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.02%   0.02%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.02%   0.02%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Session::AbstractSession>#default_prog
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.02%   0.02%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.02%   0.02%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Module::PTY>#spawn
   0.01%   0.01%      0.000      0.000      0.000      0.000                2      <Class::IO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      Hash#empty?

* indicates recursively called methods
Thread ID: 74615190
Fiber ID: 69258730
Total Time: 0.004667270000000001
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.67%      0.005      0.000      0.000      0.005                1      Session::AbstractSession#_initialize
                      0.005      0.000      0.000      0.005              1/1      Kernel#loop
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              1/1      Session::AbstractSession#_initialize
  99.33%   2.27%      0.005      0.000      0.000      0.005                1      Kernel#loop
                      0.004      0.000      0.003      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.001      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.004      0.000      0.003      0.000              2/2      Kernel#loop
  76.11%   3.45%      0.004      0.000      0.003      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      Kernel#loop
  15.65%   1.08%      0.001      0.000      0.001      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   2.17%   1.04%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.97%   1.18%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
                      0.000      0.000      0.000      0.000              6/6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#loop
   1.16%   0.36%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   1.13%   1.13%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.80%   0.42%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.41%   0.41%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.38%   0.38%      0.000      0.000      0.000      0.000                3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.37%   0.37%      0.000      0.000      0.000      0.000                6      Module#===

* indicates recursively called methods
***** start_time: 2013-04-25 23:29:18 +0530------------end_time: 2013-04-25 23:29:21 +0530------------total_time_required: 2.096249746
Thread ID: 73641510
Fiber ID: 72966070
Total Time: 0.011591271999999986
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.67%      0.012      0.000      0.000      0.012                1      <Module::CodeProfiler>#profile_logger
                      0.012      0.000      0.000      0.011              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.011              1/1      <Module::CodeProfiler>#profile_logger
  99.33%   1.92%      0.012      0.000      0.000      0.011                1      MyServer#handle_request
                      0.006      0.000      0.000      0.006              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              3/5      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/2      String#to_i
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      MyServer#handle_request
  52.54%   0.57%      0.006      0.000      0.000      0.006                2      Moped::Collection#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Collection#insert
  51.86%   0.72%      0.006      0.000      0.000      0.006                2      Moped::Session#with
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/2      Hash#update
                      0.000      0.000      0.000      0.000              2/2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
  48.84%   0.23%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
  48.62%   0.62%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#with_node
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Session::Context#with_node
  47.19%   0.55%      0.005      0.000      0.000      0.005                2      Moped::Cluster#with_primary
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
                      0.001      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
  41.14%   0.94%      0.005      0.000      0.000      0.005                2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
  36.73%   0.29%      0.004      0.000      0.000      0.004                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
  35.52%   0.35%      0.004      0.000      0.000      0.004                2      Moped::Node#process
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
  34.30%   0.55%      0.004      0.000      0.000      0.004                2      Moped::Node#flush
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
  33.51%   0.57%      0.004      0.000      0.000      0.004                2      Moped::Node#logging
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#logging
  32.60%   1.47%      0.004      0.000      0.000      0.004                2      Moped::Node#ensure_connected
                      0.003      0.000      0.000      0.003              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
  25.72%   0.38%      0.003      0.000      0.000      0.003                2      Moped::Connection#write
                      0.002      0.000      0.000      0.002             2/12      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             1/12      Regexp#match
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.002      0.000      0.000      0.002             2/12      Moped::Connection#write
  22.38%   1.63%      0.003      0.000      0.000      0.002               12     *Array#each
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              1/2      String#to_i
                      0.000      0.000      0.000      0.000              3/5      MatchData#[]
                      0.000      0.000      0.000      0.000              2/4      Regexp#match
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  19.66%   1.38%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
  15.20%   1.93%      0.002      0.000      0.000      0.002                4      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              2/7      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
  14.05%   0.18%      0.002      0.000      0.000      0.002                1      Reel::Request#respond
                      0.002      0.000      0.000      0.002              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
  13.96%   0.22%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
  13.87%   0.59%      0.002      0.000      0.000      0.002                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.001      0.000      0.000      0.001             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  13.52%   0.21%      0.002      0.000      0.000      0.002                2      <Class::Moped::BSON::Document>#serialize
                      0.002      0.000      0.000      0.001              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
  13.31%   0.86%      0.002      0.000      0.000      0.001                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.45%   0.55%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/10      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.001      0.000      0.000      0.001             1/10      Reel::Connection#respond
  10.03%   1.13%      0.001      0.000      0.000      0.001               10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             8/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   8.54%   2.88%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   8.19%   0.26%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   7.30%   0.29%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   7.08%   0.28%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
   6.80%   1.16%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#do_write
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   6.21%   0.84%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   5.44%   1.37%      0.001      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   5.29%   0.60%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
   5.20%   0.35%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#syswrite
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   4.91%   0.95%      0.001      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
   4.87%   0.19%      0.001      0.000      0.000      0.001                1      Session::Sh#execute
                      0.001      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   4.85%   1.28%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      Session::Sh#execute
   4.67%   0.41%      0.001      0.000      0.000      0.000                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   4.52%   0.66%      0.001      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   4.29%   0.42%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   4.25%   1.55%      0.000      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   3.85%   2.02%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   3.61%   2.36%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000            12/16      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   3.13%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.99%   0.23%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
   2.96%   0.09%      0.000      0.000      0.000      0.000                1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   2.96%   1.67%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/2      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   2.79%   0.23%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   2.66%   0.85%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   2.63%   0.50%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   2.56%   1.20%      0.000      0.000      0.000      0.000                3      String#gsub!
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   2.49%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   2.42%   0.35%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
                      0.000      0.000      0.000      0.000             2/10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.36%   0.53%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   2.30%   2.30%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   2.21%   0.40%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   2.12%   0.97%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   2.08%   0.63%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#each
                      0.000      0.000      0.000      0.000              1/4      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      String#gsub!
   1.99%   0.95%      0.000      0.000      0.000      0.000                4     *Regexp#match
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              2/5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   1.90%   0.47%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   1.87%   0.69%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              2/2      Fixnum#>=
                      0.000      0.000      0.000      0.000              2/2      Fixnum#<=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.85%   0.60%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.80%   0.89%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.73%   0.48%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000             4/24      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   1.66%   0.11%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.63%   0.51%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.63%   0.55%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/5      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
   1.57%   1.26%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   1.55%   1.00%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000              1/3      Array#clear
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   1.52%   0.33%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
   1.44%   1.44%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   1.39%   1.39%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.38%   0.28%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.37%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   1.24%   1.24%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.19%   0.19%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   1.18%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   1.10%   0.58%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.10%   1.10%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.97%   0.27%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.97%   0.45%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             4/24      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            18/24      Moped::BSON::Extensions::String#to_utf8_binary
   0.93%   0.93%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.89%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.85%   0.73%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.81%   0.66%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.79%   0.31%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.78%   0.51%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.74%   0.74%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.73%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.68%   0.68%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   0.66%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.66%   0.29%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.63%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.63%   0.33%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.61%   0.39%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.60%   0.60%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.59%   0.59%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.58%   0.58%      0.000      0.000      0.000      0.000               16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.58%   0.58%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.56%   0.31%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.55%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/5      Regexp#match
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.54%   0.54%      0.000      0.000      0.000      0.000                5      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.54%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.53%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.51%   0.29%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.50%   0.17%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.50%   0.27%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.49%   0.49%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.49%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.47%   0.20%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.46%   0.46%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.42%   0.20%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.41%   0.41%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Kernel#dup
                      0.000      0.000      0.000      0.000             8/10      Class#new
   0.41%   0.41%      0.000      0.000      0.000      0.000               10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.40%   0.40%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.39%   0.23%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.39%   0.21%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.38%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.38%   0.38%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.38%   0.16%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.38%   0.38%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.38%   0.38%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.35%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.35%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.33%   0.07%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.32%   0.12%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.31%   0.31%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.30%   0.30%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.29%   0.29%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.29%   0.29%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.27%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.27%   0.27%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.26%   0.26%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.26%   0.26%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.25%   0.15%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.24%   0.24%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.24%   0.24%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.23%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.23%   0.23%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              2/7      Hash#each
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.23%   0.23%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.22%   0.15%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.22%   0.22%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.22%   0.22%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
   0.21%   0.21%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.20%   0.20%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.20%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.19%   0.19%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.18%   0.13%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Regexp#match
                      0.000      0.000      0.000      0.000              3/5      Array#each
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              3/5      MyServer#handle_request
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/2      Array#each
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.13%   0.09%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.12%   0.08%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.01%   0.01%      0.000      0.000      0.000      0.000                1      Mutex#unlock

* indicates recursively called methods
Thread ID: 73759390
Fiber ID: 73759100
Total Time: 0.0067875720000000195
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.69%      0.007      0.000      0.000      0.007                1      Session::AbstractSession#_initialize
                      0.006      0.000      0.006      0.000              2/2      Kernel#sleep
                      0.001      0.000      0.001      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.006      0.000      0.006      0.000              2/2      Session::AbstractSession#_initialize
  85.49%   1.56%      0.006      0.000      0.006      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.001      0.000              2/2      Session::AbstractSession#_initialize
   8.86%   1.06%      0.001      0.000      0.001      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   1.79%   1.13%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
                      0.000      0.000      0.000      0.000              6/6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   1.39%   0.84%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.79%   0.27%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.55%   0.55%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.52%   0.27%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.34%   0.34%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.32%   0.32%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.25%   0.25%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
***** start_time: 2013-04-25 23:29:53 +0530------------end_time: 2013-04-25 23:29:55 +0530------------total_time_required: 2.069771365
Thread ID: 73641510
Fiber ID: 74321290
Total Time: 0.010813498000000088
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.59%      0.011      0.000      0.000      0.011                1      <Module::CodeProfiler>#profile_logger
                      0.011      0.000      0.000      0.011              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.011      0.000      0.000      0.011              1/1      <Module::CodeProfiler>#profile_logger
  99.41%   1.97%      0.011      0.000      0.000      0.011                1      MyServer#handle_request
                      0.006      0.000      0.000      0.006              2/2      Moped::Collection#insert
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              3/5      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/2      String#to_i
                      0.000      0.000      0.000      0.000              1/1      String#empty?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      MyServer#handle_request
  59.73%   0.37%      0.006      0.000      0.000      0.006                2      Moped::Collection#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Collection#insert
  59.24%   0.74%      0.006      0.000      0.000      0.006                2      Moped::Session#with
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/2      Hash#update
                      0.000      0.000      0.000      0.000              2/2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
  55.98%   0.22%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
  55.76%   0.67%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#with_node
                      0.006      0.000      0.000      0.006              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
  54.20%   0.56%      0.006      0.000      0.000      0.006                2      Moped::Cluster#with_primary
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
                      0.001      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
  47.35%   0.96%      0.005      0.000      0.000      0.005                2      Moped::Node#ensure_primary
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
  42.78%   0.33%      0.005      0.000      0.000      0.005                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
  41.38%   0.37%      0.004      0.000      0.000      0.004                2      Moped::Node#process
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
  40.00%   0.44%      0.004      0.000      0.000      0.004                2      Moped::Node#flush
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
  39.31%   0.59%      0.004      0.000      0.000      0.004                2      Moped::Node#logging
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#logging
  38.34%   1.52%      0.004      0.000      0.000      0.004                2      Moped::Node#ensure_connected
                      0.003      0.000      0.000      0.003              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
  31.70%   0.45%      0.003      0.000      0.000      0.003                2      Moped::Connection#write
                      0.002      0.000      0.000      0.002             2/12      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/12      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/12      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/12      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/12      Enumerable#find
                      0.000      0.000      0.000      0.000             1/12      Regexp#match
                      0.000      0.000      0.000      0.000             2/12      Enumerable#partition
                      0.002      0.000      0.000      0.002             2/12      Moped::Connection#write
  25.00%   1.42%      0.003      0.000      0.000      0.003               12     *Array#each
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              3/5      MatchData#[]
                      0.000      0.000      0.000      0.000              1/2      String#to_i
                      0.000      0.000      0.000      0.000              2/4      Regexp#match
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  22.51%   1.54%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
  16.27%   1.98%      0.002      0.000      0.000      0.002                4      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000              2/7      String#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
  15.78%   0.22%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  15.31%   0.27%      0.002      0.000      0.000      0.002                2      <Class::Moped::BSON::Document>#serialize
                      0.002      0.000      0.000      0.002              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      <Class::Moped::BSON::Document>#serialize
  15.04%   1.08%      0.002      0.000      0.000      0.002                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000             2/24      Array#pack
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
  10.28%   0.12%      0.001      0.000      0.000      0.001                1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Request#respond
  10.16%   0.41%      0.001      0.000      0.000      0.001                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/10      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
  10.09%   1.12%      0.001      0.000      0.000      0.001               10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000             8/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   9.58%   3.38%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   8.33%   0.77%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   8.15%   0.30%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   8.03%   0.43%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.000              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
   5.86%   0.34%      0.001      0.000      0.000      0.001                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   5.71%   1.36%      0.001      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   5.60%   1.05%      0.001      0.000      0.000      0.000                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   5.60%   0.18%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
   5.51%   0.22%      0.001      0.000      0.000      0.001                1      Session::Sh#execute
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
   5.29%   0.43%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      TerminalUser#respond
   5.20%   0.82%      0.001      0.000      0.000      0.000                1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Reel::Response#render
   4.80%   0.18%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   4.70%   1.72%      0.001      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#<<
   4.62%   0.79%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   4.50%   2.86%      0.000      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   4.23%   2.23%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   3.86%   0.40%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   3.67%   2.35%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000            12/16      <Class::Thread>#current
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.60%   0.30%      0.000      0.000      0.000      0.000                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   3.52%   0.24%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   3.50%   0.52%      0.000      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.47%   2.06%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/2      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   3.28%   0.86%      0.000      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   3.00%   0.92%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   2.77%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
   2.65%   0.07%      0.000      0.000      0.000      0.000                1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   2.53%   0.81%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   2.52%   0.32%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   2.29%   0.32%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.19%   0.17%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   2.14%   0.52%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   2.08%   2.08%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   2.04%   0.72%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              2/2      Fixnum#>=
                      0.000      0.000      0.000      0.000              2/2      Fixnum#<=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
   1.96%   0.53%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.84%   0.53%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   1.73%   0.39%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.72%   0.88%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   1.72%   0.16%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   1.66%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.63%   0.19%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.61%   0.57%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/5      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
                      0.000      0.000      0.000      0.000              3/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.60%   0.45%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   1.55%   0.69%      0.000      0.000      0.000      0.000                3      String#gsub!
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   1.44%   1.44%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.44%   1.44%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   1.43%   1.43%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
   1.41%   1.01%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.31%   0.22%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#each
                      0.000      0.000      0.000      0.000              1/4      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      String#gsub!
   1.25%   0.59%      0.000      0.000      0.000      0.000                4     *Regexp#match
                      0.000      0.000      0.000      0.000             1/12      Array#each
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              2/5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   1.25%   0.65%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.22%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.20%   0.53%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000             4/24      String#force_encoding
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   1.20%   0.34%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.12%   0.51%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   1.06%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             4/24      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            18/24      Moped::BSON::Extensions::String#to_utf8_binary
   1.01%   1.01%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.91%   0.58%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.87%   0.36%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.86%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.84%   0.72%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.81%   0.55%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.80%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.73%   0.73%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.73%   0.45%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.69%   0.69%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.69%   0.36%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.67%   0.67%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.65%   0.33%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.64%   0.64%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.64%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.63%   0.35%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.61%   0.34%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.60%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.58%   0.58%      0.000      0.000      0.000      0.000               16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.57%   0.19%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.57%   0.22%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.56%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.51%   0.51%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.51%   0.51%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.51%   0.51%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.49%   0.28%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.47%   0.47%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Kernel#dup
                      0.000      0.000      0.000      0.000             8/10      Class#new
   0.46%   0.46%      0.000      0.000      0.000      0.000               10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.46%   0.07%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.46%   0.46%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Regexp#match
                      0.000      0.000      0.000      0.000              1/5      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.45%   0.45%      0.000      0.000      0.000      0.000                5      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.45%   0.23%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.45%   0.45%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.43%   0.18%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.43%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
   0.42%   0.42%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.42%   0.42%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.41%   0.41%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.41%   0.19%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.38%   0.25%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/3      Array#clear
                      0.000      0.000      0.000      0.000             1/12      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.38%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.34%   0.34%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.34%   0.14%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.34%   0.34%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.33%   0.14%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.33%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
   0.32%   0.32%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Class#new
   0.32%   0.32%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.32%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.31%   0.31%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.30%   0.18%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.28%   0.28%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.28%   0.28%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.27%   0.16%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.26%   0.26%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.25%   0.18%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.25%   0.06%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.25%   0.25%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.25%   0.25%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.24%   0.24%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              2/7      Hash#each
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.24%   0.24%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.24%   0.24%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.22%   0.14%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.22%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.22%   0.22%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.22%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.21%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              3/5      MyServer#handle_request
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.19%   0.19%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.19%   0.19%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.19%   0.19%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.19%   0.19%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.19%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      Class#new
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.17%   0.12%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Array#each
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Array#each
                      0.000      0.000      0.000      0.000              2/5      Regexp#match
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.12%   0.12%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.12%   0.12%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
   0.12%   0.12%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.09%   0.07%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.08%   0.05%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.03%   0.03%      0.000      0.000      0.000      0.000                1      Hash#empty?

* indicates recursively called methods
Thread ID: 73759390
Fiber ID: 73759100
Total Time: 0.006132274999999909
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   2.31%      0.006      0.000      0.000      0.006                1      Session::AbstractSession#_initialize
                      0.005      0.000      0.005      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.005      0.000      0.005      0.000              2/2      Session::AbstractSession#_initialize
  87.46%   1.12%      0.005      0.000      0.005      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   6.92%   1.24%      0.000      0.000      0.000      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   1.75%   1.02%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.95%   0.49%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.62%   0.21%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.45%   0.45%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.41%   0.20%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.38%   0.38%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.35%   0.35%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.21%   0.21%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
***** start_time: 2013-04-25 23:33:24 +0530------------end_time: 2013-04-25 23:33:27 +0530------------total_time_required: 2.068295164
Thread ID: 73641510
Fiber ID: 73995730
Total Time: 0.014823054999999918
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.51%      0.015      0.000      0.000      0.015                1      <Module::CodeProfiler>#profile_logger
                      0.015      0.000      0.000      0.015              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.015      0.000      0.000      0.015              1/1      <Module::CodeProfiler>#profile_logger
  99.49%   1.38%      0.015      0.000      0.000      0.015                1      MyServer#handle_request
                      0.009      0.000      0.000      0.009              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/5      String#split
                      0.000      0.000      0.000      0.000              3/7      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/2      String#to_i
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              2/2      MyServer#handle_request
  63.05%   0.34%      0.009      0.000      0.000      0.009                2      Moped::Collection#insert
                      0.009      0.000      0.000      0.009              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              2/2      Moped::Collection#insert
  62.62%   0.60%      0.009      0.000      0.000      0.009                2      Moped::Session#with
                      0.009      0.000      0.000      0.009              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/2      Hash#update
                      0.000      0.000      0.000      0.000              2/2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              2/2      Moped::Session#with
  60.06%   0.19%      0.009      0.000      0.000      0.009                2      Moped::Session::Context#insert
                      0.009      0.000      0.000      0.009              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              2/2      Moped::Session::Context#insert
  59.86%   1.11%      0.009      0.000      0.000      0.009                2      Moped::Session::Context#with_node
                      0.009      0.000      0.000      0.009              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.009      0.000      0.000      0.009              2/2      Moped::Session::Context#with_node
  57.92%   0.42%      0.009      0.000      0.000      0.009                2      Moped::Cluster#with_primary
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/3      Moped::Node#command
                      0.004      0.000      0.000      0.004              2/3      Moped::Node#insert
  45.32%   0.38%      0.007      0.000      0.000      0.007                3      Moped::Node#process
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#flush
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#process
  43.76%   0.45%      0.006      0.000      0.000      0.006                3      Moped::Node#flush
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#logging
                      0.000      0.000      0.000      0.000              3/3      Array#transpose
                      0.000      0.000      0.000      0.000              3/4      Array#clear
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#flush
  42.98%   0.62%      0.006      0.000      0.000      0.006                3      Moped::Node#logging
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              3/3      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              3/3      Logger#debug?
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              3/3      Moped::Node#logging
  41.95%   1.39%      0.006      0.000      0.000      0.006                3      Moped::Node#ensure_connected
                      0.004      0.000      0.000      0.004              3/3      Moped::Connection#write
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              3/6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              6/9      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Array#zip
                      0.000      0.000      0.000      0.000              3/3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/13      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/13      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/13      Enumerable#find
                      0.000      0.000      0.000      0.000             1/13      Regexp#match
                      0.000      0.000      0.000      0.000             2/13      Enumerable#partition
                      0.002      0.000      0.000      0.002             3/13      Moped::Connection#write
                      0.003      0.000      0.000      0.003             2/13      Moped::Cluster#refresh
  37.94%   1.41%      0.006      0.000      0.000      0.005               13     *Array#each
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/3      <Class::Moped::BSON::Document>#serialize
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000             1/11      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              3/5      MatchData#[]
                      0.000      0.000      0.000      0.000              2/9      Array#include?
                      0.000      0.000      0.000      0.000              1/2      String#to_i
                      0.000      0.000      0.000      0.000              2/4      Regexp#match
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
  31.15%   0.72%      0.005      0.000      0.000      0.005                2      Moped::Node#ensure_primary
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_primary
  27.91%   0.20%      0.004      0.000      0.000      0.004                2      Moped::Node#insert
                      0.004      0.000      0.000      0.004              2/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/13      Class#new
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              3/3      Moped::Node#ensure_connected
  26.45%   0.39%      0.004      0.000      0.000      0.004                3      Moped::Connection#write
                      0.002      0.000      0.000      0.002             3/13      Array#each
                      0.001      0.000      0.000      0.001              3/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Cluster#with_primary
  25.86%   1.17%      0.004      0.000      0.000      0.004                2      Moped::Cluster#nodes
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/13      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Cluster#nodes
  21.95%   0.44%      0.003      0.000      0.000      0.003                2      Moped::Cluster#refresh
                      0.003      0.000      0.000      0.003             2/13      Array#each
                      0.000      0.000      0.000      0.000              2/2      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Array#each
  20.56%   0.50%      0.003      0.000      0.000      0.003                1      Moped::Node#refresh
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#command
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              1/1      Moped::Node#refresh
  19.30%   0.16%      0.003      0.000      0.000      0.003                1      Moped::Node#command
                      0.003      0.000      0.000      0.003              1/3      Moped::Node#process
                      0.000      0.000      0.000      0.000             1/13      Class#new
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  14.63%   1.10%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000             4/21      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/4      Moped::Connection#write
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#read
  14.26%   1.33%      0.002      0.000      0.000      0.002                4      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              3/3      Moped::Sockets::Connectable#write
                      0.001      0.000      0.000      0.001              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              4/9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000             1/13      Class#new
                      0.000      0.000      0.000      0.000              4/7      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      Class#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Reply#count
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#length
                      0.000      0.000      0.000      0.000              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Enumerable#map
                      0.000      0.000      0.000      0.000              1/5      Enumerable#inject
                      0.001      0.000      0.000      0.001              3/5      Moped::BSON::Extensions::Hash#__bson_dump__
  12.59%   1.56%      0.002      0.000      0.000      0.002                5      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/4      Hash#merge
                      0.000      0.000      0.000      0.000            11/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/7      String#to_s
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
  11.37%   0.13%      0.002      0.000      0.000      0.002                1      Reel::Request#respond
                      0.002      0.000      0.000      0.002              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
  11.24%   0.45%      0.002      0.000      0.000      0.002                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.001      0.000      0.000      0.001             1/13      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/11      Hash#[]=
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Protocol::Query#serialize_selector
                      0.001      0.000      0.000      0.001              2/3      Array#each
  11.11%   0.24%      0.002      0.000      0.000      0.002                3      <Class::Moped::BSON::Document>#serialize
                      0.002      0.000      0.000      0.001              3/3      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.001              3/3      <Class::Moped::BSON::Document>#serialize
  10.87%   0.87%      0.002      0.000      0.000      0.001                3      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              3/5      Hash#each
                      0.000      0.000      0.000      0.000             6/21      String#bytesize
                      0.000      0.000      0.000      0.000              3/8      String#[]=
                      0.000      0.000      0.000      0.000             3/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/13      Integer#times
                      0.000      0.000      0.000      0.000             1/13      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000             2/13      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/13      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/13      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/13      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/13      Moped::Node#command
                      0.000      0.000      0.000      0.000             1/13      Session::AbstractSession#execute
                      0.001      0.000      0.000      0.001             1/13      Reel::Connection#respond
  10.63%   1.15%      0.002      0.000      0.000      0.001               13      Class#new
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             9/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              1/1      StringIO#initialize
                      0.000      0.000      0.000      0.000              2/5      Time#initialize
                      0.000      0.000      0.000      0.000              2/5      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::StringIO>#allocate
                      0.000      0.000      0.000      0.000              1/1      Hash#initialize
                      0.000      0.000      0.000      0.000              1/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Protocol::Insert#serialize
  10.00%   0.15%      0.001      0.000      0.000      0.001                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             3/10      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000             3/10      Moped::Node#ensure_connected
                      0.001      0.000      0.000      0.001             3/10      Moped::Connection#receive_replies
   9.63%   0.79%      0.001      0.000      0.000      0.001               10      Array#map
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Node#ensure_connected
   8.50%   0.22%      0.001      0.000      0.000      0.001                3      Moped::Connection#receive_replies
                      0.001      0.000      0.000      0.001             3/10      Array#map
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   8.18%   0.42%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#map
   7.89%   0.09%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#receive_replies
                      0.001      0.000      0.000      0.001              1/1      Moped::Connection#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Moped::Protocol::Query#receive_replies
   7.81%   0.08%      0.001      0.000      0.000      0.001                1      Moped::Connection#read
                      0.001      0.000      0.000      0.001              1/4      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   6.49%   0.22%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   6.10%   0.29%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   5.53%   1.85%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/34      Array#pack
                      0.000      0.000      0.000      0.000             8/21      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   5.12%   0.21%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              3/3      Moped::Connection#with_connection
   5.01%   0.44%      0.001      0.000      0.000      0.001                3      Moped::Sockets::Connectable#write
                      0.001      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
   4.91%   0.86%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#do_write
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/8      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/24      IO#printf
                      0.000      0.000      0.000      0.000            20/24      IO#puts
                      0.000      0.000      0.000      0.000             3/24      Moped::Sockets::Connectable#handle_socket_errors
   4.75%   3.29%      0.001      0.000      0.000      0.000               24      IO#write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
   4.54%   0.16%      0.001      0.000      0.000      0.001                1      Session::Sh#execute
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Array#each
   4.45%   0.61%      0.001      0.000      0.000      0.001                1      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_full_collection_name
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_fields
                      0.000      0.000      0.000      0.000             2/21      String#bytesize
                      0.000      0.000      0.000      0.000              1/8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#render_header
                      0.001      0.000      0.000      0.001              1/2      Moped::Connection#with_connection
   4.44%   0.12%      0.001      0.000      0.000      0.001                2      Enumerable#map
                      0.001      0.000      0.000      0.001              1/1      Enumerator#each
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
   4.38%   0.30%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/13      Class#new
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   4.35%   0.61%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Enumerable#map
   4.15%   0.06%      0.001      0.000      0.000      0.001                1      Enumerator#each
                      0.001      0.000      0.000      0.001              1/2      Integer#times
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              1/2      Enumerator#each
   4.14%   0.20%      0.001      0.000      0.000      0.001                2      Integer#times
                      0.001      0.000      0.000      0.001              1/1      <Class::Moped::BSON::Document>#deserialize
                      0.000      0.000      0.000      0.000             1/13      Class#new
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
   4.05%   0.33%      0.001      0.000      0.000      0.001                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000             1/21      String#bytesize
                      0.000      0.000      0.000      0.000             1/11      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#executing?
   3.92%   2.33%      0.001      0.000      0.000      0.000               16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            16/20      Thread#[]
                      0.000      0.000      0.000      0.000            16/20      <Class::Thread>#current
                      0.000      0.000      0.000      0.000             3/11      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
                      0.001      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
   3.85%   0.58%      0.001      0.000      0.000      0.000                5      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             3/24      IO#write
                      0.000      0.000      0.000      0.000              2/2      IO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Integer#times
   3.77%   0.08%      0.001      0.000      0.000      0.001                1      <Class::Moped::BSON::Document>#deserialize
                      0.001      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
   3.71%   0.28%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#syswrite
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   3.69%   0.96%      0.001      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              1/1      <Class::Moped::BSON::Document>#deserialize
   3.68%   1.14%      0.001      0.000      0.000      0.000                1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             5/11      Hash#[]=
                      0.000      0.000      0.000      0.000              5/5      StringIO#gets
                      0.000      0.000      0.000      0.000              6/7      StringIO#readbyte
                      0.000      0.000      0.000      0.000              5/5      String#chop!
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   3.43%   0.96%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/20      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/11      Moped::BSON::Extensions::String#__bson_dump__
   3.32%   1.22%      0.000      0.000      0.000      0.000               11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            11/11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   3.16%   0.35%      0.000      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   3.13%   0.10%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.06%   1.99%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/2      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
   2.99%   0.19%      0.000      0.000      0.000      0.000                1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/5      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/19      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            11/19      Moped::BSON::Extensions::String#to_bson_cstring
   2.81%   1.48%      0.000      0.000      0.000      0.000               19      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            19/23      String#encode
                      0.000      0.000      0.000      0.000            19/30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   2.81%   0.80%      0.000      0.000      0.000      0.000                3      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             3/11      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              3/3      Fixnum#>=
                      0.000      0.000      0.000      0.000              3/3      Fixnum#<=
                      0.000      0.000      0.000      0.000             3/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
   2.77%   0.62%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#process
                      0.000      0.000      0.000      0.000              3/6      Moped::Node#ensure_connected
   2.74%   0.57%      0.000      0.000      0.000      0.000                6      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             6/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              6/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#check_if_alive!
   2.32%   1.10%      0.000      0.000      0.000      0.000                9      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              9/9      <Module::Kernel>#select
                      0.000      0.000      0.000      0.000              2/2      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.27%   0.18%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   2.15%   0.73%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/24      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   2.03%   0.30%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/7      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/12      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/9      Hash#merge
                      0.000      0.000      0.000      0.000              5/9      Kernel#dup
   1.97%   0.37%      0.000      0.000      0.000      0.000                9     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              6/6      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   1.95%   0.18%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   1.79%   0.37%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000             4/23      String#encode
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   1.78%   0.71%      0.000      0.000      0.000      0.000                3      String#gsub!
                      0.000      0.000      0.000      0.000              1/4      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.74%   0.48%      0.000      0.000      0.000      0.000                5      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.69%   0.61%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      String#to_s
                      0.000      0.000      0.000      0.000             3/10      Array#map
                      0.000      0.000      0.000      0.000              3/5      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              3/5      Moped::Sockets::Connectable#write
   1.69%   0.35%      0.000      0.000      0.000      0.000                5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              5/9      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#each
                      0.000      0.000      0.000      0.000              1/4      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/4      String#gsub!
   1.67%   0.87%      0.000      0.000      0.000      0.000                4     *Regexp#match
                      0.000      0.000      0.000      0.000             1/13      Array#each
                      0.000      0.000      0.000      0.000              2/5      MatchData#[]
                      0.000      0.000      0.000      0.000              1/5      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.61%   0.21%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   1.54%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_selector
                      0.000      0.000      0.000      0.000              1/3      <Class::Moped::BSON::Document>#serialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              3/5      Moped::Node#ensure_connected
   1.47%   0.45%      0.000      0.000      0.000      0.000                5      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             5/16      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              5/5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   1.45%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Connection#read_data
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.40%   1.40%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.38%   0.42%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/13      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/34      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000             1/34      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000             1/34      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000             1/34      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000             1/34      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000             1/34      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000             2/34      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/34      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/34      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/34      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             2/34      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000             3/34      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             3/34      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             4/34      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/34      Moped::BSON::Extensions::String#__bson_dump__
   1.31%   1.31%      0.000      0.000      0.000      0.000               34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.25%   0.26%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#read_data
   1.18%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#read
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/5      Moped::Sockets::Connectable#handle_socket_errors
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              9/9      Moped::Sockets::Connectable#alive?
   1.11%   1.11%      0.000      0.000      0.000      0.000                9      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   1.07%   1.07%      0.000      0.000      0.000      0.000               20      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/23      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            19/23      Moped::BSON::Extensions::String#to_utf8_binary
   1.01%   1.01%      0.000      0.000      0.000      0.000               23      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.97%   0.16%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   0.91%   0.48%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.90%   0.45%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/30      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             5/30      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000             4/30      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            19/30      Moped::BSON::Extensions::String#to_utf8_binary
   0.87%   0.87%      0.000      0.000      0.000      0.000               30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.86%   0.33%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000             4/30      String#force_encoding
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.81%   0.19%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/13      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.81%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              3/4      Hash#each
   0.80%   0.32%      0.000      0.000      0.000      0.000                4      Hash#merge
                      0.000      0.000      0.000      0.000              4/9      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              4/7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#map
   0.71%   0.15%      0.000      0.000      0.000      0.000                1      Proc#[]
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.68%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Command#initialize
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#initialize
                      0.000      0.000      0.000      0.000              1/4      Hash#merge
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.66%   0.40%      0.000      0.000      0.000      0.000                5      Moped::BSON::Extensions::String#from_utf8_binary
                      0.000      0.000      0.000      0.000              5/5      String#encode!
                      0.000      0.000      0.000      0.000             5/30      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.65%   0.31%      0.000      0.000      0.000      0.000                3      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              3/9      Moped::Node#connection
                      0.000      0.000      0.000      0.000              3/3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.65%   0.56%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.63%   0.63%      0.000      0.000      0.000      0.000                3      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.61%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.60%   0.20%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/1      Time#utc
                      0.000      0.000      0.000      0.000              1/1      <Class::Time>#at
                      0.000      0.000      0.000      0.000              1/1      Bignum#divmod
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.60%   0.25%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/2      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.59%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_flags
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000             1/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/11      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/11      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             3/11      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000             5/11      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000             1/11      Array#each
   0.59%   0.46%      0.000      0.000      0.000      0.000               11      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/20      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            16/20      Moped::Threaded#stack
   0.56%   0.56%      0.000      0.000      0.000      0.000               20      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/15      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/15      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            11/15      Hash#each
   0.54%   0.54%      0.000      0.000      0.000      0.000               15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/21      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             2/21      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000             4/21      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             6/21      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             8/21      Moped::BSON::Extensions::String#__bson_dump__
   0.52%   0.52%      0.000      0.000      0.000      0.000               21      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.52%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000              1/2      BasicObject#!=
                      0.000      0.000      0.000      0.000             1/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.51%   0.26%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.50%   0.32%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.49%   0.49%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/8      Moped::Protocol::Query#serialize
                      0.000      0.000      0.000      0.000              2/8      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              3/8      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/8      Celluloid::IO::Stream#do_write
   0.49%   0.49%      0.000      0.000      0.000      0.000                8      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.48%   0.08%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.48%   0.18%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              1/5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.48%   0.48%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Moped::Node#refresh
                      0.000      0.000      0.000      0.000              1/3      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
   0.48%   0.23%      0.000      0.000      0.000      0.000                3      <Class::Time>#now
                      0.000      0.000      0.000      0.000              3/5      Time#initialize
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              2/7      Hash#each
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.47%   0.47%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/9      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              6/9      Moped::Node#ensure_connected
   0.46%   0.46%      0.000      0.000      0.000      0.000                9      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.46%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.45%   0.45%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_flags
   0.45%   0.28%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Array#include?
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.45%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.44%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.44%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.44%   0.27%      0.000      0.000      0.000      0.000                1      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Hash#[]
                      0.000      0.000      0.000      0.000              1/1      Array#uniq
                      0.000      0.000      0.000      0.000             1/10      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.43%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.42%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.41%   0.14%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.40%   0.25%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000              1/4      Array#clear
                      0.000      0.000      0.000      0.000             1/13      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Class#allocate
                      0.000      0.000      0.000      0.000             2/12      Kernel#dup
                      0.000      0.000      0.000      0.000             9/12      Class#new
   0.40%   0.40%      0.000      0.000      0.000      0.000               12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize
   0.39%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#length
                      0.000      0.000      0.000      0.000             2/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.37%   0.21%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.37%   0.16%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            11/11      Moped::BSON::Extensions::String#to_bson_cstring
   0.36%   0.36%      0.000      0.000      0.000      0.000               11      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Regexp#match
                      0.000      0.000      0.000      0.000              1/5      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.36%   0.36%      0.000      0.000      0.000      0.000                5      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.35%   0.35%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.32%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/15      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.32%   0.17%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.32%   0.32%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.31%   0.13%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              2/7      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      TerminalUser#respond
   0.31%   0.31%      0.000      0.000      0.000      0.000                7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/12      Moped::Protocol::Reply#command_failure?
                      0.000      0.000      0.000      0.000             3/12      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#generate_peers
                      0.000      0.000      0.000      0.000             4/12      Moped::Node#refresh
   0.31%   0.31%      0.000      0.000      0.000      0.000               12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.31%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#initialize_dup
   0.31%   0.31%      0.000      0.000      0.000      0.000                6      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.31%   0.31%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Command#initialize
   0.30%   0.30%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.30%   0.30%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.29%   0.17%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      String#unpack
                      0.000      0.000      0.000      0.000              2/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.29%   0.17%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.29%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/9      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              2/9      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              6/9      Moped::Threaded#executing?
   0.29%   0.29%      0.000      0.000      0.000      0.000                9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.28%   0.28%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#flags=
   0.27%   0.19%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#flags_from_int
                      0.000      0.000      0.000      0.000              3/3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.25%   0.10%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/24      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.25%   0.16%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/20      Thread#[]
                      0.000      0.000      0.000      0.000             2/20      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.25%   0.25%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.25%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Class#new
                      0.000      0.000      0.000      0.000              2/7      Kernel#dup
                      0.000      0.000      0.000      0.000              4/7      Hash#merge
   0.24%   0.24%      0.000      0.000      0.000      0.000                7      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              2/5      Moped::BSON::Extensions::Integer::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      Moped::Connection#with_connection
   0.24%   0.24%      0.000      0.000      0.000      0.000                5      String#unpack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.23%   0.23%      0.000      0.000      0.000      0.000                3      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/9      Array#each
                      0.000      0.000      0.000      0.000              2/9      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              5/9      Moped::Protocol::Query#flags_as_int
   0.23%   0.23%      0.000      0.000      0.000      0.000                9      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.23%   0.23%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.22%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.22%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_response_to
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#response_to
                      0.000      0.000      0.000      0.000             1/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.22%   0.22%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.21%   0.13%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      Array#each
                      0.000      0.000      0.000      0.000              2/5      Regexp#match
   0.21%   0.21%      0.000      0.000      0.000      0.000                5      MatchData#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/7      MyServer#handle_request
                      0.000      0.000      0.000      0.000              4/7      Moped::Connection#with_connection
   0.21%   0.21%      0.000      0.000      0.000      0.000                7      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.21%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_skip
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#skip
                      0.000      0.000      0.000      0.000             1/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.20%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_op_code
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#op_code
                      0.000      0.000      0.000      0.000             1/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.20%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_request_id
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#request_id
                      0.000      0.000      0.000      0.000             1/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.20%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_limit
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#limit
                      0.000      0.000      0.000      0.000             1/34      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Mutex#synchronize
                      0.000      0.000      0.000      0.000              3/4      Moped::Node#flush
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Reply#command_failure?
   0.20%   0.12%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#error_message
                      0.000      0.000      0.000      0.000             3/12      Hash#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.19%   0.12%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Float::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/5      String#unpack
                      0.000      0.000      0.000      0.000              1/7      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              1/2      Moped::Protocol::Reply#command_failure?
   0.19%   0.11%      0.000      0.000      0.000      0.000                2      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/1      Float#==
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.18%   0.13%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Class#new
                      0.000      0.000      0.000      0.000              3/5      <Class::Time>#now
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.18%   0.18%      0.000      0.000      0.000      0.000                1      Time#utc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Moped::Protocol::Reply#flags=
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/5      Moped::Collection#insert
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#logging
   0.18%   0.18%      0.000      0.000      0.000      0.000                3      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#begin
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.18%   0.18%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              6/7      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.18%   0.18%      0.000      0.000      0.000      0.000                7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.17%   0.17%      0.000      0.000      0.000      0.000                5      StringIO#gets
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.17%   0.17%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#flush
   0.16%   0.16%      0.000      0.000      0.000      0.000                3      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#connected?
   0.16%   0.16%      0.000      0.000      0.000      0.000                3      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::Threaded#end
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.16%   0.16%      0.000      0.000      0.000      0.000                3      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Array#each
   0.16%   0.13%      0.000      0.000      0.000      0.000                1      Moped::Cluster#refresh_peers
                      0.000      0.000      0.000      0.000              1/9      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
   0.16%   0.16%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.15%   0.15%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::String#from_utf8_binary
   0.14%   0.14%      0.000      0.000      0.000      0.000                5      String#encode!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Hash#[]=
   0.13%   0.09%      0.000      0.000      0.000      0.000                1      Moped::Node#hash
                      0.000      0.000      0.000      0.000              1/1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.13%   0.13%      0.000      0.000      0.000      0.000                5      String#chop!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#alive?
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      IO#eof?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.12%   0.08%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
                      0.000      0.000      0.000      0.000              1/2      Array#each
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.12%   0.08%      0.000      0.000      0.000      0.000                1      StringIO#initialize
                      0.000      0.000      0.000      0.000              1/1      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::BSON::Extensions::Integer#__bson_dump__
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.11%   0.11%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.11%   0.11%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Hash::ClassMethods#__bson_load__
   0.11%   0.08%      0.000      0.000      0.000      0.000                1      Moped::BSON::Extensions::Boolean::ClassMethods#__bson_load__
                      0.000      0.000      0.000      0.000              1/7      StringIO#readbyte
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.11%   0.07%      0.000      0.000      0.000      0.000                1      Class#allocate
                      0.000      0.000      0.000      0.000             1/12      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.10%   0.08%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#with_connection
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Reply#count
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Query#serialize_length
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Query#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Node#ensure_connected
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      IO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Moped::Protocol::Reply#flags_from_int
   0.08%   0.08%      0.000      0.000      0.000      0.000                3      Fixnum#&
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#refresh
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Moped::Node#resolve_address
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      <Class::Time>#at
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::BSON::Extensions::Time::ClassMethods#__bson_load__
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Bignum#divmod
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#serialize_fields
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#flags_as_int
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_response_to
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Connection#with_connection
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Reply#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_skip
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#skip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_limit
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#limit
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.06%   0.06%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_request_id
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Protocol::Query#serialize_op_code
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Moped::Protocol::Query#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                2      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::StringIO>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Hash#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#generate_peers
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Array#uniq
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Proc#[]
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Array#first
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      StringIO#initialize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      BasicObject#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Node#hash
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      String#hash
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Mutex#unlock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Float#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.04%   0.04%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?

* indicates recursively called methods
Thread ID: 73759390
Fiber ID: 73759100
Total Time: 0.006962699999999988
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.59%      0.007      0.000      0.000      0.007                1      Session::AbstractSession#_initialize
                      0.006      0.000      0.006      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.006      0.000      0.006      0.000              2/2      Session::AbstractSession#_initialize
  87.50%   1.22%      0.006      0.000      0.006      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   5.86%   1.08%      0.000      0.000      0.000      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   3.67%   2.38%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.87%   0.48%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.79%   0.79%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.51%   0.51%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.50%   0.16%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.40%   0.40%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.34%   0.17%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.17%   0.17%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
***** start_time: 2013-04-25 23:34:18 +0530------------end_time: 2013-04-25 23:34:20 +0530------------total_time_required: 2.102706398
Thread ID: 73641510
Fiber ID: 72662730
Total Time: 0.01197933200000001
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.37%      0.012      0.000      0.000      0.012                1      <Module::CodeProfiler>#profile_logger
                      0.012      0.000      0.000      0.012              1/1      MyServer#handle_request
--------------------------------------------------------------------------------
                      0.012      0.000      0.000      0.012              1/1      <Module::CodeProfiler>#profile_logger
  99.63%   1.73%      0.012      0.000      0.000      0.012                1      MyServer#handle_request
                      0.007      0.000      0.000      0.007              2/2      Moped::Collection#insert
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
                      0.000      0.000      0.000      0.000             3/10      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/3      String#gsub
                      0.000      0.000      0.000      0.000              1/4      String#split
                      0.000      0.000      0.000      0.000              3/5      Kernel#nil?
                      0.000      0.000      0.000      0.000              1/1      String#empty?
                      0.000      0.000      0.000      0.000              1/1      String#to_i
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.007              2/2      MyServer#handle_request
  55.44%   0.39%      0.007      0.000      0.000      0.007                2      Moped::Collection#insert
                      0.007      0.000      0.000      0.006              2/2      Moped::Session#with
                      0.000      0.000      0.000      0.000              2/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.007      0.000      0.000      0.006              2/2      Moped::Collection#insert
  54.94%   0.70%      0.007      0.000      0.000      0.006                2      Moped::Session#with
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              2/2      Kernel#block_given?
                      0.000      0.000      0.000      0.000              2/2      Hash#update
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session#with
  51.89%   0.19%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#insert
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#insert
  51.70%   0.58%      0.006      0.000      0.000      0.006                2      Moped::Session::Context#with_node
                      0.006      0.000      0.000      0.006              2/2      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#cluster
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#max_retries
                      0.000      0.000      0.000      0.000              2/3      Symbol#==
--------------------------------------------------------------------------------
                      0.006      0.000      0.000      0.006              2/2      Moped::Session::Context#with_node
  50.32%   0.54%      0.006      0.000      0.000      0.006                2      Moped::Cluster#with_primary
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
                      0.001      0.000      0.000      0.001              2/2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Enumerable#find
                      0.000      0.000      0.000      0.000              2/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Cluster#with_primary
  43.62%   0.89%      0.005      0.000      0.000      0.005                2      Moped::Node#ensure_primary
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#insert
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#ensure_primary
  39.23%   0.28%      0.005      0.000      0.000      0.005                2      Moped::Node#insert
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#process
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.005      0.000      0.000      0.005              2/2      Moped::Node#insert
  38.04%   0.33%      0.005      0.000      0.000      0.005                2      Moped::Node#process
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#process
  36.80%   0.39%      0.004      0.000      0.000      0.004                2      Moped::Node#flush
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#logging
                      0.000      0.000      0.000      0.000              2/2      Array#transpose
                      0.000      0.000      0.000      0.000              2/3      Array#clear
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#flush
  36.18%   0.61%      0.004      0.000      0.000      0.004                2      Moped::Node#logging
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/2      Moped::Logging#logger
                      0.000      0.000      0.000      0.000              2/2      Logger#debug?
--------------------------------------------------------------------------------
                      0.004      0.000      0.000      0.004              2/2      Moped::Node#logging
  35.22%   1.57%      0.004      0.000      0.000      0.004                2      Moped::Node#ensure_connected
                      0.003      0.000      0.000      0.003              2/2      Moped::Connection#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000              2/4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Array#zip
                      0.000      0.000      0.000      0.000              2/2      Array#last
--------------------------------------------------------------------------------
                      0.003      0.000      0.000      0.003              2/2      Moped::Node#ensure_connected
  27.47%   0.38%      0.003      0.000      0.000      0.003                2      Moped::Connection#write
                      0.002      0.000      0.000      0.002             2/11      Array#each
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/11      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             1/11      Mutex#synchronize
                      0.000      0.000      0.000      0.000             2/11      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000             2/11      Enumerable#find
                      0.000      0.000      0.000      0.000             2/11      Enumerable#partition
                      0.002      0.000      0.000      0.002             2/11      Moped::Connection#write
  21.23%   1.05%      0.003      0.000      0.000      0.002               11     *Array#each
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      <Class::Moped::BSON::Document>#serialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#primary?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  19.41%   1.37%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_full_collection_name
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Enumerable#inject
                      0.001      0.000      0.000      0.001              2/4      Moped::BSON::Extensions::Hash#__bson_dump__
  15.76%   2.46%      0.002      0.000      0.000      0.002                4      Hash#each
                      0.001      0.000      0.000      0.001              8/8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000              3/3      Hash#merge
                      0.000      0.000      0.000      0.000            10/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              2/7      String#to_s
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      MyServer#handle_request
  14.74%   0.16%      0.002      0.000      0.000      0.002                1      Reel::Request#respond
                      0.002      0.000      0.000      0.002              1/1      Reel::Connection#respond
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              1/1      Reel::Request#respond
  14.59%   0.59%      0.002      0.000      0.000      0.002                1      Reel::Connection#respond
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#render
                      0.001      0.000      0.000      0.001             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/10      Module#===
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Moped::Protocol::Insert#serialize
  13.64%   0.20%      0.002      0.000      0.000      0.002                2      Moped::Protocol::Insert#serialize_documents
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.002              2/2      Array#each
  13.19%   0.21%      0.002      0.000      0.000      0.002                2      <Class::Moped::BSON::Document>#serialize
                      0.002      0.000      0.000      0.001              2/2      Moped::BSON::Extensions::Hash#__bson_dump__
--------------------------------------------------------------------------------
                      0.002      0.000      0.000      0.001              2/2      <Class::Moped::BSON::Document>#serialize
  12.98%   0.81%      0.002      0.000      0.000      0.001                2      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.001      0.000      0.000      0.001              2/4      Hash#each
                      0.000      0.000      0.000      0.000             4/17      String#bytesize
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000             2/10      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Moped::Node#insert
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.001      0.000      0.000      0.001             1/10      Reel::Connection#respond
  11.81%   1.10%      0.001      0.000      0.000      0.001               10      Class#new
                      0.001      0.000      0.000      0.001              1/1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#initialize
                      0.000      0.000      0.000      0.000              2/2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             8/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#initialize
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   8.45%   0.54%      0.001      0.000      0.000      0.001                1      TerminalUser#respond
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      String#slice!
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
                      0.000      0.000      0.000      0.000              1/1      StringIO#rewind
                      0.000      0.000      0.000      0.000              1/1      StringIO#pos
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              8/8      Hash#each
   8.44%   2.65%      0.001      0.000      0.000      0.001                8      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000             8/24      Array#pack
                      0.000      0.000      0.000      0.000             8/17      String#bytesize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      MyServer#handle_request
   8.32%   0.30%      0.001      0.000      0.000      0.001                1      TerminalUser#execute
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
                      0.000      0.000      0.000      0.000              1/9      Kernel#inspect
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Reel::Connection#respond
   8.08%   0.24%      0.001      0.000      0.000      0.001                1      Reel::Response#render
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#write
   7.33%   0.62%      0.001      0.000      0.000      0.001                2      Moped::Connection#with_connection
                      0.001      0.000      0.000      0.001              2/2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              2/5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Reel::Response#render
   6.99%   0.28%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#<<
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#<<
   6.72%   1.21%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#do_write
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#syswrite
                      0.000      0.000      0.000      0.000              2/6      String#[]=
                      0.000      0.000      0.000      0.000              2/2      String#[]
                      0.000      0.000      0.000      0.000             2/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#respond
   6.55%   0.89%      0.001      0.000      0.000      0.001                1      TerminalUser#block_for_output_to_come
                      0.001      0.000      0.000      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000             2/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/2      StringIO#read
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      TerminalUser#execute
   5.89%   0.20%      0.001      0.000      0.000      0.001                1      Session::Sh#execute
                      0.001      0.000      0.000      0.001              1/1      Session::AbstractSession#execute
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Session::Sh#execute
   5.69%   0.41%      0.001      0.000      0.000      0.001                1      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             1/10      Class#new
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              1/1      IO#printf
                      0.000      0.000      0.000      0.000             1/10      Kernel#puts
                      0.000      0.000      0.000      0.000              1/1      IO#flush
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Cluster#with_primary
   5.54%   0.94%      0.001      0.000      0.000      0.001                2      Moped::Cluster#nodes
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Enumerable#partition
                      0.000      0.000      0.000      0.000              2/2      Array#reject
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              4/4      Time#-
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#down_interval
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh_interval
                      0.000      0.000      0.000      0.000              2/2      Array#concat
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Moped::Connection#with_connection
   5.23%   0.36%      0.001      0.000      0.000      0.001                2      Moped::Sockets::Connectable#write
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#check_if_alive!
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              1/1      Class#new
   5.13%   0.42%      0.001      0.000      0.000      0.001                1      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/5      Hash#[]=
                      0.000      0.000      0.000      0.000             1/17      String#bytesize
                      0.000      0.000      0.000      0.000              1/4      Kernel#is_a?
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.001              2/2      Celluloid::IO::Stream#do_write
   5.04%   0.42%      0.001      0.000      0.000      0.001                2      Celluloid::IO::Stream#syswrite
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      TerminalUser#block_for_output_to_come
   4.77%   0.60%      0.001      0.000      0.000      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.001      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#syswrite
   4.62%   1.74%      0.001      0.000      0.000      0.000                2      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              2/2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
                      0.000      0.000      0.000      0.000              1/9      TerminalUser#execute
                      0.000      0.000      0.000      0.000              1/9      MyServer#handle_request
   4.56%   1.21%      0.001      0.000      0.000      0.000                9     *Kernel#inspect
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
                      0.000      0.000      0.000      0.000            12/12      NilClass#inspect
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
                      0.000      0.000      0.000      0.000              6/6      IO#inspect
                      0.000      0.000      0.000      0.000              2/2      Proc#to_s
                      0.000      0.000      0.000      0.000              4/6      String#inspect
                      0.000      0.000      0.000      0.000              2/2      Kernel#to_s
                      0.000      0.000      0.000      0.000              2/4      Fixnum#to_s
                      0.000      0.000      0.000      0.000              7/9      Kernel#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             8/10      Moped::BSON::Extensions::String#__bson_dump__
   4.48%   1.50%      0.001      0.000      0.000      0.000               10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            10/10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/23      IO#printf
                      0.000      0.000      0.000      0.000            20/23      IO#puts
                      0.000      0.000      0.000      0.000             2/23      Moped::Sockets::Connectable#handle_socket_errors
   4.19%   3.02%      0.001      0.000      0.000      0.000               23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             8/18      Moped::BSON::Extensions::String#__bson_dump__
                      0.000      0.000      0.000      0.000            10/18      Moped::BSON::Extensions::String#to_bson_cstring
   4.04%   1.89%      0.000      0.000      0.000      0.000               18      Moped::BSON::Extensions::String#to_utf8_binary
                      0.000      0.000      0.000      0.000            18/22      String#encode
                      0.000      0.000      0.000      0.000            18/24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   3.96%   0.12%      0.000      0.000      0.000      0.000                1      Reel::Response#canonicalize_headers
                      0.000      0.000      0.000      0.000              1/1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Class#new
   3.91%   2.30%      0.000      0.000      0.000      0.000                1      Session::Command#initialize
                      0.000      0.000      0.000      0.000              5/5      String#%
                      0.000      0.000      0.000      0.000              4/4      <Class::Regexp>#escape
                      0.000      0.000      0.000      0.000              1/2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
                      0.000      0.000      0.000      0.000              2/2      <Class::Session::Command>#cmdno
                      0.000      0.000      0.000      0.000              1/1      <Class::Session::Command>#cmdno=
                      0.000      0.000      0.000      0.000              2/2      Kernel#class
                      0.000      0.000      0.000      0.000              1/1      Time#usec
                      0.000      0.000      0.000      0.000              1/7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#canonicalize_headers
   3.78%   0.09%      0.000      0.000      0.000      0.000                1      Enumerable#inject
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#begin
   3.69%   2.29%      0.000      0.000      0.000      0.000               12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000            12/16      <Class::Thread>#current
                      0.000      0.000      0.000      0.000            12/16      Thread#[]
                      0.000      0.000      0.000      0.000              3/5      Hash#[]=
                      0.000      0.000      0.000      0.000              1/1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   3.40%   0.32%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#handle_socket_errors
                      0.000      0.000      0.000      0.000             2/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   2.86%   0.24%      0.000      0.000      0.000      0.000                1      JSON#generate
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/5      Kernel#dup
                      0.000      0.000      0.000      0.000             1/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#execute
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#respond
                      0.000      0.000      0.000      0.000             3/10      MyServer#handle_request
                      0.000      0.000      0.000      0.000             2/10      TerminalUser#block_for_output_to_come
   2.70%   0.87%      0.000      0.000      0.000      0.000               10      Kernel#puts
                      0.000      0.000      0.000      0.000            10/10      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Connection#with_connection
   2.64%   0.75%      0.000      0.000      0.000      0.000                4      Moped::Sockets::Connectable#alive?
                      0.000      0.000      0.000      0.000              4/4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              2/7      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Moped::Node#ensure_connected
   2.49%   2.18%      0.000      0.000      0.000      0.000                7      Array#map
                      0.000      0.000      0.000      0.000              5/5      String#capitalize
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              1/5      JSON#generate
                      0.000      0.000      0.000      0.000              2/5      Moped::Session#with
   2.44%   0.35%      0.000      0.000      0.000      0.000                5     *Kernel#dup
                      0.000      0.000      0.000      0.000              5/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/5      <Class::Hash>#allocate
                      0.000      0.000      0.000      0.000             2/10      <Class::BasicObject>#allocate
                      0.000      0.000      0.000      0.000              1/1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/8      Hash#merge
                      0.000      0.000      0.000      0.000              5/8      Kernel#dup
   2.27%   0.38%      0.000      0.000      0.000      0.000                8     *Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000              5/5      Hash#initialize_copy
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON#generate
   2.23%   0.48%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000              1/1      Regexp#initialize
                      0.000      0.000      0.000      0.000              1/1      Regexp#match
                      0.000      0.000      0.000      0.000             4/22      String#encode
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
                      0.000      0.000      0.000      0.000              1/1      Hash#keys
                      0.000      0.000      0.000      0.000              1/1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
   2.06%   0.47%      0.000      0.000      0.000      0.000                4      Moped::Threaded#begin
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Sockets::Connectable#alive?
   1.88%   1.88%      0.000      0.000      0.000      0.000                4      <Module::Kernel>#select
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#process
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.84%   0.53%      0.000      0.000      0.000      0.000                4      Moped::Threaded#executing?
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Kernel#puts
   1.83%   0.94%      0.000      0.000      0.000      0.000               10      IO#puts
                      0.000      0.000      0.000      0.000            20/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   1.81%   0.32%      0.000      0.000      0.000      0.000                2      Celluloid::IO::TCPSocket#write_nonblock
                      0.000      0.000      0.000      0.000              2/2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_primary
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#ensure_connected
   1.80%   0.51%      0.000      0.000      0.000      0.000                4      Moped::Threaded#end
                      0.000      0.000      0.000      0.000             4/12      Moped::Threaded#stack
                      0.000      0.000      0.000      0.000              4/4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   1.80%   0.60%      0.000      0.000      0.000      0.000                3      <Module::HTTP>#canonicalize_header
                      0.000      0.000      0.000      0.000              3/7      Array#map
                      0.000      0.000      0.000      0.000              3/4      String#split
                      0.000      0.000      0.000      0.000              3/4      Array#join
                      0.000      0.000      0.000      0.000              3/7      String#to_s
                      0.000      0.000      0.000      0.000              3/5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#each
   1.77%   0.60%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/10      Moped::BSON::Extensions::String#to_bson_cstring
                      0.000      0.000      0.000      0.000              2/2      Fixnum#>=
                      0.000      0.000      0.000      0.000             2/24      Array#pack
                      0.000      0.000      0.000      0.000              2/2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             4/22      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000            18/22      Moped::BSON::Extensions::String#to_utf8_binary
   1.72%   1.72%      0.000      0.000      0.000      0.000               22      String#encode
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#initialize_dup
   1.65%   0.51%      0.000      0.000      0.000      0.000                2      Moped::Session#initialize_copy
                      0.000      0.000      0.000      0.000             2/10      Class#new
                      0.000      0.000      0.000      0.000              2/2      Kernel#remove_instance_variable
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::TCPSocket#write_nonblock
   1.49%   1.49%      0.000      0.000      0.000      0.000                2      IO#write_nonblock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Sockets::Connectable#write
   1.47%   0.25%      0.000      0.000      0.000      0.000                2      Moped::Sockets::Connectable#check_if_alive!
                      0.000      0.000      0.000      0.000              2/4      Moped::Sockets::Connectable#alive?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.37%   0.28%      0.000      0.000      0.000      0.000                2      Moped::Session#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Database#[]
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.37%   1.04%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh
                      0.000      0.000      0.000      0.000              2/2      Kernel#lambda
                      0.000      0.000      0.000      0.000              2/2      Array#to_a
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000             2/24      Moped::BSON::Extensions::Integer#__bson_dump__
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000             2/24      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000             4/24      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000             8/24      Moped::BSON::Extensions::String#__bson_dump__
   1.27%   1.27%      0.000      0.000      0.000      0.000               24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.18%   0.19%      0.000      0.000      0.000      0.000                2      Enumerable#partition
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   1.18%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Connection#receive_replies
                      0.000      0.000      0.000      0.000              2/7      Array#map
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize
   1.09%   0.56%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#serialize_length
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#length
                      0.000      0.000      0.000      0.000             4/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   1.06%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_flags
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   1.03%   0.41%      0.000      0.000      0.000      0.000                2      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000             4/24      String#force_encoding
                      0.000      0.000      0.000      0.000              2/3      String#gsub
                      0.000      0.000      0.000      0.000              2/2      String#tr
                      0.000      0.000      0.000      0.000              2/2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   1.02%   0.47%      0.000      0.000      0.000      0.000                2      Array#reject
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#arbiter?
                      0.000      0.000      0.000      0.000              2/4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/24      Celluloid::IO::Stream#do_write
                      0.000      0.000      0.000      0.000             4/24      <Class::CGI>#unescape
                      0.000      0.000      0.000      0.000            18/24      Moped::BSON::Extensions::String#to_utf8_binary
   0.92%   0.92%      0.000      0.000      0.000      0.000               24      String#force_encoding
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.88%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Database#[]
                      0.000      0.000      0.000      0.000             2/10      Class#new
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.83%   0.71%      0.000      0.000      0.000      0.000                2      Time#to_s
                      0.000      0.000      0.000      0.000              2/2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render
   0.80%   0.31%      0.000      0.000      0.000      0.000                1      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Array#join
                      0.000      0.000      0.000      0.000              1/1      Hash#empty?
                      0.000      0.000      0.000      0.000              1/4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.78%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.75%   0.75%      0.000      0.000      0.000      0.000                1      Regexp#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.74%   0.74%      0.000      0.000      0.000      0.000               16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Hash#each
   0.71%   0.29%      0.000      0.000      0.000      0.000                3      Hash#merge
                      0.000      0.000      0.000      0.000              3/8      Kernel#initialize_dup
                      0.000      0.000      0.000      0.000              3/5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/16      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Celluloid::IO::Stream::Latch#synchronize
                      0.000      0.000      0.000      0.000            12/16      Moped::Threaded#stack
   0.70%   0.70%      0.000      0.000      0.000      0.000               16      Thread#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/14      JSON::Ext::Generator::State#generate
                      0.000      0.000      0.000      0.000             2/14      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000            10/14      Hash#each
   0.67%   0.67%      0.000      0.000      0.000      0.000               14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_flags
   0.66%   0.40%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags_as_int
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags
                      0.000      0.000      0.000      0.000              2/2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.62%   0.31%      0.000      0.000      0.000      0.000                2      Hash#inspect
                      0.000      0.000      0.000      0.000              2/2      Symbol#inspect
                      0.000      0.000      0.000      0.000              2/6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::IO::Stream::Latch#synchronize
   0.60%   0.10%      0.000      0.000      0.000      0.000                1      Celluloid::Condition#owner=
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/17      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             4/17      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000             4/17      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000             8/17      Moped::BSON::Extensions::String#__bson_dump__
   0.59%   0.59%      0.000      0.000      0.000      0.000               17      String#bytesize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.59%   0.59%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.58%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_response_to
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#response_to
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#safe?
   0.57%   0.21%      0.000      0.000      0.000      0.000                2      Moped::Session#safe?
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Session::Command#initialize
   0.57%   0.57%      0.000      0.000      0.000      0.000                5      String#%
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.57%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_request_id
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#request_id
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.55%   0.31%      0.000      0.000      0.000      0.000                2      Moped::Node#apply_auth
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#auth
                      0.000      0.000      0.000      0.000              2/2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.55%   0.22%      0.000      0.000      0.000      0.000                1      TerminalUser#sanitize_ansi_data
                      0.000      0.000      0.000      0.000              3/3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.55%   0.55%      0.000      0.000      0.000      0.000                1      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.53%   0.30%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_op_code
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#op_code
                      0.000      0.000      0.000      0.000             2/24      Array#pack
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#with_primary
   0.53%   0.18%      0.000      0.000      0.000      0.000                2      Enumerable#find
                      0.000      0.000      0.000      0.000             2/11      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.53%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connection
                      0.000      0.000      0.000      0.000              2/2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/2      MyServer#handle_request
   0.50%   0.23%      0.000      0.000      0.000      0.000                2      <Class::Time>#now
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#allocate
                      0.000      0.000      0.000      0.000              2/4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Celluloid::Condition#owner=
   0.50%   0.31%      0.000      0.000      0.000      0.000                1      Mutex#synchronize
                      0.000      0.000      0.000      0.000              1/1      Mutex#lock
                      0.000      0.000      0.000      0.000              1/1      Mutex#unlock
                      0.000      0.000      0.000      0.000             1/11      Array#each
                      0.000      0.000      0.000      0.000              1/3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Protocol::Insert#serialize
                      0.000      0.000      0.000      0.000              2/6      Moped::BSON::Extensions::Hash#__bson_dump__
                      0.000      0.000      0.000      0.000              2/6      Celluloid::IO::Stream#do_write
   0.50%   0.50%      0.000      0.000      0.000      0.000                6      String#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.47%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Node#needs_refresh?
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      MyServer#handle_request
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.47%   0.47%      0.000      0.000      0.000      0.000                4      String#split
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.46%   0.26%      0.000      0.000      0.000      0.000                1      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              3/3      IO#closed?
                      0.000      0.000      0.000      0.000             3/10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#initialize
   0.46%   0.20%      0.000      0.000      0.000      0.000                2     *Reel::Response#status=
                      0.000      0.000      0.000      0.000             3/10      Module#===
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#status=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            10/10      Moped::BSON::Extensions::String#to_bson_cstring
   0.45%   0.45%      0.000      0.000      0.000      0.000               10      String#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Node#connected?
                      0.000      0.000      0.000      0.000              4/6      Moped::Node#ensure_connected
   0.43%   0.43%      0.000      0.000      0.000      0.000                6      Moped::Node#connection
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             2/10      Kernel#dup
                      0.000      0.000      0.000      0.000             8/10      Class#new
   0.42%   0.42%      0.000      0.000      0.000      0.000               10      <Class::BasicObject>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#initialize
                      0.000      0.000      0.000      0.000             1/10      Reel::Connection#respond
                      0.000      0.000      0.000      0.000             1/10      Reel::Response#render
                      0.000      0.000      0.000      0.000             1/10      JSON#generate
                      0.000      0.000      0.000      0.000             3/10      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000             3/10      Reel::Response#status=
   0.41%   0.41%      0.000      0.000      0.000      0.000               10      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      MyServer#handle_request
   0.40%   0.17%      0.000      0.000      0.000      0.000                2      RequestMixin#url
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.39%   0.22%      0.000      0.000      0.000      0.000                1      Reel::Connection#reset_request
                      0.000      0.000      0.000      0.000              1/1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.38%   0.15%      0.000      0.000      0.000      0.000                1      IO#printf
                      0.000      0.000      0.000      0.000             1/23      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.37%   0.22%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#consistency
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000            12/12      Kernel#inspect
   0.37%   0.37%      0.000      0.000      0.000      0.000               12      NilClass#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safe?
   0.37%   0.23%      0.000      0.000      0.000      0.000                2      Moped::Session#safety
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.36%   0.24%      0.000      0.000      0.000      0.000                2      Moped::Collection#initialize
                      0.000      0.000      0.000      0.000             2/14      Symbol#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.36%   0.22%      0.000      0.000      0.000      0.000                2      Array#inspect
                      0.000      0.000      0.000      0.000              2/2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      MyServer#handle_request
                      0.000      0.000      0.000      0.000              2/3      <Class::CGI>#unescape
   0.36%   0.36%      0.000      0.000      0.000      0.000                3      String#gsub
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Hash#inspect
                      0.000      0.000      0.000      0.000              4/6      Kernel#inspect
   0.35%   0.35%      0.000      0.000      0.000      0.000                6      String#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Kernel#initialize_dup
   0.34%   0.34%      0.000      0.000      0.000      0.000                5      Hash#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.33%   0.08%      0.000      0.000      0.000      0.000                1      Enumerable#map
                      0.000      0.000      0.000      0.000              1/4      Hash#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      TerminalUser#sanitize_ansi_data
   0.33%   0.33%      0.000      0.000      0.000      0.000                3      String#gsub!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize
   0.31%   0.31%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#serialize_full_collection_name
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream::Latch#synchronize
   0.31%   0.20%      0.000      0.000      0.000      0.000                2      <Class::Celluloid::Task>#current
                      0.000      0.000      0.000      0.000             2/16      Thread#[]
                      0.000      0.000      0.000      0.000             2/16      <Class::Thread>#current
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Session::Command#initialize
   0.31%   0.31%      0.000      0.000      0.000      0.000                4      <Class::Regexp>#escape
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Kernel#inspect
   0.30%   0.30%      0.000      0.000      0.000      0.000                6      IO#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.29%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              2/6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Protocol::Insert#serialize_length
   0.27%   0.27%      0.000      0.000      0.000      0.000                4      Moped::Protocol::Insert#length
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Array#reject
                      0.000      0.000      0.000      0.000              2/4      Array#each
   0.27%   0.27%      0.000      0.000      0.000      0.000                4      Moped::Node#down?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/7      Session::Command#initialize
                      0.000      0.000      0.000      0.000              1/7      Session::AbstractSession#execute
                      0.000      0.000      0.000      0.000              2/7      Hash#each
                      0.000      0.000      0.000      0.000              3/7      <Module::HTTP>#canonicalize_header
   0.27%   0.27%      0.000      0.000      0.000      0.000                7      String#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              3/4      <Module::HTTP>#canonicalize_header
   0.26%   0.26%      0.000      0.000      0.000      0.000                4      Array#join
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/5      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/5      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              3/5      Moped::Threaded#stack
   0.25%   0.25%      0.000      0.000      0.000      0.000                5      Hash#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#needs_refresh?
   0.25%   0.15%      0.000      0.000      0.000      0.000                2      Comparable#<
                      0.000      0.000      0.000      0.000              2/2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.25%   0.25%      0.000      0.000      0.000      0.000                4      Time#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/4      Class#new
                      0.000      0.000      0.000      0.000              2/4      <Class::Time>#now
   0.23%   0.23%      0.000      0.000      0.000      0.000                4      <Class::Time>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      RequestMixin#url
   0.23%   0.16%      0.000      0.000      0.000      0.000                2      Reel::Request::Parser#url
                      0.000      0.000      0.000      0.000              2/2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/6      Moped::Cluster#member?
                      0.000      0.000      0.000      0.000              4/6      Moped::Threaded#executing?
   0.23%   0.23%      0.000      0.000      0.000      0.000                6      Array#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.22%   0.22%      0.000      0.000      0.000      0.000                2      Proc#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#render_header
                      0.000      0.000      0.000      0.000              1/4      Hash#each
                      0.000      0.000      0.000      0.000              2/4      Kernel#inspect
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      Fixnum#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Cluster#nodes
   0.21%   0.21%      0.000      0.000      0.000      0.000                4      Time#-
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.20%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Logging#logger
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#[]
   0.20%   0.20%      0.000      0.000      0.000      0.000                2      Moped::Session#current_database
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#end
   0.20%   0.20%      0.000      0.000      0.000      0.000                4      Array#pop
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              5/5      Array#map
   0.20%   0.20%      0.000      0.000      0.000      0.000                5      String#capitalize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Cluster#with_primary
                      0.000      0.000      0.000      0.000              3/5      <Module::HTTP>#canonicalize_header
   0.19%   0.19%      0.000      0.000      0.000      0.000                5      Symbol#to_proc
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/4      Reel::Response#initialize
                      0.000      0.000      0.000      0.000              1/4      Reel::Connection#respond
                      0.000      0.000      0.000      0.000              2/4      Moped::Collection#insert
   0.18%   0.18%      0.000      0.000      0.000      0.000                4      Kernel#is_a?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Kernel#dup
                      0.000      0.000      0.000      0.000              3/5      Hash#merge
   0.18%   0.18%      0.000      0.000      0.000      0.000                5      <Class::Hash>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.18%   0.12%      0.000      0.000      0.000      0.000                1      Kernel#rand
                      0.000      0.000      0.000      0.000              1/1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/5      Moped::Connection#with_connection
                      0.000      0.000      0.000      0.000              3/5      MyServer#handle_request
   0.17%   0.17%      0.000      0.000      0.000      0.000                5      Kernel#nil?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_response_to
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#response_to
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#block_for_output_to_come
                      0.000      0.000      0.000      0.000              1/2      TerminalUser#respond
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      StringIO#read
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Array#zip
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.17%   0.17%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#cluster
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              4/4      Moped::Threaded#begin
   0.16%   0.16%      0.000      0.000      0.000      0.000                4      Array#push
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Hash#inspect
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Symbol#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#reset_request
   0.16%   0.16%      0.000      0.000      0.000      0.000                1      Reel::Request::Parser#reset
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#flags
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Class#new
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session::Context#initialize
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#with_node
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Cluster#max_retries
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Cluster#down_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_request_id
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#request_id
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session::Context#consistency
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Session#consistency
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      String#tr
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.16%   0.16%      0.000      0.000      0.000      0.000                2      Moped::Cluster#refresh_interval
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Kernel#lambda
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_primary
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Moped::Cluster#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#logging
   0.15%   0.15%      0.000      0.000      0.000      0.000                2      Logger#debug?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Node#auth
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#flush
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Array#transpose
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#each
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Node#primary?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#safety
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::BSON::Extensions::Object#__safe_options__
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#inspect
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Thread#inspect
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#reject
   0.14%   0.14%      0.000      0.000      0.000      0.000                2      Moped::Node#arbiter?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#initialize
   0.14%   0.10%      0.000      0.000      0.000      0.000                1      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#serialize_op_code
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Insert#op_code
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#connected?
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Moped::Connection#connected?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.13%   0.13%      0.000      0.000      0.000      0.000                1      String#slice!
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#ensure_connected
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Array#last
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      Mutex#synchronize
                      0.000      0.000      0.000      0.000              2/3      Moped::Node#flush
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Array#clear
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      <Class::Session::Command>#cmdno
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/3      BasicObject#!=
                      0.000      0.000      0.000      0.000              2/3      Moped::Session::Context#with_node
   0.13%   0.13%      0.000      0.000      0.000      0.000                3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.13%   0.13%      0.000      0.000      0.000      0.000                2      Fixnum#>=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Time#to_s
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Integer#round
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Kernel#block_given?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#with
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Hash#update
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#inspect
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Kernel#to_s
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Session#initialize_copy
   0.12%   0.12%      0.000      0.000      0.000      0.000                2      Kernel#remove_instance_variable
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Connection#respond
   0.11%   0.07%      0.000      0.000      0.000      0.000                1      BasicObject#!=
                      0.000      0.000      0.000      0.000              1/3      Symbol#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Array#map
   0.11%   0.11%      0.000      0.000      0.000      0.000                2      Moped::Protocol::Message#receive_replies
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Celluloid::IO::Stream#do_write
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      String#[]
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      Session::AbstractSession#ready?
   0.10%   0.10%      0.000      0.000      0.000      0.000                3      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::BSON::Extensions::Integer#__bson_dump__
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Fixnum#<=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#nodes
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Array#concat
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Node#apply_auth
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Hash#==
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Comparable#<
   0.10%   0.10%      0.000      0.000      0.000      0.000                2      Time#<=>
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Cluster#refresh
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#to_a
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Moped::Protocol::Insert#flags_as_int
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Array#include?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#http_version
                      0.000      0.000      0.000      0.000              1/2      Reel::Response#canonicalize_headers
   0.09%   0.09%      0.000      0.000      0.000      0.000                2      Kernel#freeze
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      Hash#keys
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.09%   0.09%      0.000      0.000      0.000      0.000                1      String#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      <Class::CGI>#unescape
   0.08%   0.08%      0.000      0.000      0.000      0.000                2      String#valid_encoding?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Moped::Threaded#stack
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      Thread#[]=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.08%   0.08%      0.000      0.000      0.000      0.000                1      <Class::Session::Command>#cmdno=
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      StringIO#rewind
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::Command#initialize
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      Kernel#class
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#dup
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      <Class::JSON::Ext::Generator::State>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      MyServer#handle_request
   0.07%   0.07%      0.000      0.000      0.000      0.000                1      String#to_i
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Reel::Request::Parser#url
   0.07%   0.07%      0.000      0.000      0.000      0.000                2      HTTP::Parser#request_url
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::Command#initialize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Time#usec
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#rand
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Kernel#respond_to_missing?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      TerminalUser#respond
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      StringIO#pos
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.06%   0.06%      0.000      0.000      0.000      0.000                1      Mutex#lock
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Kernel#initialize_dup
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      JSON::Ext::Generator::State#initialize_copy
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Session::AbstractSession#execute
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      IO#flush
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      JSON::Ext::Generator::State#generate
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      <Class::Regexp>#allocate
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Reel::Response#render_header
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Hash#empty?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              1/1      Mutex#synchronize
   0.05%   0.05%      0.000      0.000      0.000      0.000                1      Mutex#unlock

* indicates recursively called methods
Thread ID: 73759390
Fiber ID: 73759100
Total Time: 0.00696990800000008
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   1.97%      0.007      0.000      0.000      0.007                1      Session::AbstractSession#_initialize
                      0.006      0.000      0.006      0.000              2/2      Kernel#sleep
                      0.000      0.000      0.000      0.000              2/2      IO#readpartial
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              2/2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
--------------------------------------------------------------------------------
                      0.006      0.000      0.006      0.000              2/2      Session::AbstractSession#_initialize
  87.98%   1.42%      0.006      0.000      0.006      0.000                2      Kernel#sleep
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   5.46%   1.00%      0.000      0.000      0.000      0.000                2      IO#readpartial
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   2.19%   1.40%      0.000      0.000      0.000      0.000                2      Session::AbstractSession#ready?
                      0.000      0.000      0.000      0.000              6/6      Module#===
                      0.000      0.000      0.000      0.000              6/6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   1.42%   0.78%      0.000      0.000      0.000      0.000                2      Proc#call
                      0.000      0.000      0.000      0.000              2/2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Session::AbstractSession#_initialize
   0.98%   0.33%      0.000      0.000      0.000      0.000                2      Kernel#puts
                      0.000      0.000      0.000      0.000              2/2      IO#puts
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Kernel#puts
   0.65%   0.34%      0.000      0.000      0.000      0.000                2      IO#puts
                      0.000      0.000      0.000      0.000              3/3      IO#write
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              2/2      Proc#call
   0.63%   0.63%      0.000      0.000      0.000      0.000                2      Regexp#match
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.41%   0.41%      0.000      0.000      0.000      0.000                6      Module#===
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              6/6      Session::AbstractSession#ready?
   0.39%   0.39%      0.000      0.000      0.000      0.000                6      IO#closed?
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000              3/3      IO#puts
   0.31%   0.31%      0.000      0.000      0.000      0.000                3      IO#write

* indicates recursively called methods
***** start_time: 2013-04-25 23:34:51 +0530------------end_time: 2013-04-25 23:34:54 +0530------------total_time_required: 2.065892288
